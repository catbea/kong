(function e(t,r){if(typeof exports==="object"&&typeof module==="object")module.exports=r();else if(typeof define==="function"&&define.amd)define("pdfjs-dist/build/pdf",[],r);else if(typeof exports==="object")exports["pdfjs-dist/build/pdf"]=r();else t["pdfjs-dist/build/pdf"]=t.pdfjsDistBuildPdf=r()})(this,function(){return function(r){var n={};function a(e){if(n[e]){return n[e].exports}var t=n[e]={i:e,l:false,exports:{}};r[e].call(t.exports,t,t.exports,a);t.l=true;return t.exports}a.m=r;a.c=n;a.d=function(e,t,r){if(!a.o(e,t)){Object.defineProperty(e,t,{configurable:false,enumerable:true,get:r})}};a.n=function(t){var e=t&&t.__esModule?function e(){return t["default"]}:function e(){return t};a.d(e,"a",e);return e};a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};a.p="";return a(a.s=63)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.unreachable=t.warn=t.utf8StringToString=t.stringToUTF8String=t.stringToPDFString=t.stringToBytes=t.string32=t.shadow=t.setVerbosityLevel=t.ReadableStream=t.removeNullCharacters=t.readUint32=t.readUint16=t.readInt8=t.log2=t.loadJpegStream=t.isEvalSupported=t.isLittleEndian=t.createValidAbsoluteUrl=t.isSameOrigin=t.isNodeJS=t.isSpace=t.isString=t.isNum=t.isEmptyObj=t.isBool=t.isArrayBuffer=t.info=t.getVerbosityLevel=t.getLookupTableFactory=t.deprecated=t.createObjectURL=t.createPromiseCapability=t.createBlob=t.bytesToString=t.assert=t.arraysToBytes=t.arrayByteLength=t.FormatError=t.XRefParseException=t.Util=t.UnknownErrorException=t.UnexpectedResponseException=t.TextRenderingMode=t.StreamType=t.StatTimer=t.PasswordResponses=t.PasswordException=t.PageViewport=t.NotImplementedException=t.NativeImageDecoding=t.MissingPDFException=t.MissingDataException=t.MessageHandler=t.InvalidPDFException=t.AbortException=t.CMapCompressionType=t.ImageKind=t.FontType=t.AnnotationType=t.AnnotationFlag=t.AnnotationFieldFlag=t.AnnotationBorderStyleType=t.UNSUPPORTED_FEATURES=t.VERBOSITY_LEVELS=t.OPS=t.IDENTITY_MATRIX=t.FONT_IDENTITY_MATRIX=undefined;var o=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};r(64);var l=r(111);var n=[.001,0,0,.001,0,0];var a={NONE:"none",DECODE:"decode",DISPLAY:"display"};var i={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};var s={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};var u={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};var c={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};var f={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};var d={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};var h={UNKNOWN:0,FLATE:1,LZW:2,DCT:3,JPX:4,JBIG:5,A85:6,AHX:7,CCF:8,RL:9};var v={UNKNOWN:0,TYPE1:1,TYPE1C:2,CIDFONTTYPE0:3,CIDFONTTYPE0C:4,TRUETYPE:5,CIDFONTTYPE2:6,TYPE3:7,OPENTYPE:8,TYPE0:9,MMTYPE1:10};var p={errors:0,warnings:1,infos:5};var m={NONE:0,BINARY:1,STREAM:2};var g={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};var b=p.warnings;function _(e){b=e}function y(){return b}function A(e){if(b>=p.infos){console.log("Info: "+e)}}function S(e){if(b>=p.warnings){console.log("Warning: "+e)}}function w(e){console.log("Deprecated API usage: "+e)}function P(e){throw new Error(e)}function C(e,t){if(!e){P(t)}}var R={unknown:"unknown",forms:"forms",javaScript:"javaScript",smask:"smask",shadingPattern:"shadingPattern",font:"font"};function k(e,t){try{var r=new URL(e);if(!r.origin||r.origin==="null"){return false}}catch(e){return false}var n=new URL(t,r);return r.origin===n.origin}function x(e){if(!e){return false}switch(e.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return true;default:return false}}function T(e,t){if(!e){return null}try{var r=t?new URL(e,t):new URL(e);if(x(r)){return r}}catch(e){}return null}function E(e,t,r){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:false});return r}function O(e){var t;return function(){if(e){t=Object.create(null);e(t);e=null}return t}}var L={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};var I=function e(){function t(e,t){this.name="PasswordException";this.message=e;this.code=t}t.prototype=new Error;t.constructor=t;return t}();var F=function e(){function t(e,t){this.name="UnknownErrorException";this.message=e;this.details=t}t.prototype=new Error;t.constructor=t;return t}();var D=function e(){function t(e){this.name="InvalidPDFException";this.message=e}t.prototype=new Error;t.constructor=t;return t}();var j=function e(){function t(e){this.name="MissingPDFException";this.message=e}t.prototype=new Error;t.constructor=t;return t}();var M=function e(){function t(e,t){this.name="UnexpectedResponseException";this.message=e;this.status=t}t.prototype=new Error;t.constructor=t;return t}();var N=function e(){function t(e){this.message=e}t.prototype=new Error;t.prototype.name="NotImplementedException";t.constructor=t;return t}();var q=function e(){function t(e,t){this.begin=e;this.end=t;this.message="Missing data ["+e+", "+t+")"}t.prototype=new Error;t.prototype.name="MissingDataException";t.constructor=t;return t}();var W=function e(){function t(e){this.message=e}t.prototype=new Error;t.prototype.name="XRefParseException";t.constructor=t;return t}();var U=function e(){function t(e){this.message=e}t.prototype=new Error;t.prototype.name="FormatError";t.constructor=t;return t}();var B=function e(){function t(e){this.name="AbortException";this.message=e}t.prototype=new Error;t.constructor=t;return t}();var z=/\x00/g;function G(e){if(typeof e!=="string"){S("The argument for removeNullCharacters must be a string.");return e}return e.replace(z,"")}function H(e){C(e!==null&&(typeof e==="undefined"?"undefined":o(e))==="object"&&e.length!==undefined,"Invalid argument for bytesToString");var t=e.length;var r=8192;if(t<r){return String.fromCharCode.apply(null,e)}var n=[];for(var a=0;a<t;a+=r){var i=Math.min(a+r,t);var s=e.subarray(a,i);n.push(String.fromCharCode.apply(null,s))}return n.join("")}function X(e){C(typeof e==="string","Invalid argument for stringToBytes");var t=e.length;var r=new Uint8Array(t);for(var n=0;n<t;++n){r[n]=e.charCodeAt(n)&255}return r}function Y(e){if(e.length!==undefined){return e.length}C(e.byteLength!==undefined);return e.byteLength}function V(e){if(e.length===1&&e[0]instanceof Uint8Array){return e[0]}var t=0;var r,n=e.length;var a,i;for(r=0;r<n;r++){a=e[r];i=Y(a);t+=i}var s=0;var o=new Uint8Array(t);for(r=0;r<n;r++){a=e[r];if(!(a instanceof Uint8Array)){if(typeof a==="string"){a=X(a)}else{a=new Uint8Array(a)}}i=a.byteLength;o.set(a,s);s+=i}return o}function J(e){return String.fromCharCode(e>>24&255,e>>16&255,e>>8&255,e&255)}function Q(e){var t=1,r=0;while(e>t){t<<=1;r++}return r}function K(e,t){return e[t]<<24>>24}function Z(e,t){return e[t]<<8|e[t+1]}function $(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}function ee(){var e=new Uint8Array(4);e[0]=1;var t=new Uint32Array(e.buffer,0,1);return t[0]===1}function te(){try{new Function("");return true}catch(e){return false}}var re=[1,0,0,1,0,0];var ne=function e(){function o(){}var a=["rgb(",0,",",0,",",0,")"];o.makeCssRgb=function e(t,r,n){a[1]=t;a[3]=r;a[5]=n;return a.join("")};o.transform=function e(t,r){return[t[0]*r[0]+t[2]*r[1],t[1]*r[0]+t[3]*r[1],t[0]*r[2]+t[2]*r[3],t[1]*r[2]+t[3]*r[3],t[0]*r[4]+t[2]*r[5]+t[4],t[1]*r[4]+t[3]*r[5]+t[5]]};o.applyTransform=function e(t,r){var n=t[0]*r[0]+t[1]*r[2]+r[4];var a=t[0]*r[1]+t[1]*r[3]+r[5];return[n,a]};o.applyInverseTransform=function e(t,r){var n=r[0]*r[3]-r[1]*r[2];var a=(t[0]*r[3]-t[1]*r[2]+r[2]*r[5]-r[4]*r[3])/n;var i=(-t[0]*r[1]+t[1]*r[0]+r[4]*r[1]-r[5]*r[0])/n;return[a,i]};o.getAxialAlignedBoundingBox=function e(t,r){var n=o.applyTransform(t,r);var a=o.applyTransform(t.slice(2,4),r);var i=o.applyTransform([t[0],t[3]],r);var s=o.applyTransform([t[2],t[1]],r);return[Math.min(n[0],a[0],i[0],s[0]),Math.min(n[1],a[1],i[1],s[1]),Math.max(n[0],a[0],i[0],s[0]),Math.max(n[1],a[1],i[1],s[1])]};o.inverseTransform=function e(t){var r=t[0]*t[3]-t[1]*t[2];return[t[3]/r,-t[1]/r,-t[2]/r,t[0]/r,(t[2]*t[5]-t[4]*t[3])/r,(t[4]*t[1]-t[5]*t[0])/r]};o.apply3dTransform=function e(t,r){return[t[0]*r[0]+t[1]*r[1]+t[2]*r[2],t[3]*r[0]+t[4]*r[1]+t[5]*r[2],t[6]*r[0]+t[7]*r[1]+t[8]*r[2]]};o.singularValueDecompose2dScale=function e(t){var r=[t[0],t[2],t[1],t[3]];var n=t[0]*r[0]+t[1]*r[2];var a=t[0]*r[1]+t[1]*r[3];var i=t[2]*r[0]+t[3]*r[2];var s=t[2]*r[1]+t[3]*r[3];var o=(n+s)/2;var u=Math.sqrt((n+s)*(n+s)-4*(n*s-i*a))/2;var l=o+u||1;var c=o-u||1;return[Math.sqrt(l),Math.sqrt(c)]};o.normalizeRect=function e(t){var r=t.slice(0);if(t[0]>t[2]){r[0]=t[2];r[2]=t[0]}if(t[1]>t[3]){r[1]=t[3];r[3]=t[1]}return r};o.intersect=function e(t,r){function n(e,t){return e-t}var a=[t[0],t[2],r[0],r[2]].sort(n),i=[t[1],t[3],r[1],r[3]].sort(n),s=[];t=o.normalizeRect(t);r=o.normalizeRect(r);if(a[0]===t[0]&&a[1]===r[0]||a[0]===r[0]&&a[1]===t[0]){s[0]=a[1];s[2]=a[2]}else{return false}if(i[0]===t[1]&&i[1]===r[1]||i[0]===r[1]&&i[1]===t[1]){s[1]=i[1];s[3]=i[2]}else{return false}return s};var s=["","C","CC","CCC","CD","D","DC","DCC","DCCC","CM","","X","XX","XXX","XL","L","LX","LXX","LXXX","XC","","I","II","III","IV","V","VI","VII","VIII","IX"];o.toRoman=function e(t,r){C(Number.isInteger(t)&&t>0,"The number should be a positive integer.");var n,a=[];while(t>=1e3){t-=1e3;a.push("M")}n=t/100|0;t%=100;a.push(s[n]);n=t/10|0;t%=10;a.push(s[10+n]);a.push(s[20+t]);var i=a.join("");return r?i.toLowerCase():i};o.appendToArray=function e(t,r){Array.prototype.push.apply(t,r)};o.prependToArray=function e(t,r){Array.prototype.unshift.apply(t,r)};o.extendObj=function e(t,r){for(var n in r){t[n]=r[n]}};o.getInheritableProperty=function e(t,r,n){while(t&&!t.has(r)){t=t.get("Parent")}if(!t){return null}return n?t.getArray(r):t.get(r)};o.inherit=function e(t,r,n){t.prototype=Object.create(r.prototype);t.prototype.constructor=t;for(var a in n){t.prototype[a]=n[a]}};o.loadScript=function e(t,r){var n=document.createElement("script");var a=false;n.setAttribute("src",t);if(r){n.onload=function(){if(!a){r()}a=true}}document.getElementsByTagName("head")[0].appendChild(n)};return o}();var ae=function e(){function a(e,t,r,n,a,i){this.viewBox=e;this.scale=t;this.rotation=r;this.offsetX=n;this.offsetY=a;var s=(e[2]+e[0])/2;var o=(e[3]+e[1])/2;var u,l,c,f;r=r%360;r=r<0?r+360:r;switch(r){case 180:u=-1;l=0;c=0;f=1;break;case 90:u=0;l=1;c=1;f=0;break;case 270:u=0;l=-1;c=-1;f=0;break;default:u=1;l=0;c=0;f=-1;break}if(i){c=-c;f=-f}var d,h;var v,p;if(u===0){d=Math.abs(o-e[1])*t+n;h=Math.abs(s-e[0])*t+a;v=Math.abs(e[3]-e[1])*t;p=Math.abs(e[2]-e[0])*t}else{d=Math.abs(s-e[0])*t+n;h=Math.abs(o-e[1])*t+a;v=Math.abs(e[2]-e[0])*t;p=Math.abs(e[3]-e[1])*t}this.transform=[u*t,l*t,c*t,f*t,d-u*t*s-c*t*o,h-l*t*s-f*t*o];this.width=v;this.height=p;this.fontScale=t}a.prototype={clone:function e(t){t=t||{};var r="scale"in t?t.scale:this.scale;var n="rotation"in t?t.rotation:this.rotation;return new a(this.viewBox.slice(),r,n,this.offsetX,this.offsetY,t.dontFlip)},convertToViewportPoint:function e(t,r){return ne.applyTransform([t,r],this.transform)},convertToViewportRectangle:function e(t){var r=ne.applyTransform([t[0],t[1]],this.transform);var n=ne.applyTransform([t[2],t[3]],this.transform);return[r[0],r[1],n[0],n[1]]},convertToPdfPoint:function e(t,r){return ne.applyInverseTransform([t,r],this.transform)}};return a}();var ie=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function se(e){var t,r=e.length,n=[];if(e[0]==="þ"&&e[1]==="ÿ"){for(t=2;t<r;t+=2){n.push(String.fromCharCode(e.charCodeAt(t)<<8|e.charCodeAt(t+1)))}}else{for(t=0;t<r;++t){var a=ie[e.charCodeAt(t)];n.push(a?String.fromCharCode(a):e.charAt(t))}}return n.join("")}function oe(e){return decodeURIComponent(escape(e))}function ue(e){return unescape(encodeURIComponent(e))}function le(e){for(var t in e){return false}return true}function ce(e){return typeof e==="boolean"}function fe(e){return typeof e==="number"}function de(e){return typeof e==="string"}function he(e){return(typeof e==="undefined"?"undefined":o(e))==="object"&&e!==null&&e.byteLength!==undefined}function ve(e){return e===32||e===9||e===13||e===10}function pe(){return(typeof process==="undefined"?"undefined":o(process))==="object"&&process+""==="[object process]"}function me(){var r={};r.promise=new Promise(function(e,t){r.resolve=e;r.reject=t});return r}var ge=function e(){function l(e,t,r){while(e.length<r){e+=t}return e}function t(){this.started=Object.create(null);this.times=[];this.enabled=true}t.prototype={time:function e(t){if(!this.enabled){return}if(t in this.started){S("Timer is already running for "+t)}this.started[t]=Date.now()},timeEnd:function e(t){if(!this.enabled){return}if(!(t in this.started)){S("Timer has not been started for "+t)}this.times.push({name:t,start:this.started[t],end:Date.now()});delete this.started[t]},toString:function e(){var t,r;var n=this.times;var a="";var i=0;for(t=0,r=n.length;t<r;++t){var s=n[t]["name"];if(s.length>i){i=s.length}}for(t=0,r=n.length;t<r;++t){var o=n[t];var u=o.end-o.start;a+=l(o["name"]," ",i)+" "+u+"ms\n"}return a}};return t}();var be=function e(t,r){if(typeof Blob!=="undefined"){return new Blob([t],{type:r})}throw new Error('The "Blob" constructor is not supported.')};var _e=function e(){var p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";return function e(t,r){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;if(!n&&URL.createObjectURL){var a=be(t,r);return URL.createObjectURL(a)}var i="data:"+r+";base64,";for(var s=0,o=t.length;s<o;s+=3){var u=t[s]&255;var l=t[s+1]&255;var c=t[s+2]&255;var f=u>>2,d=(u&3)<<4|l>>4;var h=s+1<o?(l&15)<<2|c>>6:64;var v=s+2<o?c&63:64;i+=p[f]+p[d]+p[h]+p[v]}return i}}();function ye(r,n){var a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;if(!r){return Promise.resolve(undefined)}return new Promise(function(e,t){e(r.apply(a,n))})}function Ae(e){if((typeof e==="undefined"?"undefined":o(e))!=="object"){return e}switch(e.name){case"AbortException":return new B(e.message);case"MissingPDFException":return new j(e.message);case"UnexpectedResponseException":return new M(e.message,e.status);default:return new F(e.message,e.details)}}function Se(e){if(!(e instanceof Error)||e instanceof B||e instanceof j||e instanceof M||e instanceof F){return e}return new F(e.message,e.toString())}function we(e,t,r){if(t){e.resolve()}else{e.reject(r)}}function Pe(e){return Promise.resolve(e).catch(function(){})}function Ce(e,t,o){var u=this;this.sourceName=e;this.targetName=t;this.comObj=o;this.callbackId=1;this.streamId=1;this.postMessageTransfers=true;this.streamSinks=Object.create(null);this.streamControllers=Object.create(null);var l=this.callbacksCapabilities=Object.create(null);var c=this.actionHandler=Object.create(null);this._onComObjOnMessage=function(e){var t=e.data;if(t.targetName!==u.sourceName){return}if(t.stream){u._processStreamMessage(t)}else if(t.isReply){var r=t.callbackId;if(t.callbackId in l){var n=l[r];delete l[r];if("error"in t){n.reject(Ae(t.error))}else{n.resolve(t.data)}}else{throw new Error("Cannot resolve callback "+r)}}else if(t.action in c){var a=c[t.action];if(t.callbackId){var i=u.sourceName;var s=t.sourceName;Promise.resolve().then(function(){return a[0].call(a[1],t.data)}).then(function(e){o.postMessage({sourceName:i,targetName:s,isReply:true,callbackId:t.callbackId,data:e})},function(e){o.postMessage({sourceName:i,targetName:s,isReply:true,callbackId:t.callbackId,error:Se(e)})})}else if(t.streamId){u._createStreamSink(t)}else{a[0].call(a[1],t.data)}}else{throw new Error("Unknown action from worker: "+t.action)}};o.addEventListener("message",this._onComObjOnMessage)}Ce.prototype={on:function e(t,r,n){var a=this.actionHandler;if(a[t]){throw new Error('There is already an actionName called "'+t+'"')}a[t]=[r,n]},send:function e(t,r,n){var a={sourceName:this.sourceName,targetName:this.targetName,action:t,data:r};this.postMessage(a,n)},sendWithPromise:function e(t,r,n){var a=this.callbackId++;var i={sourceName:this.sourceName,targetName:this.targetName,action:t,data:r,callbackId:a};var s=me();this.callbacksCapabilities[a]=s;try{this.postMessage(i,n)}catch(e){s.reject(e)}return s.promise},sendWithStream:function e(n,a,t,r){var i=this;var s=this.streamId++;var o=this.sourceName;var u=this.targetName;return new l.ReadableStream({start:function e(t){var r=me();i.streamControllers[s]={controller:t,startCall:r,isClosed:false};i.postMessage({sourceName:o,targetName:u,action:n,streamId:s,data:a,desiredSize:t.desiredSize});return r.promise},pull:function e(t){var r=me();i.streamControllers[s].pullCall=r;i.postMessage({sourceName:o,targetName:u,stream:"pull",streamId:s,desiredSize:t.desiredSize});return r.promise},cancel:function e(t){var r=me();i.streamControllers[s].cancelCall=r;i.streamControllers[s].isClosed=true;i.postMessage({sourceName:o,targetName:u,stream:"cancel",reason:t,streamId:s});return r.promise}},t)},_createStreamSink:function e(t){var o=this;var r=this;var n=this.actionHandler[t.action];var u=t.streamId;var a=t.desiredSize;var l=this.sourceName;var c=t.sourceName;var i=me();var s=function e(t){var r=t.stream,n=t.chunk,a=t.transfers,i=t.success,s=t.reason;o.postMessage({sourceName:l,targetName:c,stream:r,streamId:u,chunk:n,success:i,reason:s},a)};var f={enqueue:function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;var n=arguments[2];if(this.isCancelled){return}var a=this.desiredSize;this.desiredSize-=r;if(a>0&&this.desiredSize<=0){this.sinkCapability=me();this.ready=this.sinkCapability.promise}s({stream:"enqueue",chunk:t,transfers:n})},close:function e(){if(this.isCancelled){return}this.isCancelled=true;s({stream:"close"});delete r.streamSinks[u]},error:function e(t){if(this.isCancelled){return}this.isCancelled=true;s({stream:"error",reason:t})},sinkCapability:i,onPull:null,onCancel:null,isCancelled:false,desiredSize:a,ready:null};f.sinkCapability.resolve();f.ready=f.sinkCapability.promise;this.streamSinks[u]=f;ye(n[0],[t.data,f],n[1]).then(function(){s({stream:"start_complete",success:true})},function(e){s({stream:"start_complete",success:false,reason:e})})},_processStreamMessage:function e(t){var i=this;var s=this.sourceName;var o=t.sourceName;var u=t.streamId;var r=function e(t){var r=t.stream,n=t.success,a=t.reason;i.comObj.postMessage({sourceName:s,targetName:o,stream:r,success:n,streamId:u,reason:a})};var n=function e(){Promise.all([i.streamControllers[t.streamId].startCall,i.streamControllers[t.streamId].pullCall,i.streamControllers[t.streamId].cancelCall].map(function(e){return e&&Pe(e.promise)})).then(function(){delete i.streamControllers[t.streamId]})};switch(t.stream){case"start_complete":we(this.streamControllers[t.streamId].startCall,t.success,Ae(t.reason));break;case"pull_complete":we(this.streamControllers[t.streamId].pullCall,t.success,Ae(t.reason));break;case"pull":if(!this.streamSinks[t.streamId]){r({stream:"pull_complete",success:true});break}if(this.streamSinks[t.streamId].desiredSize<=0&&t.desiredSize>0){this.streamSinks[t.streamId].sinkCapability.resolve()}this.streamSinks[t.streamId].desiredSize=t.desiredSize;ye(this.streamSinks[t.streamId].onPull).then(function(){r({stream:"pull_complete",success:true})},function(e){r({stream:"pull_complete",success:false,reason:e})});break;case"enqueue":C(this.streamControllers[t.streamId],"enqueue should have stream controller");if(!this.streamControllers[t.streamId].isClosed){this.streamControllers[t.streamId].controller.enqueue(t.chunk)}break;case"close":C(this.streamControllers[t.streamId],"close should have stream controller");if(this.streamControllers[t.streamId].isClosed){break}this.streamControllers[t.streamId].isClosed=true;this.streamControllers[t.streamId].controller.close();n();break;case"error":C(this.streamControllers[t.streamId],"error should have stream controller");this.streamControllers[t.streamId].controller.error(Ae(t.reason));n();break;case"cancel_complete":we(this.streamControllers[t.streamId].cancelCall,t.success,Ae(t.reason));n();break;case"cancel":if(!this.streamSinks[t.streamId]){break}ye(this.streamSinks[t.streamId].onCancel,[Ae(t.reason)]).then(function(){r({stream:"cancel_complete",success:true})},function(e){r({stream:"cancel_complete",success:false,reason:e})});this.streamSinks[t.streamId].sinkCapability.reject(Ae(t.reason));this.streamSinks[t.streamId].isCancelled=true;delete this.streamSinks[t.streamId];break;default:throw new Error("Unexpected stream case")}},postMessage:function e(t,r){if(r&&this.postMessageTransfers){this.comObj.postMessage(t,r)}else{this.comObj.postMessage(t)}},destroy:function e(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}};function Re(t,e,r){var n=new Image;n.onload=function e(){r.resolve(t,n)};n.onerror=function e(){r.resolve(t,null);S("Error during JPEG image loading")};n.src=e}t.FONT_IDENTITY_MATRIX=n;t.IDENTITY_MATRIX=re;t.OPS=g;t.VERBOSITY_LEVELS=p;t.UNSUPPORTED_FEATURES=R;t.AnnotationBorderStyleType=d;t.AnnotationFieldFlag=f;t.AnnotationFlag=c;t.AnnotationType=u;t.FontType=v;t.ImageKind=s;t.CMapCompressionType=m;t.AbortException=B;t.InvalidPDFException=D;t.MessageHandler=Ce;t.MissingDataException=q;t.MissingPDFException=j;t.NativeImageDecoding=a;t.NotImplementedException=N;t.PageViewport=ae;t.PasswordException=I;t.PasswordResponses=L;t.StatTimer=ge;t.StreamType=h;t.TextRenderingMode=i;t.UnexpectedResponseException=M;t.UnknownErrorException=F;t.Util=ne;t.XRefParseException=W;t.FormatError=U;t.arrayByteLength=Y;t.arraysToBytes=V;t.assert=C;t.bytesToString=H;t.createBlob=be;t.createPromiseCapability=me;t.createObjectURL=_e;t.deprecated=w;t.getLookupTableFactory=O;t.getVerbosityLevel=y;t.info=A;t.isArrayBuffer=he;t.isBool=ce;t.isEmptyObj=le;t.isNum=fe;t.isString=de;t.isSpace=ve;t.isNodeJS=pe;t.isSameOrigin=k;t.createValidAbsoluteUrl=T;t.isLittleEndian=ee;t.isEvalSupported=te;t.loadJpegStream=Re;t.log2=Q;t.readInt8=K;t.readUint16=Z;t.readUint32=$;t.removeNullCharacters=G;t.ReadableStream=l.ReadableStream;t.setVerbosityLevel=_;t.shadow=E;t.string32=J;t.stringToBytes=X;t.stringToPDFString=se;t.stringToUTF8String=oe;t.utf8StringToString=ue;t.warn=S;t.unreachable=P},function(e,t,r){"use strict";var n=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports=function(e){return(typeof e==="undefined"?"undefined":n(e))==="object"?e!==null:typeof e==="function"}},function(e,t,r){"use strict";var n=r(42)("wks");var a=r(20);var i=r(3).Symbol;var s=typeof i=="function";var o=e.exports=function(e){return n[e]||(n[e]=s&&i[e]||(s?i:a)("Symbol."+e))};o.store=n},function(e,t,r){"use strict";var n=e.exports=typeof window!="undefined"&&window.Math==Math?window:typeof self!="undefined"&&self.Math==Math?self:Function("return this")();if(typeof __g=="number")__g=n},function(e,t,r){"use strict";var m=r(3);var g=r(5);var b=r(11);var _=r(9);var y=r(10);var A="prototype";var n=function e(t,r,n){var a=t&e.F;var i=t&e.G;var s=t&e.S;var o=t&e.P;var u=t&e.B;var l=i?m:s?m[r]||(m[r]={}):(m[r]||{})[A];var c=i?g:g[r]||(g[r]={});var f=c[A]||(c[A]={});var d,h,v,p;if(i)n=r;for(d in n){h=!a&&l&&l[d]!==undefined;v=(h?l:n)[d];p=u&&h?y(v,m):o&&typeof v=="function"?y(Function.call,v):v;if(l)_(l,d,v,t&e.U);if(c[d]!=v)b(c,d,p);if(o&&f[d]!=v)f[d]=v}};m.core=g;n.F=1;n.G=2;n.S=4;n.P=8;n.B=16;n.W=32;n.U=64;n.R=128;e.exports=n},function(e,t,r){"use strict";var n=e.exports={version:"2.5.1"};if(typeof __e=="number")__e=n},function(e,t,r){"use strict";var n=r(1);e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},function(e,t,r){"use strict";var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.SimpleXMLParser=t.DOMSVGFactory=t.DOMCMapReaderFactory=t.DOMCanvasFactory=t.DEFAULT_LINK_REL=t.getDefaultSetting=t.LinkTarget=t.getFilenameFromUrl=t.isExternalLinkTargetSet=t.addLinkAttributes=t.RenderingCancelledException=t.CustomStyle=undefined;var n=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(e,t,r){if(t)n(e.prototype,t);if(r)n(e,r);return e}}();var o=r(0);var a=r(14);var i=s(a);function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var l="noopener noreferrer nofollow";var c="http://www.w3.org/2000/svg";var f=function(){function e(){u(this,e)}n(e,[{key:"create",value:function e(t,r){if(t<=0||r<=0){throw new Error("invalid canvas size")}var n=document.createElement("canvas");var a=n.getContext("2d");n.width=t;n.height=r;return{canvas:n,context:a}}},{key:"reset",value:function e(t,r,n){if(!t.canvas){throw new Error("canvas is not specified")}if(r<=0||n<=0){throw new Error("invalid canvas size")}t.canvas.width=r;t.canvas.height=n}},{key:"destroy",value:function e(t){if(!t.canvas){throw new Error("canvas is not specified")}t.canvas.width=0;t.canvas.height=0;t.canvas=null;t.context=null}}]);return e}();var d=function(){function i(e){var t=e.baseUrl,r=t===undefined?null:t,n=e.isCompressed,a=n===undefined?false:n;u(this,i);this.baseUrl=r;this.isCompressed=a}n(i,[{key:"fetch",value:function e(t){var i=this;var s=t.name;if(!this.baseUrl){return Promise.reject(new Error("CMap baseUrl must be specified, "+'see "PDFJS.cMapUrl" (and also "PDFJS.cMapPacked").'))}if(!s){return Promise.reject(new Error("CMap name must be specified."))}return new Promise(function(t,r){var n=i.baseUrl+s+(i.isCompressed?".bcmap":"");var a=new XMLHttpRequest;a.open("GET",n,true);if(i.isCompressed){a.responseType="arraybuffer"}a.onreadystatechange=function(){if(a.readyState!==XMLHttpRequest.DONE){return}if(a.status===200||a.status===0){var e=void 0;if(i.isCompressed&&a.response){e=new Uint8Array(a.response)}else if(!i.isCompressed&&a.responseText){e=(0,o.stringToBytes)(a.responseText)}if(e){t({cMapData:e,compressionType:i.isCompressed?o.CMapCompressionType.BINARY:o.CMapCompressionType.NONE});return}}r(new Error("Unable to load "+(i.isCompressed?"binary ":"")+"CMap at: "+n))};a.send(null)})}}]);return i}();var h=function(){function e(){u(this,e)}n(e,[{key:"create",value:function e(t,r){(0,o.assert)(t>0&&r>0,"Invalid SVG dimensions");var n=document.createElementNS(c,"svg:svg");n.setAttribute("version","1.1");n.setAttribute("width",t+"px");n.setAttribute("height",r+"px");n.setAttribute("preserveAspectRatio","none");n.setAttribute("viewBox","0 0 "+t+" "+r);return n}},{key:"createElement",value:function e(t){(0,o.assert)(typeof t==="string","Invalid SVG element type");return document.createElementNS(c,t)}}]);return e}();var v=function(){function r(e,t){u(this,r);this.nodeName=e;this.nodeValue=t;Object.defineProperty(this,"parentNode",{value:null,writable:true})}n(r,[{key:"hasChildNodes",value:function e(){return this.childNodes&&this.childNodes.length>0}},{key:"firstChild",get:function e(){return this.childNodes[0]}},{key:"nextSibling",get:function e(){var t=this.parentNode.childNodes.indexOf(this);return this.parentNode.childNodes[t+1]}},{key:"textContent",get:function e(){if(!this.childNodes){return this.nodeValue||""}return this.childNodes.map(function(e){return e.textContent}).join("")}}]);return r}();var p=function(){function e(){u(this,e)}n(e,[{key:"parseFromString",value:function e(t){var a=this;var o=[];t=t.replace(/<\?[\s\S]*?\?>|<!--[\s\S]*?-->/g,"").trim();t=t.replace(/<!DOCTYPE[^>\[]+(\[[^\]]+)?[^>]+>/g,"").trim();t=t.replace(/>([^<][\s\S]*?)</g,function(e,t){var r=o.length;var n=new v("#text",a._decodeXML(t));o.push(n);if(n.textContent.trim().length===0){return"><"}return">"+r+",<"});t=t.replace(/<!\[CDATA\[([\s\S]*?)\]\]>/g,function(e,t){var r=o.length;var n=new v("#text",t);o.push(n);return r+","});var r=/<([\w\:]+)((?:[\s\w:=]|'[^']*'|"[^"]*")*)(?:\/>|>([\d,]*)<\/[^>]+>)/g;var n=void 0;do{n=o.length;t=t.replace(r,function(e,t,r,n){var a=o.length;var i=new v(t);var s=[];if(n){n=n.split(",");n.pop();n.forEach(function(e){var t=o[+e];t.parentNode=i;s.push(t)})}i.childNodes=s;o.push(i);return a+","})}while(n<o.length);return{documentElement:o.pop()}}},{key:"_decodeXML",value:function e(t){if(t.indexOf("&")<0){return t}return t.replace(/&(#(x[0-9a-f]+|\d+)|\w+);/gi,function(e,t,r){if(r){if(r[0]==="x"){r=parseInt(r.substring(1),16)}else{r=+r}return String.fromCharCode(r)}switch(t){case"amp":return"&";case"lt":return"<";case"gt":return">";case"quot":return'"';case"apos":return"'"}return"&"+t+";"})}}]);return e}();var m=function e(){var u=["ms","Moz","Webkit","O"];var l=Object.create(null);function t(){}t.getProp=function e(t,r){if(arguments.length===1&&typeof l[t]==="string"){return l[t]}r=r||document.documentElement;var n=r.style,a,i;if(typeof n[t]==="string"){return l[t]=t}i=t.charAt(0).toUpperCase()+t.slice(1);for(var s=0,o=u.length;s<o;s++){a=u[s]+i;if(typeof n[a]==="string"){return l[t]=a}}return l[t]="undefined"};t.setProp=function e(t,r,n){var a=this.getProp(t);if(a!=="undefined"){r.style[a]=n}};return t}();var g=function e(){function e(e,t){this.message=e;this.type=t}e.prototype=new Error;e.prototype.name="RenderingCancelledException";e.constructor=e;return e}();var b={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};var _=["","_self","_blank","_parent","_top"];function y(e,t){var r=t&&t.url;e.href=e.title=r?(0,o.removeNullCharacters)(r):"";if(r){var n=t.target;if(typeof n==="undefined"){n=S("externalLinkTarget")}e.target=_[n];var a=t.rel;if(typeof a==="undefined"){a=S("externalLinkRel")}e.rel=a}}function A(e){var t=e.indexOf("#");var r=e.indexOf("?");var n=Math.min(t>0?t:e.length,r>0?r:e.length);return e.substring(e.lastIndexOf("/",n)+1,n)}function S(e){var t=i.default.PDFJS;switch(e){case"pdfBug":return t?t.pdfBug:false;case"disableAutoFetch":return t?t.disableAutoFetch:false;case"disableStream":return t?t.disableStream:false;case"disableRange":return t?t.disableRange:false;case"disableFontFace":return t?t.disableFontFace:false;case"disableCreateObjectURL":return t?t.disableCreateObjectURL:false;case"disableWebGL":return t?t.disableWebGL:true;case"cMapUrl":return t?t.cMapUrl:null;case"cMapPacked":return t?t.cMapPacked:false;case"postMessageTransfers":return t?t.postMessageTransfers:true;case"workerPort":return t?t.workerPort:null;case"workerSrc":return t?t.workerSrc:null;case"disableWorker":return t?t.disableWorker:false;case"maxImageSize":return t?t.maxImageSize:-1;case"imageResourcesPath":return t?t.imageResourcesPath:"";case"isEvalSupported":return t?t.isEvalSupported:true;case"externalLinkTarget":if(!t){return b.NONE}switch(t.externalLinkTarget){case b.NONE:case b.SELF:case b.BLANK:case b.PARENT:case b.TOP:return t.externalLinkTarget}(0,o.warn)("PDFJS.externalLinkTarget is invalid: "+t.externalLinkTarget);t.externalLinkTarget=b.NONE;return b.NONE;case"externalLinkRel":return t?t.externalLinkRel:l;case"enableStats":return!!(t&&t.enableStats);default:throw new Error("Unknown default setting: "+e)}}function w(){var e=S("externalLinkTarget");switch(e){case b.NONE:return false;case b.SELF:case b.BLANK:case b.PARENT:case b.TOP:return true}}t.CustomStyle=m;t.RenderingCancelledException=g;t.addLinkAttributes=y;t.isExternalLinkTargetSet=w;t.getFilenameFromUrl=A;t.LinkTarget=b;t.getDefaultSetting=S;t.DEFAULT_LINK_REL=l;t.DOMCanvasFactory=f;t.DOMCMapReaderFactory=d;t.DOMSVGFactory=h;t.SimpleXMLParser=p},function(e,t,r){"use strict";var i=r(3);var s=r(11);var o=r(7);var u=r(20)("src");var n="toString";var a=Function[n];var l=(""+a).split(n);r(5).inspectSource=function(e){return a.call(e)};(e.exports=function(e,t,r,n){var a=typeof r=="function";if(a)o(r,"name")||s(r,"name",t);if(e[t]===r)return;if(a)o(r,u)||s(r,u,e[t]?""+e[t]:l.join(String(t)));if(e===i){e[t]=r}else if(!n){delete e[t];s(e,t,r)}else if(e[t]){e[t]=r}else{s(e,t,r)}})(Function.prototype,n,function e(){return typeof this=="function"&&this[u]||a.call(this)})},function(e,t,r){"use strict";var i=r(16);e.exports=function(n,a,e){i(n);if(a===undefined)return n;switch(e){case 1:return function(e){return n.call(a,e)};case 2:return function(e,t){return n.call(a,e,t)};case 3:return function(e,t,r){return n.call(a,e,t,r)}}return function(){return n.apply(a,arguments)}}},function(e,t,r){"use strict";var n=r(15);var a=r(25);e.exports=r(12)?function(e,t,r){return n.f(e,t,a(1,r))}:function(e,t,r){e[t]=r;return e}},function(e,t,r){"use strict";e.exports=!r(13)(function(){return Object.defineProperty({},"a",{get:function e(){return 7}}).a!=7})},function(e,t,r){"use strict";e.exports=function(e){try{return!!e()}catch(e){return true}}},function(e,t,r){"use strict";e.exports=typeof window!=="undefined"&&window.Math===Math?window:typeof global!=="undefined"&&global.Math===Math?global:typeof self!=="undefined"&&self.Math===Math?self:{}},function(e,t,r){"use strict";var a=r(6);var i=r(39);var s=r(40);var o=Object.defineProperty;t.f=r(12)?Object.defineProperty:function e(t,r,n){a(t);r=s(r,true);a(n);if(i)try{return o(t,r,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");if("value"in n)t[r]=n.value;return t}},function(e,t,r){"use strict";e.exports=function(e){if(typeof e!="function")throw TypeError(e+" is not a function!");return e}},function(e,t,r){"use strict";var n=r(26);var a=r(27);e.exports=function(e){return n(a(e))}},function(e,t,r){"use strict";var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,r){"use strict";e.exports={}},function(e,t,r){"use strict";var n=0;var a=Math.random();e.exports=function(e){return"Symbol(".concat(e===undefined?"":e,")_",(++n+a).toString(36))}},function(e,t,r){"use strict";var n=r(68);var a=r(43);e.exports=Object.keys||function e(t){return n(t,a)}},function(e,t,r){"use strict";var n=r(15).f;var a=r(7);var i=r(2)("toStringTag");e.exports=function(e,t,r){if(e&&!a(e=r?e:e.prototype,i))n(e,i,{configurable:true,value:t})}},function(e,t,r){"use strict";var d=r(10);var h=r(87);var v=r(88);var p=r(6);var m=r(28);var g=r(89);var b={};var _={};var n=e.exports=function(e,t,r,n,a){var i=a?function(){return e}:g(e);var s=d(r,n,t?2:1);var o=0;var u,l,c,f;if(typeof i!="function")throw TypeError(e+" is not iterable!");if(v(i))for(u=m(e.length);u>o;o++){f=t?s(p(l=e[o])[0],l[1]):s(e[o]);if(f===b||f===_)return f}else for(c=i.call(e);!(l=c.next()).done;){f=h(c,s,l.value,t);if(f===b||f===_)return f}};n.BREAK=b;n.RETURN=_},function(e,t,r){"use strict";var n=r(1);var a=r(3).document;var i=n(a)&&n(a.createElement);e.exports=function(e){return i?a.createElement(e):{}}},function(e,t,r){"use strict";e.exports=function(e,t){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:t}}},function(e,t,r){"use strict";var n=r(18);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return n(e)=="String"?e.split(""):Object(e)}},function(e,t,r){"use strict";e.exports=function(e){if(e==undefined)throw TypeError("Can't call method on  "+e);return e}},function(e,t,r){"use strict";var n=r(29);var a=Math.min;e.exports=function(e){return e>0?a(n(e),9007199254740991):0}},function(e,t,r){"use strict";var n=Math.ceil;var a=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?a:n)(e)}},function(e,t,r){"use strict";var n=r(42)("keys");var a=r(20);e.exports=function(e){return n[e]||(n[e]=a(e))}},function(e,t,r){"use strict";t.f={}.propertyIsEnumerable},function(e,t,r){"use strict";var a=r(18);var i=r(2)("toStringTag");var s=a(function(){return arguments}())=="Arguments";var o=function e(t,r){try{return t[r]}catch(e){}};e.exports=function(e){var t,r,n;return e===undefined?"Undefined":e===null?"Null":typeof(r=o(t=Object(e),i))=="string"?r:s?a(t):(n=a(t))=="Object"&&typeof t.callee=="function"?"Arguments":n}},function(e,t,r){"use strict";var n=r(27);e.exports=function(e){return Object(n(e))}},function(e,t,r){"use strict";e.exports=function(e,t,r,n){if(!(e instanceof t)||n!==undefined&&n in e){throw TypeError(r+": incorrect invocation!")}return e}},function(e,t,r){"use strict";var a=r(16);function n(e){var r,n;this.promise=new e(function(e,t){if(r!==undefined||n!==undefined)throw TypeError("Bad Promise constructor");r=e;n=t});this.resolve=a(r);this.reject=a(n)}e.exports.f=function(e){return new n(e)}},function(e,t,r){"use strict";var a=r(9);e.exports=function(e,t,r){for(var n in t){a(e,n,t[n],r)}return e}},function(e,t,r){"use strict";var n=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var a=r(20)("meta");var i=r(1);var s=r(7);var o=r(15).f;var u=0;var l=Object.isExtensible||function(){return true};var c=!r(13)(function(){return l(Object.preventExtensions({}))});var f=function e(t){o(t,a,{value:{i:"O"+ ++u,w:{}}})};var d=function e(t,r){if(!i(t))return(typeof t==="undefined"?"undefined":n(t))=="symbol"?t:(typeof t=="string"?"S":"P")+t;if(!s(t,a)){if(!l(t))return"F";if(!r)return"E";f(t)}return t[a].i};var h=function e(t,r){if(!s(t,a)){if(!l(t))return true;if(!r)return false;f(t)}return t[a].w};var v=function e(t){if(c&&p.NEED&&l(t)&&!s(t,a))f(t);return t};var p=e.exports={KEY:a,NEED:false,fastKey:d,getWeak:h,onFreeze:v}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.validateResponseStatus=t.validateRangeRequestCapabilities=t.createResponseStatusError=undefined;var u=r(0);function n(e){var t=e.getResponseHeader,r=e.isHttp,n=e.rangeChunkSize,a=e.disableRange;(0,u.assert)(n>0);var i={allowRangeRequests:false,suggestedLength:undefined};if(a||!r){return i}if(t("Accept-Ranges")!=="bytes"){return i}var s=t("Content-Encoding")||"identity";if(s!=="identity"){return i}var o=parseInt(t("Content-Length"),10);if(!Number.isInteger(o)){return i}i.suggestedLength=o;if(o<=2*n){return i}i.allowRangeRequests=true;return i}function a(e,t){if(e===404||e===0&&/^file:/.test(t)){return new u.MissingPDFException('Missing PDF "'+t+'".')}return new u.UnexpectedResponseException("Unexpected server response ("+e+') while retrieving PDF "'+t+'".',e)}function i(e){return e===200||e===206}t.createResponseStatusError=a;t.validateRangeRequestCapabilities=n;t.validateResponseStatus=i},function(e,t,r){"use strict";e.exports=!r(12)&&!r(13)(function(){return Object.defineProperty(r(24)("div"),"a",{get:function e(){return 7}}).a!=7})},function(e,t,r){"use strict";var a=r(1);e.exports=function(e,t){if(!a(e))return e;var r,n;if(t&&typeof(r=e.toString)=="function"&&!a(n=r.call(e)))return n;if(typeof(r=e.valueOf)=="function"&&!a(n=r.call(e)))return n;if(!t&&typeof(r=e.toString)=="function"&&!a(n=r.call(e)))return n;throw TypeError("Can't convert object to primitive value")}},function(e,t,r){"use strict";var u=r(17);var l=r(28);var c=r(69);e.exports=function(o){return function(e,t,r){var n=u(e);var a=l(n.length);var i=c(r,a);var s;if(o&&t!=t)while(a>i){s=n[i++];if(s!=s)return true}else for(;a>i;i++){if(o||i in n){if(n[i]===t)return o||i||0}}return!o&&-1}}},function(e,t,r){"use strict";var n=r(3);var a="__core-js_shared__";var i=n[a]||(n[a]={});e.exports=function(e){return i[e]||(i[e]={})}},function(e,t,r){"use strict";e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,r){"use strict";var n=r(2)("unscopables");var a=Array.prototype;if(a[n]==undefined)r(11)(a,n,{});e.exports=function(e){a[n][e]=true}},function(e,t,r){"use strict";var n=r(32);var a={};a[r(2)("toStringTag")]="z";if(a+""!="[object z]"){r(9)(Object.prototype,"toString",function e(){return"[object "+n(this)+"]"},true)}},function(e,t,r){"use strict";var _=r(47);var y=r(4);var A=r(9);var S=r(11);var w=r(7);var P=r(19);var C=r(80);var R=r(22);var k=r(83);var x=r(2)("iterator");var T=!([].keys&&"next"in[].keys());var E="@@iterator";var O="keys";var L="values";var I=function e(){return this};e.exports=function(e,t,r,n,a,i,s){C(r,t,n);var o=function e(t){if(!T&&t in f)return f[t];switch(t){case O:return function e(){return new r(this,t)};case L:return function e(){return new r(this,t)}}return function e(){return new r(this,t)}};var u=t+" Iterator";var l=a==L;var c=false;var f=e.prototype;var d=f[x]||f[E]||a&&f[a];var h=d||o(a);var v=a?!l?h:o("entries"):undefined;var p=t=="Array"?f.entries||d:d;var m,g,b;if(p){b=k(p.call(new e));if(b!==Object.prototype&&b.next){R(b,u,true);if(!_&&!w(b,x))S(b,x,I)}}if(l&&d&&d.name!==L){c=true;h=function e(){return d.call(this)}}if((!_||s)&&(T||c||!f[x])){S(f,x,h)}P[t]=h;P[u]=I;if(a){m={values:l?h:o(L),keys:i?h:o(O),entries:v};if(s)for(g in m){if(!(g in f))A(f,g,m[g])}else y(y.P+y.F*(T||c),t,m)}return m}},function(e,t,r){"use strict";e.exports=false},function(e,t,r){"use strict";var n=r(3).document;e.exports=n&&n.documentElement},function(e,t,r){"use strict";var n=r(84);var a=r(21);var i=r(9);var s=r(3);var o=r(11);var u=r(19);var l=r(2);var c=l("iterator");var f=l("toStringTag");var d=u.Array;var h={CSSRuleList:true,CSSStyleDeclaration:false,CSSValueList:false,ClientRectList:false,DOMRectList:false,DOMStringList:false,DOMTokenList:true,DataTransferItemList:false,FileList:false,HTMLAllCollection:false,HTMLCollection:false,HTMLFormElement:false,HTMLSelectElement:false,MediaList:true,MimeTypeArray:false,NamedNodeMap:false,NodeList:true,PaintRequestList:false,Plugin:false,PluginArray:false,SVGLengthList:false,SVGNumberList:false,SVGPathSegList:false,SVGPointList:false,SVGStringList:false,SVGTransformList:false,SourceBufferList:false,StyleSheetList:true,TextTrackCueList:false,TextTrackList:false,TouchList:false};for(var v=a(h),p=0;p<v.length;p++){var m=v[p];var g=h[m];var b=s[m];var _=b&&b.prototype;var y;if(_){if(!_[c])o(_,c,d);if(!_[f])o(_,f,m);u[m]=d;if(g)for(y in n){if(!_[y])i(_,y,n[y],true)}}}},function(e,t,r){"use strict";var a=r(6);var i=r(16);var s=r(2)("species");e.exports=function(e,t){var r=a(e).constructor;var n;return r===undefined||(n=a(r)[s])==undefined?t:i(n)}},function(e,t,r){"use strict";var n=r(10);var a=r(90);var i=r(48);var s=r(24);var o=r(3);var u=o.process;var l=o.setImmediate;var c=o.clearImmediate;var f=o.MessageChannel;var d=o.Dispatch;var h=0;var v={};var p="onreadystatechange";var m,g,b;var _=function e(){var t=+this;if(v.hasOwnProperty(t)){var r=v[t];delete v[t];r()}};var y=function e(t){_.call(t.data)};if(!l||!c){l=function e(t){var r=[];var n=1;while(arguments.length>n){r.push(arguments[n++])}v[++h]=function(){a(typeof t=="function"?t:Function(t),r)};m(h);return h};c=function e(t){delete v[t]};if(r(18)(u)=="process"){m=function e(t){u.nextTick(n(_,t,1))}}else if(d&&d.now){m=function e(t){d.now(n(_,t,1))}}else if(f){g=new f;b=g.port2;g.port1.onmessage=y;m=n(b.postMessage,b,1)}else if(o.addEventListener&&typeof postMessage=="function"&&!o.importScripts){m=function e(t){o.postMessage(t+"","*")};o.addEventListener("message",y,false)}else if(p in s("script")){m=function e(t){i.appendChild(s("script"))[p]=function(){i.removeChild(this);_.call(t)}}}else{m=function e(t){setTimeout(n(_,t,1),0)}}}e.exports={set:l,clear:c}},function(e,t,r){"use strict";e.exports=function(e){try{return{e:false,v:e()}}catch(e){return{e:true,v:e}}}},function(e,t,r){"use strict";var a=r(6);var i=r(1);var s=r(35);e.exports=function(e,t){a(e);if(i(t)&&t.constructor===e)return t;var r=s.f(e);var n=r.resolve;n(t);return r.promise}},function(e,t,r){"use strict";var i=r(2)("iterator");var s=false;try{var n=[7][i]();n["return"]=function(){s=true};Array.from(n,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!s)return false;var r=false;try{var n=[7];var a=n[i]();a.next=function(){return{done:r=true}};n[i]=function(){return a};e(n)}catch(e){}return r}},function(e,t,r){"use strict";var _=r(10);var y=r(26);var A=r(33);var S=r(28);var n=r(97);e.exports=function(f,e){var d=f==1;var h=f==2;var v=f==3;var p=f==4;var m=f==6;var g=f==5||m;var b=e||n;return function(e,t,r){var n=A(e);var a=y(n);var i=_(t,r,3);var s=S(a.length);var o=0;var u=d?b(e,s):h?b(e,0):undefined;var l,c;for(;s>o;o++){if(g||o in a){l=a[o];c=i(l,o,n);if(f){if(d)u[o]=c;else if(c)switch(f){case 3:return true;case 5:return l;case 6:return o;case 2:u.push(l)}else if(p)return false}}}return m?-1:v||p?p:u}}},function(e,t,r){"use strict";var n=r(1);e.exports=function(e,t){if(!n(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.build=t.version=t.setPDFNetworkStreamClass=t.PDFPageProxy=t.PDFDocumentProxy=t.PDFWorker=t.PDFDataRangeTransport=t.LoopbackPort=t.getDocument=undefined;var n=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(e,t,r){if(t)n(e.prototype,t);if(r)n(e,r);return e}}();var d=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var h=r(0);var v=r(8);var c=r(114);var a=r(115);var i=r(14);var f=o(i);var s=r(59);var p=r(117);function o(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var m=65536;var g=false;var b;var _=false;var y=typeof document!=="undefined"&&document.currentScript?document.currentScript.src:null;var A=null;var l=false;{if(typeof window==="undefined"){g=true;if(typeof require.ensure==="undefined"){require.ensure=require("node-ensure")}l=true}else if(typeof require!=="undefined"&&typeof require.ensure==="function"){l=true}if(typeof requirejs!=="undefined"&&requirejs.toUrl){b=requirejs.toUrl("pdfjs-dist/build/pdf.worker.js")}var S=typeof requirejs!=="undefined"&&requirejs.load;A=l?function(t){require.ensure([],function(){var e;e=require("./pdf.worker.js");t(e.WorkerMessageHandler)})}:S?function(t){requirejs(["pdfjs-dist/build/pdf.worker"],function(e){t(e.WorkerMessageHandler)})}:null}var w;function P(e){w=e}function C(e){var a=new k;var t;if(typeof e==="string"){t={url:e}}else if((0,h.isArrayBuffer)(e)){t={data:e}}else if(e instanceof x){t={range:e}}else{if((typeof e==="undefined"?"undefined":d(e))!=="object"){throw new Error("Invalid parameter in getDocument, "+"need either Uint8Array, string or a parameter object")}if(!e.url&&!e.data&&!e.range){throw new Error("Invalid parameter object: need either .data, .range or .url")}t=e}var i={};var s=null;var o=null;var u=v.DOMCMapReaderFactory;for(var r in t){if(r==="url"&&typeof window!=="undefined"){i[r]=new URL(t[r],window.location).href;continue}else if(r==="range"){s=t[r];continue}else if(r==="worker"){o=t[r];continue}else if(r==="data"&&!(t[r]instanceof Uint8Array)){var n=t[r];if(typeof n==="string"){i[r]=(0,h.stringToBytes)(n)}else if((typeof n==="undefined"?"undefined":d(n))==="object"&&n!==null&&!isNaN(n.length)){i[r]=new Uint8Array(n)}else if((0,h.isArrayBuffer)(n)){i[r]=new Uint8Array(n)}else{throw new Error("Invalid PDF binary data: either typed array, "+"string or array-like object is expected in the "+"data property.")}continue}else if(r==="CMapReaderFactory"){u=t[r];continue}i[r]=t[r]}i.rangeChunkSize=i.rangeChunkSize||m;i.ignoreErrors=i.stopAtErrors!==true;var l=Object.values(h.NativeImageDecoding);if(i.nativeImageDecoderSupport===undefined||!l.includes(i.nativeImageDecoderSupport)){i.nativeImageDecoderSupport=h.NativeImageDecoding.DECODE}if(!o){var c=(0,v.getDefaultSetting)("workerPort");o=c?L.fromPort(c):new L;a._worker=o}var f=a.docId;o.promise.then(function(){if(a.destroyed){throw new Error("Loading aborted")}return R(o,i,s,f).then(function(e){if(a.destroyed){throw new Error("Loading aborted")}var t=void 0;if(s){t=new p.PDFDataTransportStream(i,s)}else if(!i.data){t=new w({source:i,disableRange:(0,v.getDefaultSetting)("disableRange")})}var r=new h.MessageHandler(f,e,o.port);r.postMessageTransfers=o.postMessageTransfers;var n=new I(r,a,t,u);a._transport=n;r.send("Ready",null)})}).catch(a._capability.reject);return a}function R(t,e,r,n){if(t.destroyed){return Promise.reject(new Error("Worker was destroyed"))}var a="2.0.104";e.disableAutoFetch=(0,v.getDefaultSetting)("disableAutoFetch");e.disableStream=(0,v.getDefaultSetting)("disableStream");e.chunkedViewerLoading=!!r;if(r){e.length=r.length;e.initialData=r.initialData}return t.messageHandler.sendWithPromise("GetDocRequest",{docId:n,apiVersion:a,source:{data:e.data,url:e.url,password:e.password,disableAutoFetch:e.disableAutoFetch,rangeChunkSize:e.rangeChunkSize,length:e.length},maxImageSize:(0,v.getDefaultSetting)("maxImageSize"),disableFontFace:(0,v.getDefaultSetting)("disableFontFace"),disableCreateObjectURL:(0,v.getDefaultSetting)("disableCreateObjectURL"),postMessageTransfers:(0,v.getDefaultSetting)("postMessageTransfers")&&!_,docBaseUrl:e.docBaseUrl,nativeImageDecoderSupport:e.nativeImageDecoderSupport,ignoreErrors:e.ignoreErrors,isEvalSupported:(0,v.getDefaultSetting)("isEvalSupported")}).then(function(e){if(t.destroyed){throw new Error("Worker was destroyed")}return e})}var k=function e(){var t=0;function r(){this._capability=(0,h.createPromiseCapability)();this._transport=null;this._worker=null;this.docId="d"+t++;this.destroyed=false;this.onPassword=null;this.onProgress=null;this.onUnsupportedFeature=null}r.prototype={get promise(){return this._capability.promise},destroy:function e(){var t=this;this.destroyed=true;var r=!this._transport?Promise.resolve():this._transport.destroy();return r.then(function(){t._transport=null;if(t._worker){t._worker.destroy();t._worker=null}})},then:function e(t,r){return this.promise.then.apply(this.promise,arguments)}};return r}();var x=function e(){function t(e,t){this.length=e;this.initialData=t;this._rangeListeners=[];this._progressListeners=[];this._progressiveReadListeners=[];this._readyCapability=(0,h.createPromiseCapability)()}t.prototype={addRangeListener:function e(t){this._rangeListeners.push(t)},addProgressListener:function e(t){this._progressListeners.push(t)},addProgressiveReadListener:function e(t){this._progressiveReadListeners.push(t)},onDataRange:function e(t,r){var n=this._rangeListeners;for(var a=0,i=n.length;a<i;++a){n[a](t,r)}},onDataProgress:function e(n){var a=this;this._readyCapability.promise.then(function(){var e=a._progressListeners;for(var t=0,r=e.length;t<r;++t){e[t](n)}})},onDataProgressiveRead:function e(n){var a=this;this._readyCapability.promise.then(function(){var e=a._progressiveReadListeners;for(var t=0,r=e.length;t<r;++t){e[t](n)}})},transportReady:function e(){this._readyCapability.resolve()},requestDataRange:function e(t,r){throw new Error("Abstract method PDFDataRangeTransport.requestDataRange")},abort:function e(){}};return t}();var T=function e(){function t(e,t,r){this.pdfInfo=e;this.transport=t;this.loadingTask=r}t.prototype={get numPages(){return this.pdfInfo.numPages},get fingerprint(){return this.pdfInfo.fingerprint},getPage:function e(t){return this.transport.getPage(t)},getPageIndex:function e(t){return this.transport.getPageIndex(t)},getDestinations:function e(){return this.transport.getDestinations()},getDestination:function e(t){return this.transport.getDestination(t)},getPageLabels:function e(){return this.transport.getPageLabels()},getPageMode:function e(){return this.transport.getPageMode()},getAttachments:function e(){return this.transport.getAttachments()},getJavaScript:function e(){return this.transport.getJavaScript()},getOutline:function e(){return this.transport.getOutline()},getMetadata:function e(){return this.transport.getMetadata()},getData:function e(){return this.transport.getData()},getDownloadInfo:function e(){return this.transport.downloadInfoCapability.promise},getStats:function e(){return this.transport.getStats()},cleanup:function e(){this.transport.startCleanup()},destroy:function e(){return this.loadingTask.destroy()}};return t}();var E=function e(){function t(e,t,r){this.pageIndex=e;this.pageInfo=t;this.transport=r;this.stats=new h.StatTimer;this.stats.enabled=(0,v.getDefaultSetting)("enableStats");this.commonObjs=r.commonObjs;this.objs=new F;this.cleanupAfterRender=false;this.pendingCleanup=false;this.intentStates=Object.create(null);this.destroyed=false}t.prototype={get pageNumber(){return this.pageIndex+1},get rotate(){return this.pageInfo.rotate},get ref(){return this.pageInfo.ref},get userUnit(){return this.pageInfo.userUnit},get view(){return this.pageInfo.view},getViewport:function e(t,r){if(arguments.length<2){r=this.rotate}return new h.PageViewport(this.view,t,r,0,0)},getAnnotations:function e(t){var r=t&&t.intent||null;if(!this.annotationsPromise||this.annotationsIntent!==r){this.annotationsPromise=this.transport.getAnnotations(this.pageIndex,r);this.annotationsIntent=r}return this.annotationsPromise},render:function e(t){var n=this;var a=this.stats;a.time("Overall");this.pendingCleanup=false;var r=t.intent==="print"?"print":"display";var i=t.canvasFactory||new v.DOMCanvasFactory;if(!this.intentStates[r]){this.intentStates[r]=Object.create(null)}var s=this.intentStates[r];if(!s.displayReadyCapability){s.receivingOperatorList=true;s.displayReadyCapability=(0,h.createPromiseCapability)();s.operatorList={fnArray:[],argsArray:[],lastChunk:false};this.stats.time("Page Request");this.transport.messageHandler.send("RenderPageRequest",{pageIndex:this.pageNumber-1,intent:r,renderInteractiveForms:t.renderInteractiveForms===true})}var o=function e(t){var r=s.renderTasks.indexOf(u);if(r>=0){s.renderTasks.splice(r,1)}if(n.cleanupAfterRender){n.pendingCleanup=true}n._tryCleanup();if(t){u.capability.reject(t)}else{u.capability.resolve()}a.timeEnd("Rendering");a.timeEnd("Overall")};var u=new j(o,t,this.objs,this.commonObjs,s.operatorList,this.pageNumber,i);u.useRequestAnimationFrame=r!=="print";if(!s.renderTasks){s.renderTasks=[]}s.renderTasks.push(u);var l=u.task;s.displayReadyCapability.promise.then(function(e){if(n.pendingCleanup){o();return}a.time("Rendering");u.initializeGraphics(e);u.operatorListChanged()}).catch(o);return l},getOperatorList:function e(){function t(){if(n.operatorList.lastChunk){n.opListReadCapability.resolve(n.operatorList);var e=n.renderTasks.indexOf(a);if(e>=0){n.renderTasks.splice(e,1)}}}var r="oplist";if(!this.intentStates[r]){this.intentStates[r]=Object.create(null)}var n=this.intentStates[r];var a;if(!n.opListReadCapability){a={};a.operatorListChanged=t;n.receivingOperatorList=true;n.opListReadCapability=(0,h.createPromiseCapability)();n.renderTasks=[];n.renderTasks.push(a);n.operatorList={fnArray:[],argsArray:[],lastChunk:false};this.transport.messageHandler.send("RenderPageRequest",{pageIndex:this.pageIndex,intent:r})}return n.opListReadCapability.promise},streamTextContent:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var r=100;return this.transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this.pageNumber-1,normalizeWhitespace:t.normalizeWhitespace===true,combineTextItems:t.disableCombineTextItems!==true},{highWaterMark:r,size:function e(t){return t.items.length}})},getTextContent:function e(t){t=t||{};var r=this.streamTextContent(t);return new Promise(function(n,e){function a(){t.read().then(function(e){var t=e.value,r=e.done;if(r){n(i);return}h.Util.extendObj(i.styles,t.styles);h.Util.appendToArray(i.items,t.items);a()},e)}var t=r.getReader();var i={items:[],styles:Object.create(null)};a()})},_destroy:function e(){this.destroyed=true;this.transport.pageCache[this.pageIndex]=null;var r=[];Object.keys(this.intentStates).forEach(function(e){if(e==="oplist"){return}var t=this.intentStates[e];t.renderTasks.forEach(function(e){var t=e.capability.promise.catch(function(){});r.push(t);e.cancel()})},this);this.objs.clear();this.annotationsPromise=null;this.pendingCleanup=false;return Promise.all(r)},cleanup:function e(){this.pendingCleanup=true;this._tryCleanup()},_tryCleanup:function e(){if(!this.pendingCleanup||Object.keys(this.intentStates).some(function(e){var t=this.intentStates[e];return t.renderTasks.length!==0||t.receivingOperatorList},this)){return}Object.keys(this.intentStates).forEach(function(e){delete this.intentStates[e]},this);this.objs.clear();this.annotationsPromise=null;this.pendingCleanup=false},_startRenderPage:function e(t,r){var n=this.intentStates[r];if(n.displayReadyCapability){n.displayReadyCapability.resolve(t)}},_renderPageChunk:function e(t,r){var n=this.intentStates[r];var a,i;for(a=0,i=t.length;a<i;a++){n.operatorList.fnArray.push(t.fnArray[a]);n.operatorList.argsArray.push(t.argsArray[a])}n.operatorList.lastChunk=t.lastChunk;for(a=0;a<n.renderTasks.length;a++){n.renderTasks[a].operatorListChanged()}if(t.lastChunk){n.receivingOperatorList=false;this._tryCleanup()}}};return t}();var O=function(){function t(e){u(this,t);this._listeners=[];this._defer=e;this._deferred=Promise.resolve(undefined)}n(t,[{key:"postMessage",value:function e(t,o){var r=this;function u(e){if((typeof e==="undefined"?"undefined":d(e))!=="object"||e===null){return e}if(l.has(e)){return l.get(e)}var t;var r;if((r=e.buffer)&&(0,h.isArrayBuffer)(r)){var n=o&&o.indexOf(r)>=0;if(e===r){t=e}else if(n){t=new e.constructor(r,e.byteOffset,e.byteLength)}else{t=new e.constructor(e)}l.set(e,t);return t}t=Array.isArray(e)?[]:{};l.set(e,t);for(var a in e){var i,s=e;while(!(i=Object.getOwnPropertyDescriptor(s,a))){s=Object.getPrototypeOf(s)}if(typeof i.value==="undefined"||typeof i.value==="function"){continue}t[a]=u(i.value)}return t}if(!this._defer){this._listeners.forEach(function(e){e.call(this,{data:t})},this);return}var l=new WeakMap;var n={data:u(t)};this._deferred.then(function(){r._listeners.forEach(function(e){e.call(this,n)},r)})}},{key:"addEventListener",value:function e(t,r){this._listeners.push(r)}},{key:"removeEventListener",value:function e(t,r){var n=this._listeners.indexOf(r);this._listeners.splice(n,1)}},{key:"terminate",value:function e(){this._listeners=[]}}]);return t}();var L=function e(){var o=0;function u(){if(typeof b!=="undefined"){return b}if((0,v.getDefaultSetting)("workerSrc")){return(0,v.getDefaultSetting)("workerSrc")}if(y){return y.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2")}throw new Error("No PDFJS.workerSrc specified")}var r=void 0;function t(){var e;if(r){return r.promise}r=(0,h.createPromiseCapability)();var t=A||function(e){h.Util.loadScript(u(),function(){e(window.pdfjsDistBuildPdfWorker.WorkerMessageHandler)})};t(r.resolve);return r.promise}function l(e){var t="importScripts('"+e+"');";return URL.createObjectURL(new Blob([t]))}var n=new WeakMap;function a(e,t){if(t&&n.has(t)){throw new Error("Cannot use more than one PDFWorker per port")}this.name=e;this.destroyed=false;this.postMessageTransfers=true;this._readyCapability=(0,h.createPromiseCapability)();this._port=null;this._webWorker=null;this._messageHandler=null;if(t){n.set(t,this);this._initializeFromPort(t);return}this._initialize()}a.prototype={get promise(){return this._readyCapability.promise},get port(){return this._port},get messageHandler(){return this._messageHandler},_initializeFromPort:function e(t){this._port=t;this._messageHandler=new h.MessageHandler("main","worker",t);this._messageHandler.on("ready",function(){});this._readyCapability.resolve()},_initialize:function e(){var r=this;if(!g&&!(0,v.getDefaultSetting)("disableWorker")&&typeof Worker!=="undefined"){var t=u();try{if(!(0,h.isSameOrigin)(window.location.href,t)){t=l(new URL(t,window.location).href)}var n=new Worker(t);var a=new h.MessageHandler("main","worker",n);var i=function e(){n.removeEventListener("error",s);a.destroy();n.terminate();if(r.destroyed){r._readyCapability.reject(new Error("Worker was destroyed"))}else{r._setupFakeWorker()}};var s=function e(){if(!r._webWorker){i()}};n.addEventListener("error",s);a.on("test",function(e){n.removeEventListener("error",s);if(r.destroyed){i();return}var t=e&&e.supportTypedArray;if(t){r._messageHandler=a;r._port=n;r._webWorker=n;if(!e.supportTransfers){r.postMessageTransfers=false;_=true}r._readyCapability.resolve();a.send("configure",{verbosity:(0,h.getVerbosityLevel)()})}else{r._setupFakeWorker();a.destroy();n.terminate()}});a.on("console_log",function(e){console.log.apply(console,e)});a.on("console_error",function(e){console.error.apply(console,e)});a.on("ready",function(e){n.removeEventListener("error",s);if(r.destroyed){i();return}try{o()}catch(e){r._setupFakeWorker()}});var o=function e(){var t=(0,v.getDefaultSetting)("postMessageTransfers")&&!_;var r=new Uint8Array([t?255:0]);try{a.send("test",r,[r.buffer])}catch(e){(0,h.info)("Cannot use postMessage transfers");r[0]=0;a.send("test",r)}};o();return}catch(e){(0,h.info)("The worker has been disabled.")}}this._setupFakeWorker()},_setupFakeWorker:function e(){var s=this;if(!g&&!(0,v.getDefaultSetting)("disableWorker")){(0,h.warn)("Setting up fake worker.");g=true}t().then(function(e){if(s.destroyed){s._readyCapability.reject(new Error("Worker was destroyed"));return}var t=Uint8Array!==Float32Array;var r=new O(t);s._port=r;var n="fake"+o++;var a=new h.MessageHandler(n+"_worker",n,r);e.setup(a,r);var i=new h.MessageHandler(n,n+"_worker",r);s._messageHandler=i;s._readyCapability.resolve()})},destroy:function e(){this.destroyed=true;if(this._webWorker){this._webWorker.terminate();this._webWorker=null}n.delete(this._port);this._port=null;if(this._messageHandler){this._messageHandler.destroy();this._messageHandler=null}}};a.fromPort=function(e){if(n.has(e)){return n.get(e)}return new a(null,e)};return a}();var I=function e(){function t(e,t,r,n){this.messageHandler=e;this.loadingTask=t;this.commonObjs=new F;this.fontLoader=new c.FontLoader(t.docId);this.CMapReaderFactory=new n({baseUrl:(0,v.getDefaultSetting)("cMapUrl"),isCompressed:(0,v.getDefaultSetting)("cMapPacked")});this.destroyed=false;this.destroyCapability=null;this._passwordCapability=null;this._networkStream=r;this._fullReader=null;this._lastProgress=null;this.pageCache=[];this.pagePromises=[];this.downloadInfoCapability=(0,h.createPromiseCapability)();this.setupMessageHandler()}t.prototype={destroy:function e(){var t=this;if(this.destroyCapability){return this.destroyCapability.promise}this.destroyed=true;this.destroyCapability=(0,h.createPromiseCapability)();if(this._passwordCapability){this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"))}var r=[];this.pageCache.forEach(function(e){if(e){r.push(e._destroy())}});this.pageCache=[];this.pagePromises=[];var n=this.messageHandler.sendWithPromise("Terminate",null);r.push(n);Promise.all(r).then(function(){t.fontLoader.clear();if(t._networkStream){t._networkStream.cancelAllRequests()}if(t.messageHandler){t.messageHandler.destroy();t.messageHandler=null}t.destroyCapability.resolve()},this.destroyCapability.reject);return this.destroyCapability.promise},setupMessageHandler:function e(){var t=this.messageHandler;var a=this.loadingTask;t.on("GetReader",function(e,n){var t=this;(0,h.assert)(this._networkStream);this._fullReader=this._networkStream.getFullReader();this._fullReader.onProgress=function(e){t._lastProgress={loaded:e.loaded,total:e.total}};n.onPull=function(){t._fullReader.read().then(function(e){var t=e.value,r=e.done;if(r){n.close();return}(0,h.assert)((0,h.isArrayBuffer)(t));n.enqueue(new Uint8Array(t),1,[t])}).catch(function(e){n.error(e)})};n.onCancel=function(e){t._fullReader.cancel(e)}},this);t.on("ReaderHeadersReady",function(e){var r=this;var t=(0,h.createPromiseCapability)();var n=this._fullReader;n.headersReady.then(function(){if(!n.isStreamingSupported||!n.isRangeSupported){if(r._lastProgress){var e=r.loadingTask;if(e.onProgress){e.onProgress(r._lastProgress)}}n.onProgress=function(e){var t=r.loadingTask;if(t.onProgress){t.onProgress({loaded:e.loaded,total:e.total})}}}t.resolve({isStreamingSupported:n.isStreamingSupported,isRangeSupported:n.isRangeSupported,contentLength:n.contentLength})},t.reject);return t.promise},this);t.on("GetRangeReader",function(e,n){(0,h.assert)(this._networkStream);var t=this._networkStream.getRangeReader(e.begin,e.end);n.onPull=function(){t.read().then(function(e){var t=e.value,r=e.done;if(r){n.close();return}(0,h.assert)((0,h.isArrayBuffer)(t));n.enqueue(new Uint8Array(t),1,[t])}).catch(function(e){n.error(e)})};n.onCancel=function(e){t.cancel(e)}},this);t.on("GetDoc",function e(t){var r=t.pdfInfo;this.numPages=t.pdfInfo.numPages;var n=this.loadingTask;var a=new T(r,this,n);this.pdfDocument=a;n._capability.resolve(a)},this);t.on("PasswordRequest",function e(t){var r=this;this._passwordCapability=(0,h.createPromiseCapability)();if(a.onPassword){var n=function e(t){r._passwordCapability.resolve({password:t})};a.onPassword(n,t.code)}else{this._passwordCapability.reject(new h.PasswordException(t.message,t.code))}return this._passwordCapability.promise},this);t.on("PasswordException",function e(t){a._capability.reject(new h.PasswordException(t.message,t.code))},this);t.on("InvalidPDF",function e(t){this.loadingTask._capability.reject(new h.InvalidPDFException(t.message))},this);t.on("MissingPDF",function e(t){this.loadingTask._capability.reject(new h.MissingPDFException(t.message))},this);t.on("UnexpectedResponse",function e(t){this.loadingTask._capability.reject(new h.UnexpectedResponseException(t.message,t.status))},this);t.on("UnknownError",function e(t){this.loadingTask._capability.reject(new h.UnknownErrorException(t.message,t.details))},this);t.on("DataLoaded",function e(t){this.downloadInfoCapability.resolve(t)},this);t.on("PDFManagerReady",function e(t){},this);t.on("StartRenderPage",function e(t){if(this.destroyed){return}var r=this.pageCache[t.pageIndex];r.stats.timeEnd("Page Request");r._startRenderPage(t.transparency,t.intent)},this);t.on("RenderPageChunk",function e(t){if(this.destroyed){return}var r=this.pageCache[t.pageIndex];r._renderPageChunk(t.operatorList,t.intent)},this);t.on("commonobj",function e(t){var r=this;if(this.destroyed){return}var n=t[0];var a=t[1];if(this.commonObjs.hasData(n)){return}switch(a){case"Font":var i=t[2];if("error"in i){var s=i.error;(0,h.warn)("Error during font loading: "+s);this.commonObjs.resolve(n,s);break}var o=null;if((0,v.getDefaultSetting)("pdfBug")&&f.default.FontInspector&&f.default["FontInspector"].enabled){o={registerFont:function e(t,r){f.default["FontInspector"].fontAdded(t,r)}}}var u=new c.FontFaceObject(i,{isEvalSupported:(0,v.getDefaultSetting)("isEvalSupported"),disableFontFace:(0,v.getDefaultSetting)("disableFontFace"),fontRegistry:o});var l=function e(t){r.commonObjs.resolve(n,u)};this.fontLoader.bind([u],l);break;case"FontPath":this.commonObjs.resolve(n,t[2]);break;default:throw new Error("Got unknown common object type "+a)}},this);t.on("obj",function e(t){if(this.destroyed){return}var r=t[0];var n=t[1];var a=t[2];var i=this.pageCache[n];var s;if(i.objs.hasData(r)){return}switch(a){case"JpegStream":s=t[3];(0,h.loadJpegStream)(r,s,i.objs);break;case"Image":s=t[3];i.objs.resolve(r,s);var o=8e6;if(s&&"data"in s&&s.data.length>o){i.cleanupAfterRender=true}break;default:throw new Error("Got unknown object type "+a)}},this);t.on("DocProgress",function e(t){if(this.destroyed){return}var r=this.loadingTask;if(r.onProgress){r.onProgress({loaded:t.loaded,total:t.total})}},this);t.on("PageError",function e(t){if(this.destroyed){return}var r=this.pageCache[t.pageNum-1];var n=r.intentStates[t.intent];if(n.displayReadyCapability){n.displayReadyCapability.reject(t.error)}else{throw new Error(t.error)}if(n.operatorList){n.operatorList.lastChunk=true;for(var a=0;a<n.renderTasks.length;a++){n.renderTasks[a].operatorListChanged()}}},this);t.on("UnsupportedFeature",function(e){if(this.destroyed){return}var t=this.loadingTask;if(t.onUnsupportedFeature){t.onUnsupportedFeature(e.featureId)}},this);t.on("JpegDecode",function(e){if(this.destroyed){return Promise.reject(new Error("Worker was destroyed"))}if(typeof document==="undefined"){return Promise.reject(new Error('"document" is not defined.'))}var t=e[0];var d=e[1];if(d!==3&&d!==1){return Promise.reject(new Error("Only 3 components or 1 component can be returned"))}return new Promise(function(c,e){var f=new Image;f.onload=function(){var e=f.width;var t=f.height;var r=e*t;var n=r*4;var a=new Uint8Array(r*d);var i=document.createElement("canvas");i.width=e;i.height=t;var s=i.getContext("2d");s.drawImage(f,0,0);var o=s.getImageData(0,0,e,t).data;var u,l;if(d===3){for(u=0,l=0;u<n;u+=4,l+=3){a[l]=o[u];a[l+1]=o[u+1];a[l+2]=o[u+2]}}else if(d===1){for(u=0,l=0;u<n;u+=4,l++){a[l]=o[u]}}c({data:a,width:e,height:t})};f.onerror=function(){e(new Error("JpegDecode failed to load image"))};f.src=t})},this);t.on("FetchBuiltInCMap",function(e){if(this.destroyed){return Promise.reject(new Error("Worker was destroyed"))}return this.CMapReaderFactory.fetch({name:e.name})},this)},getData:function e(){return this.messageHandler.sendWithPromise("GetData",null)},getPage:function e(t,r){var n=this;if(!Number.isInteger(t)||t<=0||t>this.numPages){return Promise.reject(new Error("Invalid page request"))}var a=t-1;if(a in this.pagePromises){return this.pagePromises[a]}var i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:a}).then(function(e){if(n.destroyed){throw new Error("Transport destroyed")}var t=new E(a,e,n);n.pageCache[a]=t;return t});this.pagePromises[a]=i;return i},getPageIndex:function e(t){return this.messageHandler.sendWithPromise("GetPageIndex",{ref:t}).catch(function(e){return Promise.reject(new Error(e))})},getAnnotations:function e(t,r){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:r})},getDestinations:function e(){return this.messageHandler.sendWithPromise("GetDestinations",null)},getDestination:function e(t){return this.messageHandler.sendWithPromise("GetDestination",{id:t})},getPageLabels:function e(){return this.messageHandler.sendWithPromise("GetPageLabels",null)},getPageMode:function e(){return this.messageHandler.sendWithPromise("GetPageMode",null)},getAttachments:function e(){return this.messageHandler.sendWithPromise("GetAttachments",null)},getJavaScript:function e(){return this.messageHandler.sendWithPromise("GetJavaScript",null)},getOutline:function e(){return this.messageHandler.sendWithPromise("GetOutline",null)},getMetadata:function e(){return this.messageHandler.sendWithPromise("GetMetadata",null).then(function e(t){return{info:t[0],metadata:t[1]?new s.Metadata(t[1]):null}})},getStats:function e(){return this.messageHandler.sendWithPromise("GetStats",null)},startCleanup:function e(){var n=this;this.messageHandler.sendWithPromise("Cleanup",null).then(function(){for(var e=0,t=n.pageCache.length;e<t;e++){var r=n.pageCache[e];if(r){r.cleanup()}}n.commonObjs.clear();n.fontLoader.clear()})}};return t}();var F=function e(){function t(){this.objs=Object.create(null)}t.prototype={ensureObj:function e(t){if(this.objs[t]){return this.objs[t]}var r={capability:(0,h.createPromiseCapability)(),data:null,resolved:false};this.objs[t]=r;return r},get:function e(t,r){if(r){this.ensureObj(t).capability.promise.then(r);return null}var n=this.objs[t];if(!n||!n.resolved){throw new Error("Requesting object that isn't resolved yet "+t)}return n.data},resolve:function e(t,r){var n=this.ensureObj(t);n.resolved=true;n.data=r;n.capability.resolve(r)},isResolved:function e(t){var r=this.objs;if(!r[t]){return false}return r[t].resolved},hasData:function e(t){return this.isResolved(t)},getData:function e(t){var r=this.objs;if(!r[t]||!r[t].resolved){return null}return r[t].data},clear:function e(){this.objs=Object.create(null)}};return t}();var D=function e(){function t(e){this._internalRenderTask=e;this.onContinue=null}t.prototype={get promise(){return this._internalRenderTask.capability.promise},cancel:function e(){this._internalRenderTask.cancel()},then:function e(t,r){return this.promise.then.apply(this.promise,arguments)}};return t}();var j=function e(){var n=new WeakMap;function t(e,t,r,n,a,i,s){this.callback=e;this.params=t;this.objs=r;this.commonObjs=n;this.operatorListIdx=null;this.operatorList=a;this.pageNumber=i;this.canvasFactory=s;this.running=false;this.graphicsReadyCallback=null;this.graphicsReady=false;this.useRequestAnimationFrame=false;this.cancelled=false;this.capability=(0,h.createPromiseCapability)();this.task=new D(this);this._continueBound=this._continue.bind(this);this._scheduleNextBound=this._scheduleNext.bind(this);this._nextBound=this._next.bind(this);this._canvas=t.canvasContext.canvas}t.prototype={initializeGraphics:function e(t){if(this._canvas){if(n.has(this._canvas)){throw new Error("Cannot use the same canvas during multiple render() operations. "+"Use different canvas or ensure previous operations were "+"cancelled or completed.")}n.set(this._canvas,this)}if(this.cancelled){return}if((0,v.getDefaultSetting)("pdfBug")&&f.default.StepperManager&&f.default.StepperManager.enabled){this.stepper=f.default.StepperManager.create(this.pageNumber-1);this.stepper.init(this.operatorList);this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint()}var r=this.params;this.gfx=new a.CanvasGraphics(r.canvasContext,this.commonObjs,this.objs,this.canvasFactory,r.imageLayer);this.gfx.beginDrawing({transform:r.transform,viewport:r.viewport,transparency:t,background:r.background});this.operatorListIdx=0;this.graphicsReady=true;if(this.graphicsReadyCallback){this.graphicsReadyCallback()}},cancel:function e(){this.running=false;this.cancelled=true;if(this._canvas){n.delete(this._canvas)}this.callback(new v.RenderingCancelledException("Rendering cancelled, page "+this.pageNumber,"canvas"))},operatorListChanged:function e(){if(!this.graphicsReady){if(!this.graphicsReadyCallback){this.graphicsReadyCallback=this._continueBound}return}if(this.stepper){this.stepper.updateOperatorList(this.operatorList)}if(this.running){return}this._continue()},_continue:function e(){this.running=true;if(this.cancelled){return}if(this.task.onContinue){this.task.onContinue(this._scheduleNextBound)}else{this._scheduleNext()}},_scheduleNext:function e(){if(this.useRequestAnimationFrame&&typeof window!=="undefined"){window.requestAnimationFrame(this._nextBound)}else{Promise.resolve(undefined).then(this._nextBound)}},_next:function e(){if(this.cancelled){return}this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper);if(this.operatorListIdx===this.operatorList.argsArray.length){this.running=false;if(this.operatorList.lastChunk){this.gfx.endDrawing();if(this._canvas){n.delete(this._canvas)}this.callback()}}}};return t}();var M,N;{t.version=M="2.0.104";t.build=N="012d075"}t.getDocument=C;t.LoopbackPort=O;t.PDFDataRangeTransport=x;t.PDFWorker=L;t.PDFDocumentProxy=T;t.PDFPageProxy=E;t.setPDFNetworkStreamClass=P;t.version=M;t.build=N},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.WebGLUtils=undefined;var i=r(8);var u=r(0);var n=function e(){function r(e,t,r){var n=e.createShader(r);e.shaderSource(n,t);e.compileShader(n);var a=e.getShaderParameter(n,e.COMPILE_STATUS);if(!a){var i=e.getShaderInfoLog(n);throw new Error("Error during shader compilation: "+i)}return n}function c(e,t){return r(e,t,e.VERTEX_SHADER)}function f(e,t){return r(e,t,e.FRAGMENT_SHADER)}function d(e,t){var r=e.createProgram();for(var n=0,a=t.length;n<a;++n){e.attachShader(r,t[n])}e.linkProgram(r);var i=e.getProgramParameter(r,e.LINK_STATUS);if(!i){var s=e.getProgramInfoLog(r);throw new Error("Error during program linking: "+s)}return r}function h(e,t,r){e.activeTexture(r);var n=e.createTexture();e.bindTexture(e.TEXTURE_2D,n);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST);e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t);return n}var v,p;function m(){if(v){return}p=document.createElement("canvas");v=p.getContext("webgl",{premultipliedalpha:false})}var g="  attribute vec2 a_position;                                      attribute vec2 a_texCoord;                                                                                                      uniform vec2 u_resolution;                                                                                                      varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec2 clipSpace = (a_position / u_resolution) * 2.0 - 1.0;       gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_texCoord = a_texCoord;                                      }                                                             ";var b="  precision mediump float;                                                                                                        uniform vec4 u_backdrop;                                        uniform int u_subtype;                                          uniform sampler2D u_image;                                      uniform sampler2D u_mask;                                                                                                       varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec4 imageColor = texture2D(u_image, v_texCoord);               vec4 maskColor = texture2D(u_mask, v_texCoord);                 if (u_backdrop.a > 0.0) {                                         maskColor.rgb = maskColor.rgb * maskColor.a +                                   u_backdrop.rgb * (1.0 - maskColor.a);         }                                                               float lum;                                                      if (u_subtype == 0) {                                             lum = maskColor.a;                                            } else {                                                          lum = maskColor.r * 0.3 + maskColor.g * 0.59 +                        maskColor.b * 0.11;                                     }                                                               imageColor.a *= lum;                                            imageColor.rgb *= imageColor.a;                                 gl_FragColor = imageColor;                                    }                                                             ";var _=null;function y(){var e,t;m();e=p;p=null;t=v;v=null;var r=c(t,g);var n=f(t,b);var a=d(t,[r,n]);t.useProgram(a);var i={};i.gl=t;i.canvas=e;i.resolutionLocation=t.getUniformLocation(a,"u_resolution");i.positionLocation=t.getAttribLocation(a,"a_position");i.backdropLocation=t.getUniformLocation(a,"u_backdrop");i.subtypeLocation=t.getUniformLocation(a,"u_subtype");var s=t.getAttribLocation(a,"a_texCoord");var o=t.getUniformLocation(a,"u_image");var u=t.getUniformLocation(a,"u_mask");var l=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,l);t.bufferData(t.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),t.STATIC_DRAW);t.enableVertexAttribArray(s);t.vertexAttribPointer(s,2,t.FLOAT,false,0,0);t.uniform1i(o,0);t.uniform1i(u,1);_=i}function t(e,t,r){var n=e.width,a=e.height;if(!_){y()}var i=_,s=i.canvas,o=i.gl;s.width=n;s.height=a;o.viewport(0,0,o.drawingBufferWidth,o.drawingBufferHeight);o.uniform2f(i.resolutionLocation,n,a);if(r.backdrop){o.uniform4f(i.resolutionLocation,r.backdrop[0],r.backdrop[1],r.backdrop[2],1)}else{o.uniform4f(i.resolutionLocation,0,0,0,0)}o.uniform1i(i.subtypeLocation,r.subtype==="Luminosity"?1:0);var u=h(o,e,o.TEXTURE0);var l=h(o,t,o.TEXTURE1);var c=o.createBuffer();o.bindBuffer(o.ARRAY_BUFFER,c);o.bufferData(o.ARRAY_BUFFER,new Float32Array([0,0,n,0,0,a,0,a,n,0,n,a]),o.STATIC_DRAW);o.enableVertexAttribArray(i.positionLocation);o.vertexAttribPointer(i.positionLocation,2,o.FLOAT,false,0,0);o.clearColor(0,0,0,0);o.enable(o.BLEND);o.blendFunc(o.ONE,o.ONE_MINUS_SRC_ALPHA);o.clear(o.COLOR_BUFFER_BIT);o.drawArrays(o.TRIANGLES,0,6);o.flush();o.deleteTexture(u);o.deleteTexture(l);o.deleteBuffer(c);return s}var s="  attribute vec2 a_position;                                      attribute vec3 a_color;                                                                                                         uniform vec2 u_resolution;                                      uniform vec2 u_scale;                                           uniform vec2 u_offset;                                                                                                          varying vec4 v_color;                                                                                                           void main() {                                                     vec2 position = (a_position + u_offset) * u_scale;              vec2 clipSpace = (position / u_resolution) * 2.0 - 1.0;         gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_color = vec4(a_color / 255.0, 1.0);                         }                                                             ";var o="  precision mediump float;                                                                                                        varying vec4 v_color;                                                                                                           void main() {                                                     gl_FragColor = v_color;                                       }                                                             ";var T=null;function E(){var e,t;m();e=p;p=null;t=v;v=null;var r=c(t,s);var n=f(t,o);var a=d(t,[r,n]);t.useProgram(a);var i={};i.gl=t;i.canvas=e;i.resolutionLocation=t.getUniformLocation(a,"u_resolution");i.scaleLocation=t.getUniformLocation(a,"u_scale");i.offsetLocation=t.getUniformLocation(a,"u_offset");i.positionLocation=t.getAttribLocation(a,"a_position");i.colorLocation=t.getAttribLocation(a,"a_color");T=i}function n(e,t,r,n,a){if(!T){E()}var i=T,s=i.canvas,o=i.gl;s.width=e;s.height=t;o.viewport(0,0,o.drawingBufferWidth,o.drawingBufferHeight);o.uniform2f(i.resolutionLocation,e,t);var u=0;var l,c,f;for(l=0,c=n.length;l<c;l++){switch(n[l].type){case"lattice":f=n[l].coords.length/n[l].verticesPerRow|0;u+=(f-1)*(n[l].verticesPerRow-1)*6;break;case"triangles":u+=n[l].coords.length;break}}var d=new Float32Array(u*2);var h=new Uint8Array(u*3);var v=a.coords,p=a.colors;var m=0,g=0;for(l=0,c=n.length;l<c;l++){var b=n[l],_=b.coords,y=b.colors;switch(b.type){case"lattice":var A=b.verticesPerRow;f=_.length/A|0;for(var S=1;S<f;S++){var w=S*A+1;for(var P=1;P<A;P++,w++){d[m]=v[_[w-A-1]];d[m+1]=v[_[w-A-1]+1];d[m+2]=v[_[w-A]];d[m+3]=v[_[w-A]+1];d[m+4]=v[_[w-1]];d[m+5]=v[_[w-1]+1];h[g]=p[y[w-A-1]];h[g+1]=p[y[w-A-1]+1];h[g+2]=p[y[w-A-1]+2];h[g+3]=p[y[w-A]];h[g+4]=p[y[w-A]+1];h[g+5]=p[y[w-A]+2];h[g+6]=p[y[w-1]];h[g+7]=p[y[w-1]+1];h[g+8]=p[y[w-1]+2];d[m+6]=d[m+2];d[m+7]=d[m+3];d[m+8]=d[m+4];d[m+9]=d[m+5];d[m+10]=v[_[w]];d[m+11]=v[_[w]+1];h[g+9]=h[g+3];h[g+10]=h[g+4];h[g+11]=h[g+5];h[g+12]=h[g+6];h[g+13]=h[g+7];h[g+14]=h[g+8];h[g+15]=p[y[w]];h[g+16]=p[y[w]+1];h[g+17]=p[y[w]+2];m+=12;g+=18}}break;case"triangles":for(var C=0,R=_.length;C<R;C++){d[m]=v[_[C]];d[m+1]=v[_[C]+1];h[g]=p[y[C]];h[g+1]=p[y[C]+1];h[g+2]=p[y[C]+2];m+=2;g+=3}break}}if(r){o.clearColor(r[0]/255,r[1]/255,r[2]/255,1)}else{o.clearColor(0,0,0,0)}o.clear(o.COLOR_BUFFER_BIT);var k=o.createBuffer();o.bindBuffer(o.ARRAY_BUFFER,k);o.bufferData(o.ARRAY_BUFFER,d,o.STATIC_DRAW);o.enableVertexAttribArray(i.positionLocation);o.vertexAttribPointer(i.positionLocation,2,o.FLOAT,false,0,0);var x=o.createBuffer();o.bindBuffer(o.ARRAY_BUFFER,x);o.bufferData(o.ARRAY_BUFFER,h,o.STATIC_DRAW);o.enableVertexAttribArray(i.colorLocation);o.vertexAttribPointer(i.colorLocation,3,o.UNSIGNED_BYTE,false,0,0);o.uniform2f(i.scaleLocation,a.scaleX,a.scaleY);o.uniform2f(i.offsetLocation,a.offsetX,a.offsetY);o.drawArrays(o.TRIANGLES,0,u);o.flush();o.deleteBuffer(k);o.deleteBuffer(x);return s}function a(){if(_&&_.canvas){_.canvas.width=0;_.canvas.height=0}if(T&&T.canvas){T.canvas.width=0;T.canvas.height=0}_=null;T=null}return{get isEnabled(){if((0,i.getDefaultSetting)("disableWebGL")){return false}var e=false;try{m();e=!!v}catch(e){}return(0,u.shadow)(this,"isEnabled",e)},composeSMask:t,drawFigures:n,clear:a}}();t.WebGLUtils=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.Metadata=undefined;var n=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(e,t,r){if(t)n(e.prototype,t);if(r)n(e,r);return e}}();var a=r(0);var i=r(8);function s(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var o=function(){function r(e){s(this,r);(0,a.assert)(typeof e==="string","Metadata: input is not a string");e=this._repair(e);var t=new i.SimpleXMLParser;e=t.parseFromString(e);this._metadata=Object.create(null);this._parse(e)}n(r,[{key:"_repair",value:function e(t){return t.replace(/>\\376\\377([^<]+)/g,function(e,t){var r=t.replace(/\\([0-3])([0-7])([0-7])/g,function(e,t,r,n){return String.fromCharCode(t*64+r*8+n*1)});var n="";for(var a=0,i=r.length;a<i;a+=2){var s=r.charCodeAt(a)*256+r.charCodeAt(a+1);if(s>=32&&s<127&&s!==60&&s!==62&&s!==38){n+=String.fromCharCode(s)}else{n+="&#x"+(65536+s).toString(16).substring(1)+";"}}return">"+n})}},{key:"_parse",value:function e(t){var r=t.documentElement;if(r.nodeName.toLowerCase()!=="rdf:rdf"){r=r.firstChild;while(r&&r.nodeName.toLowerCase()!=="rdf:rdf"){r=r.nextSibling}}var n=r?r.nodeName.toLowerCase():null;if(!r||n!=="rdf:rdf"||!r.hasChildNodes()){return}var a=r.childNodes;for(var i=0,s=a.length;i<s;i++){var o=a[i];if(o.nodeName.toLowerCase()!=="rdf:description"){continue}for(var u=0,l=o.childNodes.length;u<l;u++){if(o.childNodes[u].nodeName.toLowerCase()!=="#text"){var c=o.childNodes[u];var f=c.nodeName.toLowerCase();this._metadata[f]=c.textContent.trim()}}}}},{key:"get",value:function e(t){return this._metadata[t]||null}},{key:"getAll",value:function e(){return this._metadata}},{key:"has",value:function e(t){return typeof this._metadata[t]!=="undefined"}}]);return r}();t.Metadata=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.AnnotationLayer=undefined;var a=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(e,t,r){if(t)n(e.prototype,t);if(r)n(e,r);return e}}();var d=r(8);var h=r(0);function i(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function s(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}function o(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var u=function(){function e(){o(this,e)}a(e,null,[{key:"create",value:function e(t){var r=t.data.annotationType;switch(r){case h.AnnotationType.LINK:return new c(t);case h.AnnotationType.TEXT:return new f(t);case h.AnnotationType.WIDGET:var n=t.data.fieldType;switch(n){case"Tx":return new p(t);case"Btn":if(t.data.radioButton){return new g(t)}else if(t.data.checkBox){return new m(t)}(0,h.warn)("Unimplemented button widget annotation: pushbutton");break;case"Ch":return new b(t)}return new v(t);case h.AnnotationType.POPUP:return new _(t);case h.AnnotationType.LINE:return new A(t);case h.AnnotationType.SQUARE:return new S(t);case h.AnnotationType.CIRCLE:return new w(t);case h.AnnotationType.POLYLINE:return new P(t);case h.AnnotationType.POLYGON:return new C(t);case h.AnnotationType.HIGHLIGHT:return new R(t);case h.AnnotationType.UNDERLINE:return new k(t);case h.AnnotationType.SQUIGGLY:return new x(t);case h.AnnotationType.STRIKEOUT:return new T(t);case h.AnnotationType.STAMP:return new E(t);case h.AnnotationType.FILEATTACHMENT:return new O(t);default:return new l(t)}}}]);return e}();var l=function(){function n(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;o(this,n);this.isRenderable=t;this.data=e.data;this.layer=e.layer;this.page=e.page;this.viewport=e.viewport;this.linkService=e.linkService;this.downloadManager=e.downloadManager;this.imageResourcesPath=e.imageResourcesPath;this.renderInteractiveForms=e.renderInteractiveForms;this.svgFactory=e.svgFactory;if(t){this.container=this._createContainer(r)}}a(n,[{key:"_createContainer",value:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;var r=this.data,n=this.page,a=this.viewport;var i=document.createElement("section");var s=r.rect[2]-r.rect[0];var o=r.rect[3]-r.rect[1];i.setAttribute("data-annotation-id",r.id);var u=h.Util.normalizeRect([r.rect[0],n.view[3]-r.rect[1]+n.view[1],r.rect[2],n.view[3]-r.rect[3]+n.view[1]]);d.CustomStyle.setProp("transform",i,"matrix("+a.transform.join(",")+")");d.CustomStyle.setProp("transformOrigin",i,-u[0]+"px "+-u[1]+"px");if(!t&&r.borderStyle.width>0){i.style.borderWidth=r.borderStyle.width+"px";if(r.borderStyle.style!==h.AnnotationBorderStyleType.UNDERLINE){s=s-2*r.borderStyle.width;o=o-2*r.borderStyle.width}var l=r.borderStyle.horizontalCornerRadius;var c=r.borderStyle.verticalCornerRadius;if(l>0||c>0){var f=l+"px / "+c+"px";d.CustomStyle.setProp("borderRadius",i,f)}switch(r.borderStyle.style){case h.AnnotationBorderStyleType.SOLID:i.style.borderStyle="solid";break;case h.AnnotationBorderStyleType.DASHED:i.style.borderStyle="dashed";break;case h.AnnotationBorderStyleType.BEVELED:(0,h.warn)("Unimplemented border style: beveled");break;case h.AnnotationBorderStyleType.INSET:(0,h.warn)("Unimplemented border style: inset");break;case h.AnnotationBorderStyleType.UNDERLINE:i.style.borderBottomStyle="solid";break;default:break}if(r.color){i.style.borderColor=h.Util.makeCssRgb(r.color[0]|0,r.color[1]|0,r.color[2]|0)}else{i.style.borderWidth=0}}i.style.left=u[0]+"px";i.style.top=u[1]+"px";i.style.width=s+"px";i.style.height=o+"px";return i}},{key:"_createPopup",value:function e(t,r,n){if(!r){r=document.createElement("div");r.style.height=t.style.height;r.style.width=t.style.width;t.appendChild(r)}var a=new y({container:t,trigger:r,color:n.color,title:n.title,contents:n.contents,hideWrapper:true});var i=a.render();i.style.left=t.style.width;t.appendChild(i)}},{key:"render",value:function e(){throw new Error("Abstract method `AnnotationElement.render` called")}}]);return n}();var c=function(e){s(r,e);function r(e){o(this,r);var t=!!(e.data.url||e.data.dest||e.data.action);return i(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e,t))}a(r,[{key:"render",value:function e(){this.container.className="linkAnnotation";var t=document.createElement("a");(0,d.addLinkAttributes)(t,{url:this.data.url,target:this.data.newWindow?d.LinkTarget.BLANK:undefined});if(!this.data.url){if(this.data.action){this._bindNamedAction(t,this.data.action)}else{this._bindLink(t,this.data.dest)}}this.container.appendChild(t);return this.container}},{key:"_bindLink",value:function e(t,r){var n=this;t.href=this.linkService.getDestinationHash(r);t.onclick=function(){if(r){n.linkService.navigateTo(r)}return false};if(r){t.className="internalLink"}}},{key:"_bindNamedAction",value:function e(t,r){var n=this;t.href=this.linkService.getAnchorUrl("");t.onclick=function(){n.linkService.executeNamedAction(r);return false};t.className="internalLink"}}]);return r}(l);var f=function(e){s(r,e);function r(e){o(this,r);var t=!!(e.data.hasPopup||e.data.title||e.data.contents);return i(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e,t))}a(r,[{key:"render",value:function e(){this.container.className="textAnnotation";var t=document.createElement("img");t.style.height=this.container.style.height;t.style.width=this.container.style.width;t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg";t.alt="[{{type}} Annotation]";t.dataset.l10nId="text_annotation_type";t.dataset.l10nArgs=JSON.stringify({type:this.data.name});if(!this.data.hasPopup){this._createPopup(this.container,t,this.data)}this.container.appendChild(t);return this.container}}]);return r}(l);var v=function(e){s(t,e);function t(){o(this,t);return i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}a(t,[{key:"render",value:function e(){return this.container}}]);return t}(l);var p=function(e){s(r,e);function r(e){o(this,r);var t=e.renderInteractiveForms||!e.data.hasAppearance&&!!e.data.fieldValue;return i(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e,t))}a(r,[{key:"render",value:function e(){var t=["left","center","right"];this.container.className="textWidgetAnnotation";var r=null;if(this.renderInteractiveForms){if(this.data.multiLine){r=document.createElement("textarea");r.textContent=this.data.fieldValue}else{r=document.createElement("input");r.type="text";r.setAttribute("value",this.data.fieldValue)}r.disabled=this.data.readOnly;if(this.data.maxLen!==null){r.maxLength=this.data.maxLen}if(this.data.comb){var n=this.data.rect[2]-this.data.rect[0];var a=n/this.data.maxLen;r.classList.add("comb");r.style.letterSpacing="calc("+a+"px - 1ch)"}}else{r=document.createElement("div");r.textContent=this.data.fieldValue;r.style.verticalAlign="middle";r.style.display="table-cell";var i=null;if(this.data.fontRefName){i=this.page.commonObjs.getData(this.data.fontRefName)}this._setTextStyle(r,i)}if(this.data.textAlignment!==null){r.style.textAlign=t[this.data.textAlignment]}this.container.appendChild(r);return this.container}},{key:"_setTextStyle",value:function e(t,r){var n=t.style;n.fontSize=this.data.fontSize+"px";n.direction=this.data.fontDirection<0?"rtl":"ltr";if(!r){return}n.fontWeight=r.black?r.bold?"900":"bold":r.bold?"bold":"normal";n.fontStyle=r.italic?"italic":"normal";var a=r.loadedName?'"'+r.loadedName+'", ':"";var i=r.fallbackName||"Helvetica, sans-serif";n.fontFamily=a+i}}]);return r}(v);var m=function(e){s(t,e);function t(e){o(this,t);return i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,e.renderInteractiveForms))}a(t,[{key:"render",value:function e(){this.container.className="buttonWidgetAnnotation checkBox";var t=document.createElement("input");t.disabled=this.data.readOnly;t.type="checkbox";if(this.data.fieldValue&&this.data.fieldValue!=="Off"){t.setAttribute("checked",true)}this.container.appendChild(t);return this.container}}]);return t}(v);var g=function(e){s(t,e);function t(e){o(this,t);return i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,e.renderInteractiveForms))}a(t,[{key:"render",value:function e(){this.container.className="buttonWidgetAnnotation radioButton";var t=document.createElement("input");t.disabled=this.data.readOnly;t.type="radio";t.name=this.data.fieldName;if(this.data.fieldValue===this.data.buttonValue){t.setAttribute("checked",true)}this.container.appendChild(t);return this.container}}]);return t}(v);var b=function(e){s(t,e);function t(e){o(this,t);return i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,e.renderInteractiveForms))}a(t,[{key:"render",value:function e(){this.container.className="choiceWidgetAnnotation";var t=document.createElement("select");t.disabled=this.data.readOnly;if(!this.data.combo){t.size=this.data.options.length;if(this.data.multiSelect){t.multiple=true}}for(var r=0,n=this.data.options.length;r<n;r++){var a=this.data.options[r];var i=document.createElement("option");i.textContent=a.displayValue;i.value=a.exportValue;if(this.data.fieldValue.indexOf(a.displayValue)>=0){i.setAttribute("selected",true)}t.appendChild(i)}this.container.appendChild(t);return this.container}}]);return t}(v);var _=function(e){s(r,e);function r(e){o(this,r);var t=!!(e.data.title||e.data.contents);return i(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e,t))}a(r,[{key:"render",value:function e(){var t=["Line","Square","Circle","PolyLine","Polygon"];this.container.className="popupAnnotation";if(t.indexOf(this.data.parentType)>=0){return this.container}var r='[data-annotation-id="'+this.data.parentId+'"]';var n=this.layer.querySelector(r);if(!n){return this.container}var a=new y({container:this.container,trigger:n,color:this.data.color,title:this.data.title,contents:this.data.contents});var i=parseFloat(n.style.left);var s=parseFloat(n.style.width);d.CustomStyle.setProp("transformOrigin",this.container,-(i+s)+"px -"+n.style.top);this.container.style.left=i+s+"px";this.container.appendChild(a.render());return this.container}}]);return r}(l);var y=function(){function t(e){o(this,t);this.container=e.container;this.trigger=e.trigger;this.color=e.color;this.title=e.title;this.contents=e.contents;this.hideWrapper=e.hideWrapper||false;this.pinned=false}a(t,[{key:"render",value:function e(){var t=.7;var r=document.createElement("div");r.className="popupWrapper";this.hideElement=this.hideWrapper?r:this.container;this.hideElement.setAttribute("hidden",true);var n=document.createElement("div");n.className="popup";var a=this.color;if(a){var i=t*(255-a[0])+a[0];var s=t*(255-a[1])+a[1];var o=t*(255-a[2])+a[2];n.style.backgroundColor=h.Util.makeCssRgb(i|0,s|0,o|0)}var u=this._formatContents(this.contents);var l=document.createElement("h1");l.textContent=this.title;this.trigger.addEventListener("click",this._toggle.bind(this));this.trigger.addEventListener("mouseover",this._show.bind(this,false));this.trigger.addEventListener("mouseout",this._hide.bind(this,false));n.addEventListener("click",this._hide.bind(this,true));n.appendChild(l);n.appendChild(u);r.appendChild(n);return r}},{key:"_formatContents",value:function e(t){var r=document.createElement("p");var n=t.split(/(?:\r\n?|\n)/);for(var a=0,i=n.length;a<i;++a){var s=n[a];r.appendChild(document.createTextNode(s));if(a<i-1){r.appendChild(document.createElement("br"))}}return r}},{key:"_toggle",value:function e(){if(this.pinned){this._hide(true)}else{this._show(true)}}},{key:"_show",value:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;if(t){this.pinned=true}if(this.hideElement.hasAttribute("hidden")){this.hideElement.removeAttribute("hidden");this.container.style.zIndex+=1}}},{key:"_hide",value:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;if(t){this.pinned=false}if(!this.hideElement.hasAttribute("hidden")&&!this.pinned){this.hideElement.setAttribute("hidden",true);this.container.style.zIndex-=1}}}]);return t}();var A=function(e){s(r,e);function r(e){o(this,r);var t=!!(e.data.hasPopup||e.data.title||e.data.contents);return i(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e,t,true))}a(r,[{key:"render",value:function e(){this.container.className="lineAnnotation";var t=this.data;var r=t.rect[2]-t.rect[0];var n=t.rect[3]-t.rect[1];var a=this.svgFactory.create(r,n);var i=this.svgFactory.createElement("svg:line");i.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]);i.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]);i.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]);i.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]);i.setAttribute("stroke-width",t.borderStyle.width);i.setAttribute("stroke","transparent");a.appendChild(i);this.container.append(a);this._createPopup(this.container,i,t);return this.container}}]);return r}(l);var S=function(e){s(r,e);function r(e){o(this,r);var t=!!(e.data.hasPopup||e.data.title||e.data.contents);return i(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e,t,true))}a(r,[{key:"render",value:function e(){this.container.className="squareAnnotation";var t=this.data;var r=t.rect[2]-t.rect[0];var n=t.rect[3]-t.rect[1];var a=this.svgFactory.create(r,n);var i=t.borderStyle.width;var s=this.svgFactory.createElement("svg:rect");s.setAttribute("x",i/2);s.setAttribute("y",i/2);s.setAttribute("width",r-i);s.setAttribute("height",n-i);s.setAttribute("stroke-width",i);s.setAttribute("stroke","transparent");s.setAttribute("fill","none");a.appendChild(s);this.container.append(a);this._createPopup(this.container,s,t);return this.container}}]);return r}(l);var w=function(e){s(r,e);function r(e){o(this,r);var t=!!(e.data.hasPopup||e.data.title||e.data.contents);return i(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e,t,true))}a(r,[{key:"render",value:function e(){this.container.className="circleAnnotation";var t=this.data;var r=t.rect[2]-t.rect[0];var n=t.rect[3]-t.rect[1];var a=this.svgFactory.create(r,n);var i=t.borderStyle.width;var s=this.svgFactory.createElement("svg:ellipse");s.setAttribute("cx",r/2);s.setAttribute("cy",n/2);s.setAttribute("rx",r/2-i/2);s.setAttribute("ry",n/2-i/2);s.setAttribute("stroke-width",i);s.setAttribute("stroke","transparent");s.setAttribute("fill","none");a.appendChild(s);this.container.append(a);this._createPopup(this.container,s,t);return this.container}}]);return r}(l);var P=function(e){s(n,e);function n(e){o(this,n);var t=!!(e.data.hasPopup||e.data.title||e.data.contents);var r=i(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,t,true));r.containerClassName="polylineAnnotation";r.svgElementName="svg:polyline";return r}a(n,[{key:"render",value:function e(){this.container.className=this.containerClassName;var t=this.data;var r=t.rect[2]-t.rect[0];var n=t.rect[3]-t.rect[1];var a=this.svgFactory.create(r,n);var i=t.vertices;var s=[];for(var o=0,u=i.length;o<u;o++){var l=i[o].x-t.rect[0];var c=t.rect[3]-i[o].y;s.push(l+","+c)}s=s.join(" ");var f=t.borderStyle.width;var d=this.svgFactory.createElement(this.svgElementName);d.setAttribute("points",s);d.setAttribute("stroke-width",f);d.setAttribute("stroke","transparent");d.setAttribute("fill","none");a.appendChild(d);this.container.append(a);this._createPopup(this.container,d,t);return this.container}}]);return n}(l);var C=function(e){s(r,e);function r(e){o(this,r);var t=i(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e));t.containerClassName="polygonAnnotation";t.svgElementName="svg:polygon";return t}return r}(P);var R=function(e){s(r,e);function r(e){o(this,r);var t=!!(e.data.hasPopup||e.data.title||e.data.contents);return i(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e,t,true))}a(r,[{key:"render",value:function e(){this.container.className="highlightAnnotation";if(!this.data.hasPopup){this._createPopup(this.container,null,this.data)}return this.container}}]);return r}(l);var k=function(e){s(r,e);function r(e){o(this,r);var t=!!(e.data.hasPopup||e.data.title||e.data.contents);return i(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e,t,true))}a(r,[{key:"render",value:function e(){this.container.className="underlineAnnotation";if(!this.data.hasPopup){this._createPopup(this.container,null,this.data)}return this.container}}]);return r}(l);var x=function(e){s(r,e);function r(e){o(this,r);var t=!!(e.data.hasPopup||e.data.title||e.data.contents);return i(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e,t,true))}a(r,[{key:"render",value:function e(){this.container.className="squigglyAnnotation";if(!this.data.hasPopup){this._createPopup(this.container,null,this.data)}return this.container}}]);return r}(l);var T=function(e){s(r,e);function r(e){o(this,r);var t=!!(e.data.hasPopup||e.data.title||e.data.contents);return i(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e,t,true))}a(r,[{key:"render",value:function e(){this.container.className="strikeoutAnnotation";if(!this.data.hasPopup){this._createPopup(this.container,null,this.data)}return this.container}}]);return r}(l);var E=function(e){s(r,e);function r(e){o(this,r);var t=!!(e.data.hasPopup||e.data.title||e.data.contents);return i(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e,t,true))}a(r,[{key:"render",value:function e(){this.container.className="stampAnnotation";if(!this.data.hasPopup){this._createPopup(this.container,null,this.data)}return this.container}}]);return r}(l);var O=function(e){s(n,e);function n(e){o(this,n);var t=i(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,true));var r=t.data.file;t.filename=(0,d.getFilenameFromUrl)(r.filename);t.content=r.content;t.linkService.onFileAttachmentAnnotation({id:(0,h.stringToPDFString)(r.filename),filename:r.filename,content:r.content});return t}a(n,[{key:"render",value:function e(){this.container.className="fileAttachmentAnnotation";var t=document.createElement("div");t.style.height=this.container.style.height;t.style.width=this.container.style.width;t.addEventListener("dblclick",this._download.bind(this));if(!this.data.hasPopup&&(this.data.title||this.data.contents)){this._createPopup(this.container,t,this.data)}this.container.appendChild(t);return this.container}},{key:"_download",value:function e(){if(!this.downloadManager){(0,h.warn)("Download cannot be started due to unavailable download manager");return}this.downloadManager.downloadData(this.content,this.filename,"")}}]);return n}(l);var n=function(){function e(){o(this,e)}a(e,null,[{key:"render",value:function e(t){for(var r=0,n=t.annotations.length;r<n;r++){var a=t.annotations[r];if(!a){continue}var i=u.create({data:a,layer:t.div,page:t.page,viewport:t.viewport,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||(0,d.getDefaultSetting)("imageResourcesPath"),renderInteractiveForms:t.renderInteractiveForms||false,svgFactory:new d.DOMSVGFactory});if(i.isRenderable){t.div.appendChild(i.render())}}}},{key:"update",value:function e(t){for(var r=0,n=t.annotations.length;r<n;r++){var a=t.annotations[r];var i=t.div.querySelector('[data-annotation-id="'+a.id+'"]');if(i){d.CustomStyle.setProp("transform",i,"matrix("+t.viewport.transform.join(",")+")")}}t.div.removeAttribute("hidden")}}]);return e}();t.AnnotationLayer=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.renderTextLayer=undefined;var y=r(0);var A=r(8);var n=function e(){var i=1e5;var t=/\S/;function b(e){return!t.test(e)}var _=["left: ",0,"px; top: ",0,"px; font-size: ",0,"px; font-family: ","",";"];function s(e,t,r){var n=document.createElement("div");var a={style:null,angle:0,canvasWidth:0,isWhitespace:false,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1};e._textDivs.push(n);if(b(t.str)){a.isWhitespace=true;e._textDivProperties.set(n,a);return}var i=y.Util.transform(e._viewport.transform,t.transform);var s=Math.atan2(i[1],i[0]);var o=r[t.fontName];if(o.vertical){s+=Math.PI/2}var u=Math.sqrt(i[2]*i[2]+i[3]*i[3]);var l=u;if(o.ascent){l=o.ascent*l}else if(o.descent){l=(1+o.descent)*l}var c;var f;if(s===0){c=i[4];f=i[5]-l}else{c=i[4]+l*Math.sin(s);f=i[5]-l*Math.cos(s)}_[1]=c;_[3]=f;_[5]=u;_[7]=o.fontFamily;a.style=_.join("");n.setAttribute("style",a.style);n.textContent=t.str;if((0,A.getDefaultSetting)("pdfBug")){n.dataset.fontName=t.fontName}if(s!==0){a.angle=s*(180/Math.PI)}if(t.str.length>1){if(o.vertical){a.canvasWidth=t.height*e._viewport.scale}else{a.canvasWidth=t.width*e._viewport.scale}}e._textDivProperties.set(n,a);if(e._textContentStream){e._layoutText(n)}if(e._enhanceTextSelection){var d=1,h=0;if(s!==0){d=Math.cos(s);h=Math.sin(s)}var v=(o.vertical?t.height:t.width)*e._viewport.scale;var p=u;var m,g;if(s!==0){m=[d,h,-h,d,c,f];g=y.Util.getAxialAlignedBoundingBox([0,0,v,p],m)}else{g=[c,f,c+v,f+p]}e._bounds.push({left:g[0],top:g[1],right:g[2],bottom:g[3],div:n,size:[v,p],m:m})}}function l(e){if(e._canceled){return}var t=e._textDivs;var r=e._capability;var n=t.length;if(n>i){e._renderingDone=true;r.resolve();return}if(!e._textContentStream){for(var a=0;a<n;a++){e._layoutText(t[a])}}e._renderingDone=true;r.resolve()}function u(e){var t=e._bounds;var r=e._viewport;var n=m(r.width,r.height,t);for(var a=0;a<n.length;a++){var i=t[a].div;var s=e._textDivProperties.get(i);if(s.angle===0){s.paddingLeft=t[a].left-n[a].left;s.paddingTop=t[a].top-n[a].top;s.paddingRight=n[a].right-t[a].right;s.paddingBottom=n[a].bottom-t[a].bottom;e._textDivProperties.set(i,s);continue}var o=n[a],u=t[a];var l=u.m,c=l[0],f=l[1];var d=[[0,0],[0,u.size[1]],[u.size[0],0],u.size];var h=new Float64Array(64);d.forEach(function(e,t){var r=y.Util.applyTransform(e,l);h[t+0]=c&&(o.left-r[0])/c;h[t+4]=f&&(o.top-r[1])/f;h[t+8]=c&&(o.right-r[0])/c;h[t+12]=f&&(o.bottom-r[1])/f;h[t+16]=f&&(o.left-r[0])/-f;h[t+20]=c&&(o.top-r[1])/c;h[t+24]=f&&(o.right-r[0])/-f;h[t+28]=c&&(o.bottom-r[1])/c;h[t+32]=c&&(o.left-r[0])/-c;h[t+36]=f&&(o.top-r[1])/-f;h[t+40]=c&&(o.right-r[0])/-c;h[t+44]=f&&(o.bottom-r[1])/-f;h[t+48]=f&&(o.left-r[0])/f;h[t+52]=c&&(o.top-r[1])/-c;h[t+56]=f&&(o.right-r[0])/f;h[t+60]=c&&(o.bottom-r[1])/-c});var v=function e(t,r,n){var a=0;for(var i=0;i<n;i++){var s=t[r++];if(s>0){a=a?Math.min(s,a):s}}return a};var p=1+Math.min(Math.abs(c),Math.abs(f));s.paddingLeft=v(h,32,16)/p;s.paddingTop=v(h,48,16)/p;s.paddingRight=v(h,0,16)/p;s.paddingBottom=v(h,16,16)/p;e._textDivProperties.set(i,s)}}function m(a,e,t){var i=t.map(function(e,t){return{x1:e.left,y1:e.top,x2:e.right,y2:e.bottom,index:t,x1New:undefined,x2New:undefined}});r(a,i);var s=new Array(t.length);i.forEach(function(e){var t=e.index;s[t]={left:e.x1New,top:0,right:e.x2New,bottom:0}});t.map(function(e,t){var r=s[t],n=i[t];n.x1=e.top;n.y1=a-r.right;n.x2=e.bottom;n.y2=a-r.left;n.index=t;n.x1New=undefined;n.x2New=undefined});r(e,i);i.forEach(function(e){var t=e.index;s[t].top=e.x1New;s[t].bottom=e.x2New});return s}function r(r,e){e.sort(function(e,t){return e.x1-t.x1||e.index-t.index});var t={x1:-Infinity,y1:-Infinity,x2:0,y2:Infinity,index:-1,x1New:0,x2New:0};var h=[{start:-Infinity,end:Infinity,boundary:t}];e.forEach(function(e){var t=0;while(t<h.length&&h[t].end<=e.y1){t++}var r=h.length-1;while(r>=0&&h[r].start>=e.y2){r--}var n,a;var i,s,o=-Infinity;for(i=t;i<=r;i++){n=h[i];a=n.boundary;var u;if(a.x2>e.x1){u=a.index>e.index?a.x1New:e.x1}else if(a.x2New===undefined){u=(a.x2+e.x1)/2}else{u=a.x2New}if(u>o){o=u}}e.x1New=o;for(i=t;i<=r;i++){n=h[i];a=n.boundary;if(a.x2New===undefined){if(a.x2>e.x1){if(a.index>e.index){a.x2New=a.x2}}else{a.x2New=o}}else if(a.x2New>o){a.x2New=Math.max(o,a.x2)}}var l=[],c=null;for(i=t;i<=r;i++){n=h[i];a=n.boundary;var f=a.x2>e.x2?a:e;if(c===f){l[l.length-1].end=n.end}else{l.push({start:n.start,end:n.end,boundary:f});c=f}}if(h[t].start<e.y1){l[0].start=e.y1;l.unshift({start:h[t].start,end:e.y1,boundary:h[t].boundary})}if(e.y2<h[r].end){l[l.length-1].end=e.y2;l.push({start:e.y2,end:h[r].end,boundary:h[r].boundary})}for(i=t;i<=r;i++){n=h[i];a=n.boundary;if(a.x2New!==undefined){continue}var d=false;for(s=t-1;!d&&s>=0&&h[s].start>=a.y1;s--){d=h[s].boundary===a}for(s=r+1;!d&&s<h.length&&h[s].end<=a.y2;s++){d=h[s].boundary===a}for(s=0;!d&&s<l.length;s++){d=l[s].boundary===a}if(!d){a.x2New=o}}Array.prototype.splice.apply(h,[t,r-t+1].concat(l))});h.forEach(function(e){var t=e.boundary;if(t.x2New===undefined){t.x2New=Math.max(r,t.x2)}})}function n(e){var t=e.textContent,r=e.textContentStream,n=e.container,a=e.viewport,i=e.textDivs,s=e.textContentItemsStr,o=e.enhanceTextSelection;this._textContent=t;this._textContentStream=r;this._container=n;this._viewport=a;this._textDivs=i||[];this._textContentItemsStr=s||[];this._enhanceTextSelection=!!o;this._reader=null;this._layoutTextLastFontSize=null;this._layoutTextLastFontFamily=null;this._layoutTextCtx=null;this._textDivProperties=new WeakMap;this._renderingDone=false;this._canceled=false;this._capability=(0,y.createPromiseCapability)();this._renderTimer=null;this._bounds=[]}n.prototype={get promise(){return this._capability.promise},cancel:function e(){if(this._reader){this._reader.cancel(new y.AbortException("text layer task cancelled"));this._reader=null}this._canceled=true;if(this._renderTimer!==null){clearTimeout(this._renderTimer);this._renderTimer=null}this._capability.reject("canceled")},_processItems:function e(t,r){for(var n=0,a=t.length;n<a;n++){this._textContentItemsStr.push(t[n].str);s(this,t[n],r)}},_layoutText:function e(t){var r=this._container;var n=this._textDivProperties.get(t);if(n.isWhitespace){return}var a=t.style.fontSize;var i=t.style.fontFamily;if(a!==this._layoutTextLastFontSize||i!==this._layoutTextLastFontFamily){this._layoutTextCtx.font=a+" "+i;this._lastFontSize=a;this._lastFontFamily=i}var s=this._layoutTextCtx.measureText(t.textContent).width;var o="";if(n.canvasWidth!==0&&s>0){n.scale=n.canvasWidth/s;o="scaleX("+n.scale+")"}if(n.angle!==0){o="rotate("+n.angle+"deg) "+o}if(o!==""){n.originalTransform=o;A.CustomStyle.setProp("transform",t,o)}this._textDivProperties.set(t,n);r.appendChild(t)},_render:function e(t){var a=this;var i=(0,y.createPromiseCapability)();var s=Object.create(null);var r=document.createElement("canvas");r.mozOpaque=true;this._layoutTextCtx=r.getContext("2d",{alpha:false});if(this._textContent){var n=this._textContent.items;var o=this._textContent.styles;this._processItems(n,o);i.resolve()}else if(this._textContentStream){var u=function n(){a._reader.read().then(function(e){var t=e.value,r=e.done;if(r){i.resolve();return}y.Util.extendObj(s,t.styles);a._processItems(t.items,s);n()},i.reject)};this._reader=this._textContentStream.getReader();u()}else{throw new Error('Neither "textContent" nor "textContentStream"'+" parameters specified.")}i.promise.then(function(){s=null;if(!t){l(a)}else{a._renderTimer=setTimeout(function(){l(a);a._renderTimer=null},t)}},this._capability.reject)},expandTextDivs:function e(t){if(!this._enhanceTextSelection||!this._renderingDone){return}if(this._bounds!==null){u(this);this._bounds=null}for(var r=0,n=this._textDivs.length;r<n;r++){var a=this._textDivs[r];var i=this._textDivProperties.get(a);if(i.isWhitespace){continue}if(t){var s="",o="";if(i.scale!==1){s="scaleX("+i.scale+")"}if(i.angle!==0){s="rotate("+i.angle+"deg) "+s}if(i.paddingLeft!==0){o+=" padding-left: "+i.paddingLeft/i.scale+"px;";s+=" translateX("+-i.paddingLeft/i.scale+"px)"}if(i.paddingTop!==0){o+=" padding-top: "+i.paddingTop+"px;";s+=" translateY("+-i.paddingTop+"px)"}if(i.paddingRight!==0){o+=" padding-right: "+i.paddingRight/i.scale+"px;"}if(i.paddingBottom!==0){o+=" padding-bottom: "+i.paddingBottom+"px;"}if(o!==""){a.setAttribute("style",i.style+o)}if(s!==""){A.CustomStyle.setProp("transform",a,s)}}else{a.style.padding=0;A.CustomStyle.setProp("transform",a,i.originalTransform||"")}}}};function a(e){var t=new n({textContent:e.textContent,textContentStream:e.textContentStream,container:e.container,viewport:e.viewport,textDivs:e.textDivs,textContentItemsStr:e.textContentItemsStr,enhanceTextSelection:e.enhanceTextSelection});t._render(e.timeout);return t}return a}();t.renderTextLayer=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.SVGGraphics=undefined;var w=r(0);var a=r(8);var n=function e(){throw new Error("Not implemented: SVGGraphics")};{var P={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"};var f=function e(){var _=new Uint8Array([137,80,78,71,13,10,26,10]);var y=12;var o=new Int32Array(256);for(var t=0;t<256;t++){var r=t;for(var n=0;n<8;n++){if(r&1){r=3988292384^r>>1&2147483647}else{r=r>>1&2147483647}}o[t]=r}function u(e,t,r){var n=-1;for(var a=t;a<r;a++){var i=(n^e[a])&255;var s=o[i];n=n>>>8^s}return n^-1}function A(e,t,r,n){var a=n;var i=t.length;r[a]=i>>24&255;r[a+1]=i>>16&255;r[a+2]=i>>8&255;r[a+3]=i&255;a+=4;r[a]=e.charCodeAt(0)&255;r[a+1]=e.charCodeAt(1)&255;r[a+2]=e.charCodeAt(2)&255;r[a+3]=e.charCodeAt(3)&255;a+=4;r.set(t,a);a+=t.length;var s=u(r,n+4,a);r[a]=s>>24&255;r[a+1]=s>>16&255;r[a+2]=s>>8&255;r[a+3]=s&255}function l(e,t,r){var n=1;var a=0;for(var i=t;i<r;++i){n=(n+(e[i]&255))%65521;a=(a+n)%65521}return a<<16|n}function S(e){if(!(0,w.isNodeJS)()){return a(e)}try{var t;if(parseInt(process.versions.node)>=8){t=e}else{t=new Buffer(e)}var r=require("zlib").deflateSync(t,{level:9});return r instanceof Uint8Array?r:new Uint8Array(r)}catch(e){(0,w.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+e)}return a(e)}function a(e){var t=e.length;var r=65535;var n=Math.ceil(t/r);var a=new Uint8Array(2+t+n*5+4);var i=0;a[i++]=120;a[i++]=156;var s=0;while(t>r){a[i++]=0;a[i++]=255;a[i++]=255;a[i++]=0;a[i++]=0;a.set(e.subarray(s,s+r),i);i+=r;s+=r;t-=r}a[i++]=1;a[i++]=t&255;a[i++]=t>>8&255;a[i++]=~t&65535&255;a[i++]=(~t&65535)>>8&255;a.set(e.subarray(s),i);i+=e.length-s;var o=l(e,0,e.length);a[i++]=o>>24&255;a[i++]=o>>16&255;a[i++]=o>>8&255;a[i++]=o&255;return a}function i(e,t,r){var n=e.width;var a=e.height;var i,s,o;var u=e.data;switch(t){case w.ImageKind.GRAYSCALE_1BPP:s=0;i=1;o=n+7>>3;break;case w.ImageKind.RGB_24BPP:s=2;i=8;o=n*3;break;case w.ImageKind.RGBA_32BPP:s=6;i=8;o=n*4;break;default:throw new Error("invalid format")}var l=new Uint8Array((1+o)*a);var c=0,f=0;var d,h;for(d=0;d<a;++d){l[c++]=0;l.set(u.subarray(f,f+o),c);f+=o;c+=o}if(t===w.ImageKind.GRAYSCALE_1BPP){c=0;for(d=0;d<a;d++){c++;for(h=0;h<o;h++){l[c++]^=255}}}var v=new Uint8Array([n>>24&255,n>>16&255,n>>8&255,n&255,a>>24&255,a>>16&255,a>>8&255,a&255,i,s,0,0,0]);var p=S(l);var m=_.length+y*3+v.length+p.length;var g=new Uint8Array(m);var b=0;g.set(_,b);b+=_.length;A("IHDR",v,g,b);b+=y+v.length;A("IDATA",p,g,b);b+=y+p.length;A("IEND",new Uint8Array(0),g,b);return(0,w.createObjectURL)(g,"image/png",r)}return function e(t,r){var n=t.kind===undefined?w.ImageKind.GRAYSCALE_1BPP:t.kind;return i(t,n,r)}}();var s=function e(){function t(){this.fontSizeScale=1;this.fontWeight=P.fontWeight;this.fontSize=0;this.textMatrix=w.IDENTITY_MATRIX;this.fontMatrix=w.FONT_IDENTITY_MATRIX;this.leading=0;this.x=0;this.y=0;this.lineX=0;this.lineY=0;this.charSpacing=0;this.wordSpacing=0;this.textHScale=1;this.textRise=0;this.fillColor=P.fillColor;this.strokeColor="#000000";this.fillAlpha=1;this.strokeAlpha=1;this.lineWidth=1;this.lineJoin="";this.lineCap="";this.miterLimit=0;this.dashArray=[];this.dashPhase=0;this.dependencies=[];this.activeClipUrl=null;this.clipGroup=null;this.maskId=""}t.prototype={clone:function e(){return Object.create(this)},setCurrentPoint:function e(t,r){this.x=t;this.y=r}};return t}();t.SVGGraphics=n=function e(){function c(e){var t=[];var r=[];var n=e.length;for(var a=0;a<n;a++){if(e[a].fn==="save"){t.push({fnId:92,fn:"group",items:[]});r.push(t);t=t[t.length-1].items;continue}if(e[a].fn==="restore"){t=r.pop()}else{t.push(e[a])}}return t}function y(e){if(Number.isInteger(e)){return e.toString()}var t=e.toFixed(10);var r=t.length-1;if(t[r]!=="0"){return t}do{r--}while(t[r]==="0");return t.substr(0,t[r]==="."?r:r+1)}function A(e){if(e[4]===0&&e[5]===0){if(e[1]===0&&e[2]===0){if(e[0]===1&&e[3]===1){return""}return"scale("+y(e[0])+" "+y(e[3])+")"}if(e[0]===e[3]&&e[1]===-e[2]){var t=Math.acos(e[0])*180/Math.PI;return"rotate("+y(t)+")"}}else{if(e[0]===1&&e[1]===0&&e[2]===0&&e[3]===1){return"translate("+y(e[4])+" "+y(e[5])+")"}}return"matrix("+y(e[0])+" "+y(e[1])+" "+y(e[2])+" "+y(e[3])+" "+y(e[4])+" "+y(e[5])+")"}function t(e,t,r){this.svgFactory=new a.DOMSVGFactory;this.current=new s;this.transformMatrix=w.IDENTITY_MATRIX;this.transformStack=[];this.extraStack=[];this.commonObjs=e;this.objs=t;this.pendingClip=null;this.pendingEOFill=false;this.embedFonts=false;this.embeddedFonts=Object.create(null);this.cssStyle=null;this.forceDataSchema=!!r}var S="http://www.w3.org/XML/1998/namespace";var u="http://www.w3.org/1999/xlink";var r=["butt","round","square"];var n=["miter","round","bevel"];var i=0;var l=0;t.prototype={save:function e(){this.transformStack.push(this.transformMatrix);var t=this.current;this.extraStack.push(t);this.current=t.clone()},restore:function e(){this.transformMatrix=this.transformStack.pop();this.current=this.extraStack.pop();this.pendingClip=null;this.tgrp=null},group:function e(t){this.save();this.executeOpTree(t);this.restore()},loadDependencies:function e(t){var r=this;var n=t.fnArray;var a=n.length;var i=t.argsArray;for(var s=0;s<a;s++){if(w.OPS.dependency===n[s]){var o=i[s];for(var u=0,l=o.length;u<l;u++){var c=o[u];var f=c.substring(0,2)==="g_";var d;if(f){d=new Promise(function(e){r.commonObjs.get(c,e)})}else{d=new Promise(function(e){r.objs.get(c,e)})}this.current.dependencies.push(d)}}}return Promise.all(this.current.dependencies)},transform:function e(t,r,n,a,i,s){var o=[t,r,n,a,i,s];this.transformMatrix=w.Util.transform(this.transformMatrix,o);this.tgrp=null},getSVG:function e(t,r){var n=this;this.viewport=r;var a=this._initialize(r);return this.loadDependencies(t).then(function(){n.transformMatrix=w.IDENTITY_MATRIX;var e=n.convertOpList(t);n.executeOpTree(e);return a})},convertOpList:function e(t){var r=t.argsArray;var n=t.fnArray;var a=n.length;var i=[];var s=[];for(var o in w.OPS){i[w.OPS[o]]=o}for(var u=0;u<a;u++){var l=n[u];s.push({fnId:l,fn:i[l],args:r[u]})}return c(s)},executeOpTree:function e(t){var r=t.length;for(var n=0;n<r;n++){var a=t[n].fn;var i=t[n].fnId;var s=t[n].args;switch(i|0){case w.OPS.beginText:this.beginText();break;case w.OPS.setLeading:this.setLeading(s);break;case w.OPS.setLeadingMoveText:this.setLeadingMoveText(s[0],s[1]);break;case w.OPS.setFont:this.setFont(s);break;case w.OPS.showText:this.showText(s[0]);break;case w.OPS.showSpacedText:this.showText(s[0]);break;case w.OPS.endText:this.endText();break;case w.OPS.moveText:this.moveText(s[0],s[1]);break;case w.OPS.setCharSpacing:this.setCharSpacing(s[0]);break;case w.OPS.setWordSpacing:this.setWordSpacing(s[0]);break;case w.OPS.setHScale:this.setHScale(s[0]);break;case w.OPS.setTextMatrix:this.setTextMatrix(s[0],s[1],s[2],s[3],s[4],s[5]);break;case w.OPS.setTextRise:this.setTextRise(s[0]);break;case w.OPS.setLineWidth:this.setLineWidth(s[0]);break;case w.OPS.setLineJoin:this.setLineJoin(s[0]);break;case w.OPS.setLineCap:this.setLineCap(s[0]);break;case w.OPS.setMiterLimit:this.setMiterLimit(s[0]);break;case w.OPS.setFillRGBColor:this.setFillRGBColor(s[0],s[1],s[2]);break;case w.OPS.setStrokeRGBColor:this.setStrokeRGBColor(s[0],s[1],s[2]);break;case w.OPS.setDash:this.setDash(s[0],s[1]);break;case w.OPS.setGState:this.setGState(s[0]);break;case w.OPS.fill:this.fill();break;case w.OPS.eoFill:this.eoFill();break;case w.OPS.stroke:this.stroke();break;case w.OPS.fillStroke:this.fillStroke();break;case w.OPS.eoFillStroke:this.eoFillStroke();break;case w.OPS.clip:this.clip("nonzero");break;case w.OPS.eoClip:this.clip("evenodd");break;case w.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case w.OPS.paintJpegXObject:this.paintJpegXObject(s[0],s[1],s[2]);break;case w.OPS.paintImageXObject:this.paintImageXObject(s[0]);break;case w.OPS.paintInlineImageXObject:this.paintInlineImageXObject(s[0]);break;case w.OPS.paintImageMaskXObject:this.paintImageMaskXObject(s[0]);break;case w.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(s[0],s[1]);break;case w.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case w.OPS.closePath:this.closePath();break;case w.OPS.closeStroke:this.closeStroke();break;case w.OPS.closeFillStroke:this.closeFillStroke();break;case w.OPS.nextLine:this.nextLine();break;case w.OPS.transform:this.transform(s[0],s[1],s[2],s[3],s[4],s[5]);break;case w.OPS.constructPath:this.constructPath(s[0],s[1]);break;case w.OPS.endPath:this.endPath();break;case 92:this.group(t[n].items);break;default:(0,w.warn)("Unimplemented operator "+a);break}}},setWordSpacing:function e(t){this.current.wordSpacing=t},setCharSpacing:function e(t){this.current.charSpacing=t},nextLine:function e(){this.moveText(0,this.current.leading)},setTextMatrix:function e(t,r,n,a,i,s){var o=this.current;this.current.textMatrix=this.current.lineMatrix=[t,r,n,a,i,s];this.current.x=this.current.lineX=0;this.current.y=this.current.lineY=0;o.xcoords=[];o.tspan=this.svgFactory.createElement("svg:tspan");o.tspan.setAttributeNS(null,"font-family",o.fontFamily);o.tspan.setAttributeNS(null,"font-size",y(o.fontSize)+"px");o.tspan.setAttributeNS(null,"y",y(-o.y));o.txtElement=this.svgFactory.createElement("svg:text");o.txtElement.appendChild(o.tspan)},beginText:function e(){this.current.x=this.current.lineX=0;this.current.y=this.current.lineY=0;this.current.textMatrix=w.IDENTITY_MATRIX;this.current.lineMatrix=w.IDENTITY_MATRIX;this.current.tspan=this.svgFactory.createElement("svg:tspan");this.current.txtElement=this.svgFactory.createElement("svg:text");this.current.txtgrp=this.svgFactory.createElement("svg:g");this.current.xcoords=[]},moveText:function e(t,r){var n=this.current;this.current.x=this.current.lineX+=t;this.current.y=this.current.lineY+=r;n.xcoords=[];n.tspan=this.svgFactory.createElement("svg:tspan");n.tspan.setAttributeNS(null,"font-family",n.fontFamily);n.tspan.setAttributeNS(null,"font-size",y(n.fontSize)+"px");n.tspan.setAttributeNS(null,"y",y(-n.y))},showText:function e(t){var r=this.current;var n=r.font;var a=r.fontSize;if(a===0){return}var i=r.charSpacing;var s=r.wordSpacing;var o=r.fontDirection;var u=r.textHScale*o;var l=t.length;var c=n.vertical;var f=a*r.fontMatrix[0];var d=0,h;for(h=0;h<l;++h){var v=t[h];if(v===null){d+=o*s;continue}else if((0,w.isNum)(v)){d+=-v*a*.001;continue}var p=v.width;var m=v.fontChar;var g=(v.isSpace?s:0)+i;var b=p*f+g*o;if(!v.isInFont&&!n.missingFile){d+=b;continue}r.xcoords.push(r.x+d*u);r.tspan.textContent+=m;d+=b}if(c){r.y-=d*u}else{r.x+=d*u}r.tspan.setAttributeNS(null,"x",r.xcoords.map(y).join(" "));r.tspan.setAttributeNS(null,"y",y(-r.y));r.tspan.setAttributeNS(null,"font-family",r.fontFamily);r.tspan.setAttributeNS(null,"font-size",y(r.fontSize)+"px");if(r.fontStyle!==P.fontStyle){r.tspan.setAttributeNS(null,"font-style",r.fontStyle)}if(r.fontWeight!==P.fontWeight){r.tspan.setAttributeNS(null,"font-weight",r.fontWeight)}if(r.fillColor!==P.fillColor){r.tspan.setAttributeNS(null,"fill",r.fillColor)}var _=r.textMatrix;if(r.textRise!==0){_=_.slice();_[5]+=r.textRise}r.txtElement.setAttributeNS(null,"transform",A(_)+" scale(1, -1)");r.txtElement.setAttributeNS(S,"xml:space","preserve");r.txtElement.appendChild(r.tspan);r.txtgrp.appendChild(r.txtElement);this._ensureTransformGroup().appendChild(r.txtElement)},setLeadingMoveText:function e(t,r){this.setLeading(-r);this.moveText(t,r)},addFontStyle:function e(t){if(!this.cssStyle){this.cssStyle=this.svgFactory.createElement("svg:style");this.cssStyle.setAttributeNS(null,"type","text/css");this.defs.appendChild(this.cssStyle)}var r=(0,w.createObjectURL)(t.data,t.mimetype,this.forceDataSchema);this.cssStyle.textContent+='@font-face { font-family: "'+t.loadedName+'";'+" src: url("+r+"); }\n"},setFont:function e(t){var r=this.current;var n=this.commonObjs.get(t[0]);var a=t[1];this.current.font=n;if(this.embedFonts&&n.data&&!this.embeddedFonts[n.loadedName]){this.addFontStyle(n);this.embeddedFonts[n.loadedName]=n}r.fontMatrix=n.fontMatrix?n.fontMatrix:w.FONT_IDENTITY_MATRIX;var i=n.black?n.bold?"bolder":"bold":n.bold?"bold":"normal";var s=n.italic?"italic":"normal";if(a<0){a=-a;r.fontDirection=-1}else{r.fontDirection=1}r.fontSize=a;r.fontFamily=n.loadedName;r.fontWeight=i;r.fontStyle=s;r.tspan=this.svgFactory.createElement("svg:tspan");r.tspan.setAttributeNS(null,"y",y(-r.y));r.xcoords=[]},endText:function e(){},setLineWidth:function e(t){this.current.lineWidth=t},setLineCap:function e(t){this.current.lineCap=r[t]},setLineJoin:function e(t){this.current.lineJoin=n[t]},setMiterLimit:function e(t){this.current.miterLimit=t},setStrokeAlpha:function e(t){this.current.strokeAlpha=t},setStrokeRGBColor:function e(t,r,n){var a=w.Util.makeCssRgb(t,r,n);this.current.strokeColor=a},setFillAlpha:function e(t){this.current.fillAlpha=t},setFillRGBColor:function e(t,r,n){var a=w.Util.makeCssRgb(t,r,n);this.current.fillColor=a;this.current.tspan=this.svgFactory.createElement("svg:tspan");this.current.xcoords=[]},setDash:function e(t,r){this.current.dashArray=t;this.current.dashPhase=r},constructPath:function e(t,r){var n=this.current;var a=n.x,i=n.y;n.path=this.svgFactory.createElement("svg:path");var s=[];var o=t.length;for(var u=0,l=0;u<o;u++){switch(t[u]|0){case w.OPS.rectangle:a=r[l++];i=r[l++];var c=r[l++];var f=r[l++];var d=a+c;var h=i+f;s.push("M",y(a),y(i),"L",y(d),y(i),"L",y(d),y(h),"L",y(a),y(h),"Z");break;case w.OPS.moveTo:a=r[l++];i=r[l++];s.push("M",y(a),y(i));break;case w.OPS.lineTo:a=r[l++];i=r[l++];s.push("L",y(a),y(i));break;case w.OPS.curveTo:a=r[l+4];i=r[l+5];s.push("C",y(r[l]),y(r[l+1]),y(r[l+2]),y(r[l+3]),y(a),y(i));l+=6;break;case w.OPS.curveTo2:a=r[l+2];i=r[l+3];s.push("C",y(a),y(i),y(r[l]),y(r[l+1]),y(r[l+2]),y(r[l+3]));l+=4;break;case w.OPS.curveTo3:a=r[l+2];i=r[l+3];s.push("C",y(r[l]),y(r[l+1]),y(a),y(i),y(a),y(i));l+=4;break;case w.OPS.closePath:s.push("Z");break}}n.path.setAttributeNS(null,"d",s.join(" "));n.path.setAttributeNS(null,"fill","none");this._ensureTransformGroup().appendChild(n.path);n.element=n.path;n.setCurrentPoint(a,i)},endPath:function e(){if(!this.pendingClip){return}var t=this.current;var r="clippath"+i;i++;var n=this.svgFactory.createElement("svg:clipPath");n.setAttributeNS(null,"id",r);n.setAttributeNS(null,"transform",A(this.transformMatrix));var a=t.element.cloneNode();if(this.pendingClip==="evenodd"){a.setAttributeNS(null,"clip-rule","evenodd")}else{a.setAttributeNS(null,"clip-rule","nonzero")}this.pendingClip=null;n.appendChild(a);this.defs.appendChild(n);if(t.activeClipUrl){t.clipGroup=null;this.extraStack.forEach(function(e){e.clipGroup=null})}t.activeClipUrl="url(#"+r+")";this.tgrp=null},clip:function e(t){this.pendingClip=t},closePath:function e(){var t=this.current;var r=t.path.getAttributeNS(null,"d");r+="Z";t.path.setAttributeNS(null,"d",r)},setLeading:function e(t){this.current.leading=-t},setTextRise:function e(t){this.current.textRise=t},setHScale:function e(t){this.current.textHScale=t/100},setGState:function e(t){for(var r=0,n=t.length;r<n;r++){var a=t[r];var i=a[0];var s=a[1];switch(i){case"LW":this.setLineWidth(s);break;case"LC":this.setLineCap(s);break;case"LJ":this.setLineJoin(s);break;case"ML":this.setMiterLimit(s);break;case"D":this.setDash(s[0],s[1]);break;case"Font":this.setFont(s);break;case"CA":this.setStrokeAlpha(s);break;case"ca":this.setFillAlpha(s);break;default:(0,w.warn)("Unimplemented graphic state "+i);break}}},fill:function e(){var t=this.current;t.element.setAttributeNS(null,"fill",t.fillColor);t.element.setAttributeNS(null,"fill-opacity",t.fillAlpha)},stroke:function e(){var t=this.current;t.element.setAttributeNS(null,"stroke",t.strokeColor);t.element.setAttributeNS(null,"stroke-opacity",t.strokeAlpha);t.element.setAttributeNS(null,"stroke-miterlimit",y(t.miterLimit));t.element.setAttributeNS(null,"stroke-linecap",t.lineCap);t.element.setAttributeNS(null,"stroke-linejoin",t.lineJoin);t.element.setAttributeNS(null,"stroke-width",y(t.lineWidth)+"px");t.element.setAttributeNS(null,"stroke-dasharray",t.dashArray.map(y).join(" "));t.element.setAttributeNS(null,"stroke-dashoffset",y(t.dashPhase)+"px");t.element.setAttributeNS(null,"fill","none")},eoFill:function e(){this.current.element.setAttributeNS(null,"fill-rule","evenodd");this.fill()},fillStroke:function e(){this.stroke();this.fill()},eoFillStroke:function e(){this.current.element.setAttributeNS(null,"fill-rule","evenodd");this.fillStroke()},closeStroke:function e(){this.closePath();this.stroke()},closeFillStroke:function e(){this.closePath();this.fillStroke()},paintSolidColorImageMask:function e(){var t=this.current;var r=this.svgFactory.createElement("svg:rect");r.setAttributeNS(null,"x","0");r.setAttributeNS(null,"y","0");r.setAttributeNS(null,"width","1px");r.setAttributeNS(null,"height","1px");r.setAttributeNS(null,"fill",t.fillColor);this._ensureTransformGroup().appendChild(r)},paintJpegXObject:function e(t,r,n){var a=this.objs.get(t);var i=this.svgFactory.createElement("svg:image");i.setAttributeNS(u,"xlink:href",a.src);i.setAttributeNS(null,"width",y(r));i.setAttributeNS(null,"height",y(n));i.setAttributeNS(null,"x","0");i.setAttributeNS(null,"y",y(-n));i.setAttributeNS(null,"transform","scale("+y(1/r)+" "+y(-1/n)+")");this._ensureTransformGroup().appendChild(i)},paintImageXObject:function e(t){var r=this.objs.get(t);if(!r){(0,w.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(r)},paintInlineImageXObject:function e(t,r){var n=t.width;var a=t.height;var i=f(t,this.forceDataSchema);var s=this.svgFactory.createElement("svg:rect");s.setAttributeNS(null,"x","0");s.setAttributeNS(null,"y","0");s.setAttributeNS(null,"width",y(n));s.setAttributeNS(null,"height",y(a));this.current.element=s;this.clip("nonzero");var o=this.svgFactory.createElement("svg:image");o.setAttributeNS(u,"xlink:href",i);o.setAttributeNS(null,"x","0");o.setAttributeNS(null,"y",y(-a));o.setAttributeNS(null,"width",y(n)+"px");o.setAttributeNS(null,"height",y(a)+"px");o.setAttributeNS(null,"transform","scale("+y(1/n)+" "+y(-1/a)+")");if(r){r.appendChild(o)}else{this._ensureTransformGroup().appendChild(o)}},paintImageMaskXObject:function e(t){var r=this.current;var n=t.width;var a=t.height;var i=r.fillColor;r.maskId="mask"+l++;var s=this.svgFactory.createElement("svg:mask");s.setAttributeNS(null,"id",r.maskId);var o=this.svgFactory.createElement("svg:rect");o.setAttributeNS(null,"x","0");o.setAttributeNS(null,"y","0");o.setAttributeNS(null,"width",y(n));o.setAttributeNS(null,"height",y(a));o.setAttributeNS(null,"fill",i);o.setAttributeNS(null,"mask","url(#"+r.maskId+")");this.defs.appendChild(s);this._ensureTransformGroup().appendChild(o);this.paintInlineImageXObject(t,s)},paintFormXObjectBegin:function e(t,r){if(Array.isArray(t)&&t.length===6){this.transform(t[0],t[1],t[2],t[3],t[4],t[5])}if(Array.isArray(r)&&r.length===4){var n=r[2]-r[0];var a=r[3]-r[1];var i=this.svgFactory.createElement("svg:rect");i.setAttributeNS(null,"x",r[0]);i.setAttributeNS(null,"y",r[1]);i.setAttributeNS(null,"width",y(n));i.setAttributeNS(null,"height",y(a));this.current.element=i;this.clip("nonzero");this.endPath()}},paintFormXObjectEnd:function e(){},_initialize:function e(t){var r=this.svgFactory.create(t.width,t.height);var n=this.svgFactory.createElement("svg:defs");r.appendChild(n);this.defs=n;var a=this.svgFactory.createElement("svg:g");a.setAttributeNS(null,"transform",A(t.transform));r.appendChild(a);this.svg=a;return r},_ensureClipGroup:function e(){if(!this.current.clipGroup){var t=this.svgFactory.createElement("svg:g");t.setAttributeNS(null,"clip-path",this.current.activeClipUrl);this.svg.appendChild(t);this.current.clipGroup=t}return this.current.clipGroup},_ensureTransformGroup:function e(){if(!this.tgrp){this.tgrp=this.svgFactory.createElement("svg:g");this.tgrp.setAttributeNS(null,"transform",A(this.transformMatrix));if(this.current.activeClipUrl){this._ensureClipGroup().appendChild(this.tgrp)}else{this.svg.appendChild(this.tgrp)}}return this.tgrp}};return t}()}t.SVGGraphics=n},function(e,t,r){"use strict";var n="2.0.104";var a="012d075";var i=r(0);var s=r(113);var o=r(57);var u=r(61);var l=r(60);var c=r(8);var f=r(62);{if(i.isNodeJS()){var d=r(118).PDFNodeStream;o.setPDFNetworkStreamClass(d)}else if(typeof Response!=="undefined"&&"body"in Response.prototype&&typeof ReadableStream!=="undefined"){var h=r(119).PDFFetchStream;o.setPDFNetworkStreamClass(h)}else{var v=r(120).PDFNetworkStream;o.setPDFNetworkStreamClass(v)}}t.PDFJS=s.PDFJS;t.build=o.build;t.version=o.version;t.getDocument=o.getDocument;t.LoopbackPort=o.LoopbackPort;t.PDFDataRangeTransport=o.PDFDataRangeTransport;t.PDFWorker=o.PDFWorker;t.renderTextLayer=u.renderTextLayer;t.AnnotationLayer=l.AnnotationLayer;t.CustomStyle=c.CustomStyle;t.createPromiseCapability=i.createPromiseCapability;t.PasswordResponses=i.PasswordResponses;t.InvalidPDFException=i.InvalidPDFException;t.MissingPDFException=i.MissingPDFException;t.SVGGraphics=f.SVGGraphics;t.NativeImageDecoding=i.NativeImageDecoding;t.UnexpectedResponseException=i.UnexpectedResponseException;t.OPS=i.OPS;t.UNSUPPORTED_FEATURES=i.UNSUPPORTED_FEATURES;t.createValidAbsoluteUrl=i.createValidAbsoluteUrl;t.createObjectURL=i.createObjectURL;t.removeNullCharacters=i.removeNullCharacters;t.shadow=i.shadow;t.createBlob=i.createBlob;t.RenderingCancelledException=c.RenderingCancelledException;t.getFilenameFromUrl=c.getFilenameFromUrl;t.addLinkAttributes=c.addLinkAttributes;t.StatTimer=i.StatTimer},function(e,t,r){"use strict";var o=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};if(typeof PDFJS==="undefined"||!PDFJS.compatibilityChecked){var u=r(14);var i=typeof navigator!=="undefined"&&navigator.userAgent||"";var s=/Android/.test(i);var n=/Android\s[0-2][^\d]/.test(i);var l=/Android\s[0-4][^\d]/.test(i);var c=i.indexOf("Chrom")>=0;var a=/Chrome\/(39|40)\./.test(i);var f=i.indexOf("CriOS")>=0;var d=i.indexOf("Trident")>=0;var h=/\b(iPad|iPhone|iPod)(?=;)/.test(i);var v=i.indexOf("Opera")>=0;var p=/Safari\//.test(i)&&!/(Chrome\/|Android\s)/.test(i);var m=(typeof window==="undefined"?"undefined":o(window))==="object"&&(typeof document==="undefined"?"undefined":o(document))==="object";if(typeof PDFJS==="undefined"){u.PDFJS={}}PDFJS.compatibilityChecked=true;(function e(){if(!u.URL){u.URL=u.webkitURL}})();(function e(){if(typeof Object.defineProperty!=="undefined"){var t=true;try{if(m){Object.defineProperty(new Image,"id",{value:"test"})}var r=function e(){};r.prototype={get id(){}};Object.defineProperty(new r,"id",{value:"",configurable:true,enumerable:true,writable:false})}catch(e){t=false}if(t){return}}Object.defineProperty=function e(t,r,n){delete t[r];if("get"in n){t.__defineGetter__(r,n["get"])}if("set"in n){t.__defineSetter__(r,n["set"])}if("value"in n){t.__defineSetter__(r,function e(t){this.__defineGetter__(r,function e(){return t});return t});t[r]=n.value}}})();(function e(){if(typeof XMLHttpRequest==="undefined"){return}var t=XMLHttpRequest.prototype;var r=new XMLHttpRequest;if(!("overrideMimeType"in r)){Object.defineProperty(t,"overrideMimeType",{value:function e(t){}})}if("responseType"in r){return}Object.defineProperty(t,"responseType",{get:function e(){return this._responseType||"text"},set:function e(t){if(t==="text"||t==="arraybuffer"){this._responseType=t;if(t==="arraybuffer"&&typeof this.overrideMimeType==="function"){this.overrideMimeType("text/plain; charset=x-user-defined")}}}});if(typeof VBArray!=="undefined"){Object.defineProperty(t,"response",{get:function e(){if(this.responseType==="arraybuffer"){return new Uint8Array(new VBArray(this.responseBody).toArray())}return this.responseText}});return}Object.defineProperty(t,"response",{get:function e(){if(this.responseType!=="arraybuffer"){return this.responseText}var t=this.responseText;var r,n=t.length;var a=new Uint8Array(n);for(r=0;r<n;++r){a[r]=t.charCodeAt(r)&255}return a.buffer}})})();(function e(){if("btoa"in u){return}var f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";u.btoa=function(e){var t="";var r,n;for(r=0,n=e.length;r<n;r+=3){var a=e.charCodeAt(r)&255;var i=e.charCodeAt(r+1)&255;var s=e.charCodeAt(r+2)&255;var o=a>>2,u=(a&3)<<4|i>>4;var l=r+1<n?(i&15)<<2|s>>6:64;var c=r+2<n?s&63:64;t+=f.charAt(o)+f.charAt(u)+f.charAt(l)+f.charAt(c)}return t}})();(function e(){if("atob"in u){return}var s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";u.atob=function(e){e=e.replace(/=+$/,"");if(e.length%4===1){throw new Error("bad atob input")}for(var t=0,r,n,a=0,i="";n=e.charAt(a++);~n&&(r=t%4?r*64+n:n,t++%4)?i+=String.fromCharCode(255&r>>(-2*t&6)):0){n=s.indexOf(n)}return i}})();(function e(){if(typeof Function.prototype.bind!=="undefined"){return}Function.prototype.bind=function e(r){var n=this,a=Array.prototype.slice.call(arguments,1);var t=function e(){var t=a.concat(Array.prototype.slice.call(arguments));return n.apply(r,t)};return t}})();(function e(){if(!m){return}var t=document.createElement("div");if("dataset"in t){return}Object.defineProperty(HTMLElement.prototype,"dataset",{get:function e(){if(this._dataset){return this._dataset}var t={};for(var r=0,n=this.attributes.length;r<n;r++){var a=this.attributes[r];if(a.name.substring(0,5)!=="data-"){continue}var i=a.name.substring(5).replace(/\-([a-z])/g,function(e,t){return t.toUpperCase()});t[i]=a.value}Object.defineProperty(this,"_dataset",{value:t,writable:false,enumerable:false});return t},enumerable:true})})();(function e(){function r(e,t,r,n){var a=e.className||"";var i=a.split(/\s+/g);if(i[0]===""){i.shift()}var s=i.indexOf(t);if(s<0&&r){i.push(t)}if(s>=0&&n){i.splice(s,1)}e.className=i.join(" ");return s>=0}if(!m){return}var t=document.createElement("div");if("classList"in t){return}var n={add:function e(t){r(this.element,t,true,false)},contains:function e(t){return r(this.element,t,false,false)},remove:function e(t){r(this.element,t,false,true)},toggle:function e(t){r(this.element,t,true,true)}};Object.defineProperty(HTMLElement.prototype,"classList",{get:function e(){if(this._classList){return this._classList}var t=Object.create(n,{element:{value:this,writable:false,enumerable:true}});Object.defineProperty(this,"_classList",{value:t,writable:false,enumerable:false});return t},enumerable:true})})();(function e(){if(typeof importScripts==="undefined"||"console"in u){return}var n={};var t={log:function e(){var t=Array.prototype.slice.call(arguments);u.postMessage({targetName:"main",action:"console_log",data:t})},error:function e(){var t=Array.prototype.slice.call(arguments);u.postMessage({targetName:"main",action:"console_error",data:t})},time:function e(t){n[t]=Date.now()},timeEnd:function e(t){var r=n[t];if(!r){throw new Error("Unknown timer name "+t)}this.log("Timer:",t,Date.now()-r)}};u.console=t})();(function e(){if(!m){return}if(!("console"in window)){window.console={log:function e(){},error:function e(){},warn:function e(){}};return}if(!("bind"in console.log)){console.log=function(t){return function(e){return t(e)}}(console.log);console.error=function(t){return function(e){return t(e)}}(console.error);console.warn=function(t){return function(e){return t(e)}}(console.warn);return}})();(function e(){function t(e){if(r(e.target)){e.stopPropagation()}}function r(e){return e.disabled||e.parentNode&&r(e.parentNode)}if(v){document.addEventListener("click",t,true)}})();(function e(){if(d||f){PDFJS.disableCreateObjectURL=true}})();(function e(){if(typeof navigator==="undefined"){return}if("language"in navigator){return}PDFJS.locale=navigator.userLanguage||"en-US"})();(function e(){if(p||n||a||h){PDFJS.disableRange=true;PDFJS.disableStream=true}})();(function e(){if(!m){return}if(!history.pushState||n){PDFJS.disableHistory=true}})();(function e(){if(!m){return}if(window.CanvasPixelArray){if(typeof window.CanvasPixelArray.prototype.set!=="function"){window.CanvasPixelArray.prototype.set=function(e){for(var t=0,r=this.length;t<r;t++){this[t]=e[t]}}}}else{var t=false,r;if(c){r=i.match(/Chrom(e|ium)\/([0-9]+)\./);t=r&&parseInt(r[2])<21}else if(s){t=l}else if(p){r=i.match(/Version\/([0-9]+)\.([0-9]+)\.([0-9]+) Safari\//);t=r&&parseInt(r[1])<6}if(t){var n=window.CanvasRenderingContext2D.prototype;var a=n.createImageData;n.createImageData=function(e,t){var r=a.call(this,e,t);r.data.set=function(e){for(var t=0,r=this.length;t<r;t++){this[t]=e[t]}};return r};n=null}}})();(function e(){function t(){window.requestAnimationFrame=function(e){return window.setTimeout(e,20)};window.cancelAnimationFrame=function(e){window.clearTimeout(e)}}if(!m){return}if(h){t();return}if("requestAnimationFrame"in window){return}window.requestAnimationFrame=window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame;if(window.requestAnimationFrame){return}t()})();(function e(){if(h||s){PDFJS.maxCanvasPixels=5242880}})();(function e(){if(!m){return}if(d&&window.parent!==window){PDFJS.disableFullscreen=true}})();(function e(){if(!m){return}if("currentScript"in document){return}Object.defineProperty(document,"currentScript",{get:function e(){var t=document.getElementsByTagName("script");return t[t.length-1]},enumerable:true,configurable:true})})();(function e(){if(!m){return}var t=document.createElement("input");try{t.type="number"}catch(e){var r=t.constructor.prototype;var n=Object.getOwnPropertyDescriptor(r,"type");Object.defineProperty(r,"type",{get:function e(){return n.get.call(this)},set:function e(t){n.set.call(this,t==="number"?"text":t)},enumerable:true,configurable:true})}})();(function e(){if(!m){return}if(!document.attachEvent){return}var t=document.constructor.prototype;var r=Object.getOwnPropertyDescriptor(t,"readyState");Object.defineProperty(t,"readyState",{get:function e(){var t=r.get.call(this);return t==="interactive"?"loading":t},set:function e(t){r.set.call(this,t)},enumerable:true,configurable:true})})();(function e(){if(!m){return}if(typeof Element.prototype.remove!=="undefined"){return}Element.prototype.remove=function(){if(this.parentNode){this.parentNode.removeChild(this)}}})();(function e(){if(Object.values){return}Object.values=r(65)})();(function e(){if(Array.prototype.includes){return}Array.prototype.includes=r(70)})();(function e(){if(Number.isNaN){return}Number.isNaN=r(72)})();(function e(){if(Number.isInteger){return}Number.isInteger=r(74)})();(function e(){if(u.Promise){return}u.Promise=r(77)})();(function e(){if(u.WeakMap){return}u.WeakMap=r(95)})();(function e(){var t=false;try{if(typeof URL==="function"&&o(URL.prototype)==="object"&&"origin"in URL.prototype){var r=new URL("b","http://a");r.pathname="c%20d";t=r.href==="http://a/c%20d"}}catch(e){}if(t){return}var b=Object.create(null);b["ftp"]=21;b["file"]=0;b["gopher"]=70;b["http"]=80;b["https"]=443;b["ws"]=80;b["wss"]=443;var _=Object.create(null);_["%2e"]=".";_[".%2e"]="..";_["%2e."]="..";_["%2e%2e"]="..";function y(e){return b[e]!==undefined}function A(){a.call(this);this._isInvalid=true}function S(e){if(e===""){A.call(this)}return e.toLowerCase()}function w(e){var t=e.charCodeAt(0);if(t>32&&t<127&&[34,35,60,62,63,96].indexOf(t)===-1){return e}return encodeURIComponent(e)}function P(e){var t=e.charCodeAt(0);if(t>32&&t<127&&[34,35,60,62,96].indexOf(t)===-1){return e}return encodeURIComponent(e)}var C,R=/[a-zA-Z]/,k=/[a-zA-Z0-9\+\-\.]/;function n(e,t,r){function n(e){l.push(e)}var a=t||"scheme start",i=0,s="",o=false,u=false,l=[];e:while((e[i-1]!==C||i===0)&&!this._isInvalid){var c=e[i];switch(a){case"scheme start":if(c&&R.test(c)){s+=c.toLowerCase();a="scheme"}else if(!t){s="";a="no scheme";continue}else{n("Invalid scheme.");break e}break;case"scheme":if(c&&k.test(c)){s+=c.toLowerCase()}else if(c===":"){this._scheme=s;s="";if(t){break e}if(y(this._scheme)){this._isRelative=true}if(this._scheme==="file"){a="relative"}else if(this._isRelative&&r&&r._scheme===this._scheme){a="relative or authority"}else if(this._isRelative){a="authority first slash"}else{a="scheme data"}}else if(!t){s="";i=0;a="no scheme";continue}else if(c===C){break e}else{n("Code point not allowed in scheme: "+c);break e}break;case"scheme data":if(c==="?"){this._query="?";a="query"}else if(c==="#"){this._fragment="#";a="fragment"}else{if(c!==C&&c!=="\t"&&c!=="\n"&&c!=="\r"){this._schemeData+=w(c)}}break;case"no scheme":if(!r||!y(r._scheme)){n("Missing scheme.");A.call(this)}else{a="relative";continue}break;case"relative or authority":if(c==="/"&&e[i+1]==="/"){a="authority ignore slashes"}else{n("Expected /, got: "+c);a="relative";continue}break;case"relative":this._isRelative=true;if(this._scheme!=="file"){this._scheme=r._scheme}if(c===C){this._host=r._host;this._port=r._port;this._path=r._path.slice();this._query=r._query;this._username=r._username;this._password=r._password;break e}else if(c==="/"||c==="\\"){if(c==="\\"){n("\\ is an invalid code point.")}a="relative slash"}else if(c==="?"){this._host=r._host;this._port=r._port;this._path=r._path.slice();this._query="?";this._username=r._username;this._password=r._password;a="query"}else if(c==="#"){this._host=r._host;this._port=r._port;this._path=r._path.slice();this._query=r._query;this._fragment="#";this._username=r._username;this._password=r._password;a="fragment"}else{var f=e[i+1];var d=e[i+2];if(this._scheme!=="file"||!R.test(c)||f!==":"&&f!=="|"||d!==C&&d!=="/"&&d!=="\\"&&d!=="?"&&d!=="#"){this._host=r._host;this._port=r._port;this._username=r._username;this._password=r._password;this._path=r._path.slice();this._path.pop()}a="relative path";continue}break;case"relative slash":if(c==="/"||c==="\\"){if(c==="\\"){n("\\ is an invalid code point.")}if(this._scheme==="file"){a="file host"}else{a="authority ignore slashes"}}else{if(this._scheme!=="file"){this._host=r._host;this._port=r._port;this._username=r._username;this._password=r._password}a="relative path";continue}break;case"authority first slash":if(c==="/"){a="authority second slash"}else{n("Expected '/', got: "+c);a="authority ignore slashes";continue}break;case"authority second slash":a="authority ignore slashes";if(c!=="/"){n("Expected '/', got: "+c);continue}break;case"authority ignore slashes":if(c!=="/"&&c!=="\\"){a="authority";continue}else{n("Expected authority, got: "+c)}break;case"authority":if(c==="@"){if(o){n("@ already seen.");s+="%40"}o=true;for(var h=0;h<s.length;h++){var v=s[h];if(v==="\t"||v==="\n"||v==="\r"){n("Invalid whitespace in authority.");continue}if(v===":"&&this._password===null){this._password="";continue}var p=w(v);if(this._password!==null){this._password+=p}else{this._username+=p}}s=""}else if(c===C||c==="/"||c==="\\"||c==="?"||c==="#"){i-=s.length;s="";a="host";continue}else{s+=c}break;case"file host":if(c===C||c==="/"||c==="\\"||c==="?"||c==="#"){if(s.length===2&&R.test(s[0])&&(s[1]===":"||s[1]==="|")){a="relative path"}else if(s.length===0){a="relative path start"}else{this._host=S.call(this,s);s="";a="relative path start"}continue}else if(c==="\t"||c==="\n"||c==="\r"){n("Invalid whitespace in file host.")}else{s+=c}break;case"host":case"hostname":if(c===":"&&!u){this._host=S.call(this,s);s="";a="port";if(t==="hostname"){break e}}else if(c===C||c==="/"||c==="\\"||c==="?"||c==="#"){this._host=S.call(this,s);s="";a="relative path start";if(t){break e}continue}else if(c!=="\t"&&c!=="\n"&&c!=="\r"){if(c==="["){u=true}else if(c==="]"){u=false}s+=c}else{n("Invalid code point in host/hostname: "+c)}break;case"port":if(/[0-9]/.test(c)){s+=c}else if(c===C||c==="/"||c==="\\"||c==="?"||c==="#"||t){if(s!==""){var m=parseInt(s,10);if(m!==b[this._scheme]){this._port=m+""}s=""}if(t){break e}a="relative path start";continue}else if(c==="\t"||c==="\n"||c==="\r"){n("Invalid code point in port: "+c)}else{A.call(this)}break;case"relative path start":if(c==="\\"){n("'\\' not allowed in path.")}a="relative path";if(c!=="/"&&c!=="\\"){continue}break;case"relative path":if(c===C||c==="/"||c==="\\"||!t&&(c==="?"||c==="#")){if(c==="\\"){n("\\ not allowed in relative path.")}var g;if(g=_[s.toLowerCase()]){s=g}if(s===".."){this._path.pop();if(c!=="/"&&c!=="\\"){this._path.push("")}}else if(s==="."&&c!=="/"&&c!=="\\"){this._path.push("")}else if(s!=="."){if(this._scheme==="file"&&this._path.length===0&&s.length===2&&R.test(s[0])&&s[1]==="|"){s=s[0]+":"}this._path.push(s)}s="";if(c==="?"){this._query="?";a="query"}else if(c==="#"){this._fragment="#";a="fragment"}}else if(c!=="\t"&&c!=="\n"&&c!=="\r"){s+=w(c)}break;case"query":if(!t&&c==="#"){this._fragment="#";a="fragment"}else if(c!==C&&c!=="\t"&&c!=="\n"&&c!=="\r"){this._query+=P(c)}break;case"fragment":if(c!==C&&c!=="\t"&&c!=="\n"&&c!=="\r"){this._fragment+=c}break}i++}}function a(){this._scheme="";this._schemeData="";this._username="";this._password=null;this._host="";this._port="";this._path=[];this._query="";this._fragment="";this._isInvalid=false;this._isRelative=false}function i(e,t){if(t!==undefined&&!(t instanceof i)){t=new i(String(t))}this._url=e;a.call(this);var r=e.replace(/^[ \t\r\n\f]+|[ \t\r\n\f]+$/g,"");n.call(this,r,null,t)}i.prototype={toString:function e(){return this.href},get href(){if(this._isInvalid){return this._url}var e="";if(this._username!==""||this._password!==null){e=this._username+(this._password!==null?":"+this._password:"")+"@"}return this.protocol+(this._isRelative?"//"+e+this.host:"")+this.pathname+this._query+this._fragment},set href(e){a.call(this);n.call(this,e)},get protocol(){return this._scheme+":"},set protocol(e){if(this._isInvalid){return}n.call(this,e+":","scheme start")},get host(){return this._isInvalid?"":this._port?this._host+":"+this._port:this._host},set host(e){if(this._isInvalid||!this._isRelative){return}n.call(this,e,"host")},get hostname(){return this._host},set hostname(e){if(this._isInvalid||!this._isRelative){return}n.call(this,e,"hostname")},get port(){return this._port},set port(e){if(this._isInvalid||!this._isRelative){return}n.call(this,e,"port")},get pathname(){return this._isInvalid?"":this._isRelative?"/"+this._path.join("/"):this._schemeData},set pathname(e){if(this._isInvalid||!this._isRelative){return}this._path=[];n.call(this,e,"relative path start")},get search(){return this._isInvalid||!this._query||this._query==="?"?"":this._query},set search(e){if(this._isInvalid||!this._isRelative){return}this._query="?";if(e[0]==="?"){e=e.slice(1)}n.call(this,e,"query")},get hash(){return this._isInvalid||!this._fragment||this._fragment==="#"?"":this._fragment},set hash(e){if(this._isInvalid){return}this._fragment="#";if(e[0]==="#"){e=e.slice(1)}n.call(this,e,"fragment")},get origin(){var e;if(this._isInvalid||!this._scheme){return""}switch(this._scheme){case"data":case"file":case"javascript":case"mailto":return"null";case"blob":try{return new i(this._schemeData).origin||"null"}catch(e){}return"null"}e=this.host;if(!e){return""}return this._scheme+"://"+e}};var s=u.URL;if(s){i.createObjectURL=function(e){return s.createObjectURL.apply(s,arguments)};i.revokeObjectURL=function(e){s.revokeObjectURL(e)}}u.URL=i})()}},function(e,t,r){"use strict";r(66);e.exports=r(5).Object.values},function(e,t,r){"use strict";var n=r(4);var a=r(67)(false);n(n.S,"Object",{values:function e(t){return a(t)}})},function(e,t,r){"use strict";var u=r(21);var l=r(17);var c=r(31).f;e.exports=function(o){return function(e){var t=l(e);var r=u(t);var n=r.length;var a=0;var i=[];var s;while(n>a){if(c.call(t,s=r[a++])){i.push(o?[s,t[s]]:t[s])}}return i}}},function(e,t,r){"use strict";var s=r(7);var o=r(17);var u=r(41)(false);var l=r(30)("IE_PROTO");e.exports=function(e,t){var r=o(e);var n=0;var a=[];var i;for(i in r){if(i!=l)s(r,i)&&a.push(i)}while(t.length>n){if(s(r,i=t[n++])){~u(a,i)||a.push(i)}}return a}},function(e,t,r){"use strict";var n=r(29);var a=Math.max;var i=Math.min;e.exports=function(e,t){e=n(e);return e<0?a(e+t,0):i(e,t)}},function(e,t,r){"use strict";r(71);e.exports=r(5).Array.includes},function(e,t,r){"use strict";var n=r(4);var a=r(41)(true);n(n.P,"Array",{includes:function e(t){return a(this,t,arguments.length>1?arguments[1]:undefined)}});r(44)("includes")},function(e,t,r){"use strict";r(73);e.exports=r(5).Number.isNaN},function(e,t,r){"use strict";var n=r(4);n(n.S,"Number",{isNaN:function e(t){return t!=t}})},function(e,t,r){"use strict";r(75);e.exports=r(5).Number.isInteger},function(e,t,r){"use strict";var n=r(4);n(n.S,"Number",{isInteger:r(76)})},function(e,t,r){"use strict";var n=r(1);var a=Math.floor;e.exports=function e(t){return!n(t)&&isFinite(t)&&a(t)===t}},function(e,t,r){"use strict";r(45);r(78);r(49);r(86);r(93);r(94);e.exports=r(5).Promise},function(e,t,r){"use strict";var n=r(79)(true);r(46)(String,"String",function(e){this._t=String(e);this._i=0},function(){var e=this._t;var t=this._i;var r;if(t>=e.length)return{value:undefined,done:true};r=n(e,t);this._i+=r.length;return{value:r,done:false}})},function(e,t,r){"use strict";var u=r(29);var l=r(27);e.exports=function(o){return function(e,t){var r=String(l(e));var n=u(t);var a=r.length;var i,s;if(n<0||n>=a)return o?"":undefined;i=r.charCodeAt(n);return i<55296||i>56319||n+1===a||(s=r.charCodeAt(n+1))<56320||s>57343?o?r.charAt(n):i:o?r.slice(n,n+2):(i-55296<<10)+(s-56320)+65536}}},function(e,t,r){"use strict";var n=r(81);var a=r(25);var i=r(22);var s={};r(11)(s,r(2)("iterator"),function(){return this});e.exports=function(e,t,r){e.prototype=n(s,{next:a(1,r)});i(e,t+" Iterator")}},function(e,t,s){"use strict";var a=s(6);var i=s(82);var o=s(43);var u=s(30)("IE_PROTO");var l=function e(){};var c="prototype";var f=function e(){var t=s(24)("iframe");var r=o.length;var n="<";var a=">";var i;t.style.display="none";s(48).appendChild(t);t.src="javascript:";i=t.contentWindow.document;i.open();i.write(n+"script"+a+"document.F=Object"+n+"/script"+a);i.close();f=i.F;while(r--){delete f[c][o[r]]}return f()};e.exports=Object.create||function e(t,r){var n;if(t!==null){l[c]=a(t);n=new l;l[c]=null;n[u]=t}else n=f();return r===undefined?n:i(n,r)}},function(e,t,r){"use strict";var o=r(15);var u=r(6);var l=r(21);e.exports=r(12)?Object.defineProperties:function e(t,r){u(t);var n=l(r);var a=n.length;var i=0;var s;while(a>i){o.f(t,s=n[i++],r[s])}return t}},function(e,t,r){"use strict";var n=r(7);var a=r(33);var i=r(30)("IE_PROTO");var s=Object.prototype;e.exports=Object.getPrototypeOf||function(e){e=a(e);if(n(e,i))return e[i];if(typeof e.constructor=="function"&&e instanceof e.constructor){return e.constructor.prototype}return e instanceof Object?s:null}},function(e,t,r){"use strict";var n=r(44);var a=r(85);var i=r(19);var s=r(17);e.exports=r(46)(Array,"Array",function(e,t){this._t=s(e);this._i=0;this._k=t},function(){var e=this._t;var t=this._k;var r=this._i++;if(!e||r>=e.length){this._t=undefined;return a(1)}if(t=="keys")return a(0,r);if(t=="values")return a(0,e[r]);return a(0,[r,e[r]])},"values");i.Arguments=i.Array;n("keys");n("values");n("entries")},function(e,t,r){"use strict";e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,r){"use strict";var n=r(47);var s=r(3);var i=r(10);var a=r(32);var o=r(4);var u=r(1);var l=r(16);var c=r(34);var f=r(23);var d=r(50);var h=r(51).set;var v=r(91)();var p=r(35);var m=r(52);var g=r(53);var b="Promise";var _=s.TypeError;var y=s.process;var A=s[b];var S=a(y)=="process";var w=function e(){};var P,C,R,k;var x=C=p.f;var T=!!function(){try{var e=A.resolve(1);var t=(e.constructor={})[r(2)("species")]=function(e){e(w,w)};return(S||typeof PromiseRejectionEvent=="function")&&e.then(w)instanceof t}catch(e){}}();var E=function e(t){var r;return u(t)&&typeof(r=t.then)=="function"?r:false};var O=function e(c,r){if(c._n)return;c._n=true;var n=c._c;v(function(){var u=c._v;var l=c._s==1;var e=0;var t=function e(t){var r=l?t.ok:t.fail;var n=t.resolve;var a=t.reject;var i=t.domain;var s,o;try{if(r){if(!l){if(c._h==2)F(c);c._h=1}if(r===true)s=u;else{if(i)i.enter();s=r(u);if(i)i.exit()}if(s===t.promise){a(_("Promise-chain cycle"))}else if(o=E(s)){o.call(s,n,a)}else n(s)}else a(u)}catch(e){a(e)}};while(n.length>e){t(n[e++])}c._c=[];c._n=false;if(r&&!c._h)L(c)})};var L=function e(i){h.call(s,function(){var e=i._v;var t=I(i);var r,n,a;if(t){r=m(function(){if(S){y.emit("unhandledRejection",e,i)}else if(n=s.onunhandledrejection){n({promise:i,reason:e})}else if((a=s.console)&&a.error){a.error("Unhandled promise rejection",e)}});i._h=S||I(i)?2:1}i._a=undefined;if(t&&r.e)throw r.v})};var I=function e(t){if(t._h==1)return false;var r=t._a||t._c;var n=0;var a;while(r.length>n){a=r[n++];if(a.fail||!e(a.promise))return false}return true};var F=function e(t){h.call(s,function(){var e;if(S){y.emit("rejectionHandled",t)}else if(e=s.onrejectionhandled){e({promise:t,reason:t._v})}})};var D=function e(t){var r=this;if(r._d)return;r._d=true;r=r._w||r;r._v=t;r._s=2;if(!r._a)r._a=r._c.slice();O(r,true)};var j=function e(r){var n=this;var a;if(n._d)return;n._d=true;n=n._w||n;try{if(n===r)throw _("Promise can't be resolved itself");if(a=E(r)){v(function(){var t={_w:n,_d:false};try{a.call(r,i(e,t,1),i(D,t,1))}catch(e){D.call(t,e)}})}else{n._v=r;n._s=1;O(n,false)}}catch(e){D.call({_w:n,_d:false},e)}};if(!T){A=function e(t){c(this,A,b,"_h");l(t);P.call(this);try{t(i(j,this,1),i(D,this,1))}catch(e){D.call(this,e)}};P=function e(t){this._c=[];this._a=undefined;this._s=0;this._d=false;this._v=undefined;this._h=0;this._n=false};P.prototype=r(36)(A.prototype,{then:function e(t,r){var n=x(d(this,A));n.ok=typeof t=="function"?t:true;n.fail=typeof r=="function"&&r;n.domain=S?y.domain:undefined;this._c.push(n);if(this._a)this._a.push(n);if(this._s)O(this,false);return n.promise},catch:function e(t){return this.then(undefined,t)}});R=function e(){var t=new P;this.promise=t;this.resolve=i(j,t,1);this.reject=i(D,t,1)};p.f=x=function e(t){return t===A||t===k?new R(t):C(t)}}o(o.G+o.W+o.F*!T,{Promise:A});r(22)(A,b);r(92)(b);k=r(5)[b];o(o.S+o.F*!T,b,{reject:function e(t){var r=x(this);var n=r.reject;n(t);return r.promise}});o(o.S+o.F*(n||!T),b,{resolve:function e(t){return g(n&&this===k?A:this,t)}});o(o.S+o.F*!(T&&r(54)(function(e){A.all(e)["catch"](w)})),b,{all:function e(t){var s=this;var r=x(s);var o=r.resolve;var u=r.reject;var n=m(function(){var n=[];var a=0;var i=1;f(t,false,function(e){var t=a++;var r=false;n.push(undefined);i++;s.resolve(e).then(function(e){if(r)return;r=true;n[t]=e;--i||o(n)},u)});--i||o(n)});if(n.e)u(n.v);return r.promise},race:function e(t){var r=this;var n=x(r);var a=n.reject;var i=m(function(){f(t,false,function(e){r.resolve(e).then(n.resolve,a)})});if(i.e)a(i.v);return n.promise}})},function(e,t,r){"use strict";var i=r(6);e.exports=function(t,e,r,n){try{return n?e(i(r)[0],r[1]):e(r)}catch(e){var a=t["return"];if(a!==undefined)i(a.call(t));throw e}}},function(e,t,r){"use strict";var n=r(19);var a=r(2)("iterator");var i=Array.prototype;e.exports=function(e){return e!==undefined&&(n.Array===e||i[a]===e)}},function(e,t,r){"use strict";var n=r(32);var a=r(2)("iterator");var i=r(19);e.exports=r(5).getIteratorMethod=function(e){if(e!=undefined)return e[a]||e["@@iterator"]||i[n(e)]}},function(e,t,r){"use strict";e.exports=function(e,t,r){var n=r===undefined;switch(t.length){case 0:return n?e():e.call(r);case 1:return n?e(t[0]):e.call(r,t[0]);case 2:return n?e(t[0],t[1]):e.call(r,t[0],t[1]);case 3:return n?e(t[0],t[1],t[2]):e.call(r,t[0],t[1],t[2]);case 4:return n?e(t[0],t[1],t[2],t[3]):e.call(r,t[0],t[1],t[2],t[3])}return e.apply(r,t)}},function(e,t,r){"use strict";var u=r(3);var l=r(51).set;var c=u.MutationObserver||u.WebKitMutationObserver;var f=u.process;var d=u.Promise;var h=r(18)(f)=="process";e.exports=function(){var n,a,i;var t=function e(){var t,r;if(h&&(t=f.domain))t.exit();while(n){r=n.fn;n=n.next;try{r()}catch(e){if(n)i();else a=undefined;throw e}}a=undefined;if(t)t.enter()};if(h){i=function e(){f.nextTick(t)}}else if(c){var r=true;var s=document.createTextNode("");new c(t).observe(s,{characterData:true});i=function e(){s.data=r=!r}}else if(d&&d.resolve){var o=d.resolve();i=function e(){o.then(t)}}else{i=function e(){l.call(u,t)}}return function(e){var t={fn:e,next:undefined};if(a)a.next=t;if(!n){n=t;i()}a=t}}},function(e,t,r){"use strict";var n=r(3);var a=r(15);var i=r(12);var s=r(2)("species");e.exports=function(e){var t=n[e];if(i&&t&&!t[s])a.f(t,s,{configurable:true,get:function e(){return this}})}},function(e,t,r){"use strict";var n=r(4);var a=r(5);var i=r(3);var s=r(50);var o=r(53);n(n.P+n.R,"Promise",{finally:function e(t){var r=s(this,a.Promise||i.Promise);var n=typeof t=="function";return this.then(n?function(e){return o(r,t()).then(function(){return e})}:t,n?function(e){return o(r,t()).then(function(){throw e})}:t)}})},function(e,t,r){"use strict";var n=r(4);var a=r(35);var i=r(52);n(n.S,"Promise",{try:function e(t){var r=a.f(this);var n=i(t);(n.e?r.reject:r.resolve)(n.v);return r.promise}})},function(e,t,r){"use strict";r(45);r(49);r(96);r(107);r(109);e.exports=r(5).WeakMap},function(e,t,r){"use strict";var n=r(55)(0);var i=r(9);var a=r(37);var s=r(100);var o=r(102);var u=r(1);var l=r(13);var c=r(56);var f="WeakMap";var d=a.getWeak;var h=Object.isExtensible;var v=o.ufstore;var p={};var m;var g=function e(t){return function e(){return t(this,arguments.length>0?arguments[0]:undefined)}};var b={get:function e(t){if(u(t)){var r=d(t);if(r===true)return v(c(this,f)).get(t);return r?r[this._i]:undefined}},set:function e(t,r){return o.def(c(this,f),t,r)}};var _=e.exports=r(103)(f,g,b,o,true,true);if(l(function(){return(new _).set((Object.freeze||Object)(p),7).get(p)!=7})){m=o.getConstructor(g,f);s(m.prototype,b);a.NEED=true;n(["delete","has","get","set"],function(n){var e=_.prototype;var a=e[n];i(e,n,function(e,t){if(u(e)&&!h(e)){if(!this._f)this._f=new m;var r=this._f[n](e,t);return n=="set"?this:r}return a.call(this,e,t)})})}},function(e,t,r){"use strict";var n=r(98);e.exports=function(e,t){return new(n(e))(t)}},function(e,t,r){"use strict";var n=r(1);var a=r(99);var i=r(2)("species");e.exports=function(e){var t;if(a(e)){t=e.constructor;if(typeof t=="function"&&(t===Array||a(t.prototype)))t=undefined;if(n(t)){t=t[i];if(t===null)t=undefined}}return t===undefined?Array:t}},function(e,t,r){"use strict";var n=r(18);e.exports=Array.isArray||function e(t){return n(t)=="Array"}},function(e,t,r){"use strict";var h=r(21);var v=r(101);var p=r(31);var m=r(33);var g=r(26);var a=Object.assign;e.exports=!a||r(13)(function(){var e={};var t={};var r=Symbol();var n="abcdefghijklmnopqrst";e[r]=7;n.split("").forEach(function(e){t[e]=e});return a({},e)[r]!=7||Object.keys(a({},t)).join("")!=n})?function e(t,r){var n=m(t);var a=arguments.length;var i=1;var s=v.f;var o=p.f;while(a>i){var u=g(arguments[i++]);var l=s?h(u).concat(s(u)):h(u);var c=l.length;var f=0;var d;while(c>f){if(o.call(u,d=l[f++]))n[d]=u[d]}}return n}:a},function(e,t,r){"use strict";t.f=Object.getOwnPropertySymbols},function(e,t,r){"use strict";var s=r(36);var o=r(37).getWeak;var i=r(6);var u=r(1);var l=r(34);var c=r(23);var n=r(55);var f=r(7);var d=r(56);var a=n(5);var h=n(6);var v=0;var p=function e(t){return t._l||(t._l=new m)};var m=function e(){this.a=[]};var g=function e(t,r){return a(t.a,function(e){return e[0]===r})};m.prototype={get:function e(t){var r=g(this,t);if(r)return r[1]},has:function e(t){return!!g(this,t)},set:function e(t,r){var n=g(this,t);if(n)n[1]=r;else this.a.push([t,r])},delete:function e(t){var r=h(this.a,function(e){return e[0]===t});if(~r)this.a.splice(r,1);return!!~r}};e.exports={getConstructor:function e(t,n,r,a){var i=t(function(e,t){l(e,i,n,"_i");e._t=n;e._i=v++;e._l=undefined;if(t!=undefined)c(t,r,e[a],e)});s(i.prototype,{delete:function e(t){if(!u(t))return false;var r=o(t);if(r===true)return p(d(this,n))["delete"](t);return r&&f(r,this._i)&&delete r[this._i]},has:function e(t){if(!u(t))return false;var r=o(t);if(r===true)return p(d(this,n)).has(t);return r&&f(r,this._i)}});return i},def:function e(t,r,n){var a=o(i(r),true);if(a===true)p(t).set(r,n);else a[t._i]=n;return t},ufstore:p}},function(e,t,r){"use strict";var g=r(3);var b=r(4);var _=r(9);var y=r(36);var A=r(37);var S=r(23);var w=r(34);var P=r(1);var C=r(13);var R=r(54);var k=r(22);var x=r(104);e.exports=function(n,e,t,r,a,i){var s=g[n];var o=s;var u=a?"set":"add";var l=o&&o.prototype;var c={};var f=function e(t){var n=l[t];_(l,t,t=="delete"?function(e){return i&&!P(e)?false:n.call(this,e===0?0:e)}:t=="has"?function e(t){return i&&!P(t)?false:n.call(this,t===0?0:t)}:t=="get"?function e(t){return i&&!P(t)?undefined:n.call(this,t===0?0:t)}:t=="add"?function e(t){n.call(this,t===0?0:t);return this}:function e(t,r){n.call(this,t===0?0:t,r);return this})};if(typeof o!="function"||!(i||l.forEach&&!C(function(){(new o).entries().next()}))){o=r.getConstructor(e,n,a,u);y(o.prototype,t);A.NEED=true}else{var d=new o;var h=d[u](i?{}:-0,1)!=d;var v=C(function(){d.has(1)});var p=R(function(e){new o(e)});var m=!i&&C(function(){var e=new o;var t=5;while(t--){e[u](t,t)}return!e.has(-0)});if(!p){o=e(function(e,t){w(e,o,n);var r=x(new s,e,o);if(t!=undefined)S(t,a,r[u],r);return r});o.prototype=l;l.constructor=o}if(v||m){f("delete");f("has");a&&f("get")}if(m||h)f(u);if(i&&l.clear)delete l.clear}k(o,n);c[n]=o;b(b.G+b.W+b.F*(o!=s),c);if(!i)r.setStrong(o,n,a);return o}},function(e,t,r){"use strict";var i=r(1);var s=r(105).set;e.exports=function(e,t,r){var n=t.constructor;var a;if(n!==r&&typeof n=="function"&&(a=n.prototype)!==r.prototype&&i(a)&&s){s(e,a)}return e}},function(e,t,r){"use strict";var n=r(1);var a=r(6);var i=function e(t,r){a(t);if(!n(r)&&r!==null)throw TypeError(r+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,n,a){try{a=r(10)(Function.call,r(106).f(Object.prototype,"__proto__").set,2);a(e,[]);n=!(e instanceof Array)}catch(e){n=true}return function e(t,r){i(t,r);if(n)t.__proto__=r;else a(t,r);return t}}({},false):undefined),check:i}},function(e,t,r){"use strict";var n=r(31);var a=r(25);var i=r(17);var s=r(40);var o=r(7);var u=r(39);var l=Object.getOwnPropertyDescriptor;t.f=r(12)?l:function e(t,r){t=i(t);r=s(r,true);if(u)try{return l(t,r)}catch(e){}if(o(t,r))return a(!n.f.call(t,r),t[r])}},function(e,t,r){"use strict";r(108)("WeakMap")},function(e,t,r){"use strict";var n=r(4);e.exports=function(e){n(n.S,e,{of:function e(){var t=arguments.length;var r=Array(t);while(t--){r[t]=arguments[t]}return new this(r)}})}},function(e,t,r){"use strict";r(110)("WeakMap")},function(e,t,r){"use strict";var n=r(4);var o=r(16);var u=r(10);var l=r(23);e.exports=function(e){n(n.S,e,{from:function e(t){var r=arguments[1];var n,a,i,s;o(this);n=r!==undefined;if(n)o(r);if(t==undefined)return new this;a=[];if(n){i=0;s=u(r,arguments[2],2);l(t,false,function(e){a.push(s(e,i++))})}else{l(t,false,a.push,a)}return new this(a)}})}},function(e,t,r){"use strict";var n=false;if(typeof ReadableStream!=="undefined"){try{new ReadableStream({start:function e(t){t.close()}});n=true}catch(e){}}if(n){t.ReadableStream=ReadableStream}else{t.ReadableStream=r(112).ReadableStream}},function(e,t,r){"use strict";var i=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};(function(e,t){for(var r in t){e[r]=t[r]}})(t,function(r){var n={};function a(e){if(n[e])return n[e].exports;var t=n[e]={i:e,l:false,exports:{}};r[e].call(t.exports,t,t.exports,a);t.l=true;return t.exports}a.m=r;a.c=n;a.i=function(e){return e};a.d=function(e,t,r){if(!a.o(e,t)){Object.defineProperty(e,t,{configurable:false,enumerable:true,get:r})}};a.n=function(t){var e=t&&t.__esModule?function e(){return t["default"]}:function e(){return t};a.d(e,"a",e);return e};a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};a.p="";return a(a.s=7)}([function(e,n,t){"use strict";var r=typeof Symbol==="function"&&i(Symbol.iterator)==="symbol"?function(e){return typeof e==="undefined"?"undefined":i(e)}:function(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e==="undefined"?"undefined":i(e)};var a=t(1),s=a.assert;function o(e){return typeof e==="string"||(typeof e==="undefined"?"undefined":r(e))==="symbol"}n.typeIsObject=function(e){return(typeof e==="undefined"?"undefined":r(e))==="object"&&e!==null||typeof e==="function"};n.createDataProperty=function(e,t,r){s(n.typeIsObject(e));Object.defineProperty(e,t,{value:r,writable:true,enumerable:true,configurable:true})};n.createArrayFromList=function(e){return e.slice()};n.ArrayBufferCopy=function(e,t,r,n,a){new Uint8Array(e).set(new Uint8Array(r,n,a),t)};n.CreateIterResultObject=function(e,t){s(typeof t==="boolean");var r={};Object.defineProperty(r,"value",{value:e,enumerable:true,writable:true,configurable:true});Object.defineProperty(r,"done",{value:t,enumerable:true,writable:true,configurable:true});return r};n.IsFiniteNonNegativeNumber=function(e){if(Number.isNaN(e)){return false}if(e===Infinity){return false}if(e<0){return false}return true};function u(e,t,r){if(typeof e!=="function"){throw new TypeError("Argument is not a function")}return Function.prototype.apply.call(e,t,r)}n.InvokeOrNoop=function(e,t,r){s(e!==undefined);s(o(t));s(Array.isArray(r));var n=e[t];if(n===undefined){return undefined}return u(n,e,r)};n.PromiseInvokeOrNoop=function(e,t,r){s(e!==undefined);s(o(t));s(Array.isArray(r));try{return Promise.resolve(n.InvokeOrNoop(e,t,r))}catch(e){return Promise.reject(e)}};n.PromiseInvokeOrPerformFallback=function(e,t,r,n,a){s(e!==undefined);s(o(t));s(Array.isArray(r));s(Array.isArray(a));var i=void 0;try{i=e[t]}catch(e){return Promise.reject(e)}if(i===undefined){return n.apply(null,a)}try{return Promise.resolve(u(i,e,r))}catch(e){return Promise.reject(e)}};n.TransferArrayBuffer=function(e){return e.slice()};n.ValidateAndNormalizeHighWaterMark=function(e){e=Number(e);if(Number.isNaN(e)||e<0){throw new RangeError("highWaterMark property of a queuing strategy must be non-negative and non-NaN")}return e};n.ValidateAndNormalizeQueuingStrategy=function(e,t){if(e!==undefined&&typeof e!=="function"){throw new TypeError("size property of a queuing strategy must be a function")}t=n.ValidateAndNormalizeHighWaterMark(t);return{size:e,highWaterMark:t}}},function(e,t,r){"use strict";function n(e){if(e&&e.constructor===a){setTimeout(function(){throw e},0)}}function a(e){this.name="AssertionError";this.message=e||"";this.stack=(new Error).stack}a.prototype=Object.create(Error.prototype);a.prototype.constructor=a;function i(e,t){if(!e){throw new a(t)}}e.exports={rethrowAssertionErrorRejection:n,AssertionError:a,assert:i}},function(e,t,r){"use strict";var a=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(e,t,r){if(t)n(e.prototype,t);if(r)n(e,r);return e}}();function o(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var n=r(0),i=n.InvokeOrNoop,u=n.PromiseInvokeOrNoop,l=n.ValidateAndNormalizeQueuingStrategy,s=n.typeIsObject;var c=r(1),f=c.assert,d=c.rethrowAssertionErrorRejection;var h=r(3),v=h.DequeueValue,p=h.EnqueueValueWithSize,m=h.PeekQueueValue,g=h.ResetQueue;var b=function(){function s(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},r=t.size,n=t.highWaterMark,a=n===undefined?1:n;o(this,s);this._state="writable";this._storedError=undefined;this._writer=undefined;this._writableStreamController=undefined;this._writeRequests=[];this._inFlightWriteRequest=undefined;this._closeRequest=undefined;this._inFlightCloseRequest=undefined;this._pendingAbortRequest=undefined;this._backpressure=false;var i=e.type;if(i!==undefined){throw new RangeError("Invalid type is specified")}this._writableStreamController=new Y(this,e,r,a);this._writableStreamController.__startSteps()}a(s,[{key:"abort",value:function e(t){if(y(this)===false){return Promise.reject(ie("abort"))}if(A(this)===true){return Promise.reject(new TypeError("Cannot abort a stream that already has a writer"))}return S(this,t)}},{key:"getWriter",value:function e(){if(y(this)===false){throw ie("getWriter")}return _(this)}},{key:"locked",get:function e(){if(y(this)===false){throw ie("locked")}return A(this)}}]);return s}();e.exports={AcquireWritableStreamDefaultWriter:_,IsWritableStream:y,IsWritableStreamLocked:A,WritableStream:b,WritableStreamAbort:S,WritableStreamDefaultControllerError:ae,WritableStreamDefaultWriterCloseWithErrorPropagation:U,WritableStreamDefaultWriterRelease:H,WritableStreamDefaultWriterWrite:X,WritableStreamCloseQueuedOrInFlight:O};function _(e){return new M(e)}function y(e){if(!s(e)){return false}if(!Object.prototype.hasOwnProperty.call(e,"_writableStreamController")){return false}return true}function A(e){f(y(e)===true,"IsWritableStreamLocked should only be used on known writable streams");if(e._writer===undefined){return false}return true}function S(r,n){var e=r._state;if(e==="closed"){return Promise.resolve(undefined)}if(e==="errored"){return Promise.reject(r._storedError)}var t=new TypeError("Requested to abort");if(r._pendingAbortRequest!==undefined){return Promise.reject(t)}f(e==="writable"||e==="erroring","state must be writable or erroring");var a=false;if(e==="erroring"){a=true;n=undefined}var i=new Promise(function(e,t){r._pendingAbortRequest={_resolve:e,_reject:t,_reason:n,_wasAlreadyErroring:a}});if(a===false){C(r,t)}return i}function w(n){f(A(n)===true);f(n._state==="writable");var e=new Promise(function(e,t){var r={_resolve:e,_reject:t};n._writeRequests.push(r)});return e}function P(e,t){var r=e._state;if(r==="writable"){C(e,t);return}f(r==="erroring");R(e)}function C(e,t){f(e._storedError===undefined,"stream._storedError === undefined");f(e._state==="writable","state must be writable");var r=e._writableStreamController;f(r!==undefined,"controller must not be undefined");e._state="erroring";e._storedError=t;var n=e._writer;if(n!==undefined){z(n,t)}if(L(e)===false&&r._started===true){R(e)}}function R(t){f(t._state==="erroring","stream._state === erroring");f(L(t)===false,"WritableStreamHasOperationMarkedInFlight(stream) === false");t._state="errored";t._writableStreamController.__errorSteps();var e=t._storedError;for(var r=0;r<t._writeRequests.length;r++){var n=t._writeRequests[r];n._reject(e)}t._writeRequests=[];if(t._pendingAbortRequest===undefined){D(t);return}var a=t._pendingAbortRequest;t._pendingAbortRequest=undefined;if(a._wasAlreadyErroring===true){a._reject(e);D(t);return}var i=t._writableStreamController.__abortSteps(a._reason);i.then(function(){a._resolve();D(t)},function(e){a._reject(e);D(t)})}function k(e){f(e._inFlightWriteRequest!==undefined);e._inFlightWriteRequest._resolve(undefined);e._inFlightWriteRequest=undefined}function x(e,t){f(e._inFlightWriteRequest!==undefined);e._inFlightWriteRequest._reject(t);e._inFlightWriteRequest=undefined;f(e._state==="writable"||e._state==="erroring");P(e,t)}function T(e){f(e._inFlightCloseRequest!==undefined);e._inFlightCloseRequest._resolve(undefined);e._inFlightCloseRequest=undefined;var t=e._state;f(t==="writable"||t==="erroring");if(t==="erroring"){e._storedError=undefined;if(e._pendingAbortRequest!==undefined){e._pendingAbortRequest._resolve();e._pendingAbortRequest=undefined}}e._state="closed";var r=e._writer;if(r!==undefined){he(r)}f(e._pendingAbortRequest===undefined,"stream._pendingAbortRequest === undefined");f(e._storedError===undefined,"stream._storedError === undefined")}function E(e,t){f(e._inFlightCloseRequest!==undefined);e._inFlightCloseRequest._reject(t);e._inFlightCloseRequest=undefined;f(e._state==="writable"||e._state==="erroring");if(e._pendingAbortRequest!==undefined){e._pendingAbortRequest._reject(t);e._pendingAbortRequest=undefined}P(e,t)}function O(e){if(e._closeRequest===undefined&&e._inFlightCloseRequest===undefined){return false}return true}function L(e){if(e._inFlightWriteRequest===undefined&&e._inFlightCloseRequest===undefined){return false}return true}function I(e){f(e._inFlightCloseRequest===undefined);f(e._closeRequest!==undefined);e._inFlightCloseRequest=e._closeRequest;e._closeRequest=undefined}function F(e){f(e._inFlightWriteRequest===undefined,"there must be no pending write request");f(e._writeRequests.length!==0,"writeRequests must not be empty");e._inFlightWriteRequest=e._writeRequests.shift()}function D(e){f(e._state==="errored",'_stream_.[[state]] is `"errored"`');if(e._closeRequest!==undefined){f(e._inFlightCloseRequest===undefined);e._closeRequest._reject(e._storedError);e._closeRequest=undefined}var t=e._writer;if(t!==undefined){fe(t,e._storedError);t._closedPromise.catch(function(){})}}function j(e,t){f(e._state==="writable");f(O(e)===false);var r=e._writer;if(r!==undefined&&t!==e._backpressure){if(t===true){be(r)}else{f(t===false);ye(r)}}e._backpressure=t}var M=function(){function n(e){o(this,n);if(y(e)===false){throw new TypeError("WritableStreamDefaultWriter can only be constructed with a WritableStream instance")}if(A(e)===true){throw new TypeError("This stream has already been locked for exclusive writing by another writer")}this._ownerWritableStream=e;e._writer=this;var t=e._state;if(t==="writable"){if(O(e)===false&&e._backpressure===true){ve(this)}else{me(this)}ue(this)}else if(t==="erroring"){pe(this,e._storedError);this._readyPromise.catch(function(){});ue(this)}else if(t==="closed"){me(this);ce(this)}else{f(t==="errored","state must be errored");var r=e._storedError;pe(this,r);this._readyPromise.catch(function(){});le(this,r);this._closedPromise.catch(function(){})}}a(n,[{key:"abort",value:function e(t){if(N(this)===false){return Promise.reject(se("abort"))}if(this._ownerWritableStream===undefined){return Promise.reject(oe("abort"))}return q(this,t)}},{key:"close",value:function e(){if(N(this)===false){return Promise.reject(se("close"))}var t=this._ownerWritableStream;if(t===undefined){return Promise.reject(oe("close"))}if(O(t)===true){return Promise.reject(new TypeError("cannot close an already-closing stream"))}return W(this)}},{key:"releaseLock",value:function e(){if(N(this)===false){throw se("releaseLock")}var t=this._ownerWritableStream;if(t===undefined){return}f(t._writer!==undefined);H(this)}},{key:"write",value:function e(t){if(N(this)===false){return Promise.reject(se("write"))}if(this._ownerWritableStream===undefined){return Promise.reject(oe("write to"))}return X(this,t)}},{key:"closed",get:function e(){if(N(this)===false){return Promise.reject(se("closed"))}return this._closedPromise}},{key:"desiredSize",get:function e(){if(N(this)===false){throw se("desiredSize")}if(this._ownerWritableStream===undefined){throw oe("desiredSize")}return G(this)}},{key:"ready",get:function e(){if(N(this)===false){return Promise.reject(se("ready"))}return this._readyPromise}}]);return n}();function N(e){if(!s(e)){return false}if(!Object.prototype.hasOwnProperty.call(e,"_ownerWritableStream")){return false}return true}function q(e,t){var r=e._ownerWritableStream;f(r!==undefined);return S(r,t)}function W(e){var n=e._ownerWritableStream;f(n!==undefined);var t=n._state;if(t==="closed"||t==="errored"){return Promise.reject(new TypeError("The stream (in "+t+" state) is not in the writable state and cannot be closed"))}f(t==="writable"||t==="erroring");f(O(n)===false);var r=new Promise(function(e,t){var r={_resolve:e,_reject:t};n._closeRequest=r});if(n._backpressure===true&&t==="writable"){ye(e)}V(n._writableStreamController);return r}function U(e){var t=e._ownerWritableStream;f(t!==undefined);var r=t._state;if(O(t)===true||r==="closed"){return Promise.resolve()}if(r==="errored"){return Promise.reject(t._storedError)}f(r==="writable"||r==="erroring");return W(e)}function B(e,t){if(e._closedPromiseState==="pending"){fe(e,t)}else{de(e,t)}e._closedPromise.catch(function(){})}function z(e,t){if(e._readyPromiseState==="pending"){ge(e,t)}else{_e(e,t)}e._readyPromise.catch(function(){})}function G(e){var t=e._ownerWritableStream;var r=t._state;if(r==="errored"||r==="erroring"){return null}if(r==="closed"){return 0}return Q(t._writableStreamController)}function H(e){var t=e._ownerWritableStream;f(t!==undefined);f(t._writer===e);var r=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");z(e,r);B(e,r);t._writer=undefined;e._ownerWritableStream=undefined}function X(e,t){var r=e._ownerWritableStream;f(r!==undefined);var n=r._writableStreamController;var a=J(n,t);if(r!==e._ownerWritableStream){return Promise.reject(oe("write to"))}var i=r._state;if(i==="errored"){return Promise.reject(r._storedError)}if(O(r)===true||i==="closed"){return Promise.reject(new TypeError("The stream is closing or closed and cannot be written to"))}if(i==="erroring"){return Promise.reject(r._storedError)}f(i==="writable");var s=w(r);K(n,t,a);return s}var Y=function(){function s(e,t,r,n){o(this,s);if(y(e)===false){throw new TypeError("WritableStreamDefaultController can only be constructed with a WritableStream instance")}if(e._writableStreamController!==undefined){throw new TypeError("WritableStreamDefaultController instances can only be created by the WritableStream constructor")}this._controlledWritableStream=e;this._underlyingSink=t;this._queue=undefined;this._queueTotalSize=undefined;g(this);this._started=false;var a=l(r,n);this._strategySize=a.size;this._strategyHWM=a.highWaterMark;var i=ne(this);j(e,i)}a(s,[{key:"error",value:function e(t){if(Z(this)===false){throw new TypeError("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController")}var r=this._controlledWritableStream._state;if(r!=="writable"){return}ae(this,t)}},{key:"__abortSteps",value:function e(t){return u(this._underlyingSink,"abort",[t])}},{key:"__errorSteps",value:function e(){g(this)}},{key:"__startSteps",value:function e(){var t=this;var r=i(this._underlyingSink,"start",[this]);var n=this._controlledWritableStream;Promise.resolve(r).then(function(){f(n._state==="writable"||n._state==="erroring");t._started=true;$(t)},function(e){f(n._state==="writable"||n._state==="erroring");t._started=true;P(n,e)}).catch(d)}}]);return s}();function V(e){p(e,"close",0);$(e)}function J(t,e){var r=t._strategySize;if(r===undefined){return 1}try{return r(e)}catch(e){ee(t,e);return 1}}function Q(e){return e._strategyHWM-e._queueTotalSize}function K(t,e,r){var n={chunk:e};try{p(t,n,r)}catch(e){ee(t,e);return}var a=t._controlledWritableStream;if(O(a)===false&&a._state==="writable"){var i=ne(t);j(a,i)}$(t)}function Z(e){if(!s(e)){return false}if(!Object.prototype.hasOwnProperty.call(e,"_underlyingSink")){return false}return true}function $(e){var t=e._controlledWritableStream;if(e._started===false){return}if(t._inFlightWriteRequest!==undefined){return}var r=t._state;if(r==="closed"||r==="errored"){return}if(r==="erroring"){R(t);return}if(e._queue.length===0){return}var n=m(e);if(n==="close"){te(e)}else{re(e,n.chunk)}}function ee(e,t){if(e._controlledWritableStream._state==="writable"){ae(e,t)}}function te(e){var t=e._controlledWritableStream;I(t);v(e);f(e._queue.length===0,"queue must be empty once the final write record is dequeued");var r=u(e._underlyingSink,"close",[]);r.then(function(){T(t)},function(e){E(t,e)}).catch(d)}function re(r,e){var n=r._controlledWritableStream;F(n);var t=u(r._underlyingSink,"write",[e,r]);t.then(function(){k(n);var e=n._state;f(e==="writable"||e==="erroring");v(r);if(O(n)===false&&e==="writable"){var t=ne(r);j(n,t)}$(r)},function(e){x(n,e)}).catch(d)}function ne(e){var t=Q(e);return t<=0}function ae(e,t){var r=e._controlledWritableStream;f(r._state==="writable");C(r,t)}function ie(e){return new TypeError("WritableStream.prototype."+e+" can only be used on a WritableStream")}function se(e){return new TypeError("WritableStreamDefaultWriter.prototype."+e+" can only be used on a WritableStreamDefaultWriter")}function oe(e){return new TypeError("Cannot "+e+" a stream using a released writer")}function ue(r){r._closedPromise=new Promise(function(e,t){r._closedPromise_resolve=e;r._closedPromise_reject=t;r._closedPromiseState="pending"})}function le(e,t){e._closedPromise=Promise.reject(t);e._closedPromise_resolve=undefined;e._closedPromise_reject=undefined;e._closedPromiseState="rejected"}function ce(e){e._closedPromise=Promise.resolve(undefined);e._closedPromise_resolve=undefined;e._closedPromise_reject=undefined;e._closedPromiseState="resolved"}function fe(e,t){f(e._closedPromise_resolve!==undefined,"writer._closedPromise_resolve !== undefined");f(e._closedPromise_reject!==undefined,"writer._closedPromise_reject !== undefined");f(e._closedPromiseState==="pending","writer._closedPromiseState is pending");e._closedPromise_reject(t);e._closedPromise_resolve=undefined;e._closedPromise_reject=undefined;e._closedPromiseState="rejected"}function de(e,t){f(e._closedPromise_resolve===undefined,"writer._closedPromise_resolve === undefined");f(e._closedPromise_reject===undefined,"writer._closedPromise_reject === undefined");f(e._closedPromiseState!=="pending","writer._closedPromiseState is not pending");e._closedPromise=Promise.reject(t);e._closedPromiseState="rejected"}function he(e){f(e._closedPromise_resolve!==undefined,"writer._closedPromise_resolve !== undefined");f(e._closedPromise_reject!==undefined,"writer._closedPromise_reject !== undefined");f(e._closedPromiseState==="pending","writer._closedPromiseState is pending");e._closedPromise_resolve(undefined);e._closedPromise_resolve=undefined;e._closedPromise_reject=undefined;e._closedPromiseState="resolved"}function ve(r){r._readyPromise=new Promise(function(e,t){r._readyPromise_resolve=e;r._readyPromise_reject=t});r._readyPromiseState="pending"}function pe(e,t){e._readyPromise=Promise.reject(t);e._readyPromise_resolve=undefined;e._readyPromise_reject=undefined;e._readyPromiseState="rejected"}function me(e){e._readyPromise=Promise.resolve(undefined);e._readyPromise_resolve=undefined;e._readyPromise_reject=undefined;e._readyPromiseState="fulfilled"}function ge(e,t){f(e._readyPromise_resolve!==undefined,"writer._readyPromise_resolve !== undefined");f(e._readyPromise_reject!==undefined,"writer._readyPromise_reject !== undefined");e._readyPromise_reject(t);e._readyPromise_resolve=undefined;e._readyPromise_reject=undefined;e._readyPromiseState="rejected"}function be(r){f(r._readyPromise_resolve===undefined,"writer._readyPromise_resolve === undefined");f(r._readyPromise_reject===undefined,"writer._readyPromise_reject === undefined");r._readyPromise=new Promise(function(e,t){r._readyPromise_resolve=e;r._readyPromise_reject=t});r._readyPromiseState="pending"}function _e(e,t){f(e._readyPromise_resolve===undefined,"writer._readyPromise_resolve === undefined");f(e._readyPromise_reject===undefined,"writer._readyPromise_reject === undefined");e._readyPromise=Promise.reject(t);e._readyPromiseState="rejected"}function ye(e){f(e._readyPromise_resolve!==undefined,"writer._readyPromise_resolve !== undefined");f(e._readyPromise_reject!==undefined,"writer._readyPromise_reject !== undefined");e._readyPromise_resolve(undefined);e._readyPromise_resolve=undefined;e._readyPromise_reject=undefined;e._readyPromiseState="fulfilled"}},function(e,t,r){"use strict";var n=r(0),a=n.IsFiniteNonNegativeNumber;var i=r(1),s=i.assert;t.DequeueValue=function(e){s("_queue"in e&&"_queueTotalSize"in e,"Spec-level failure: DequeueValue should only be used on containers with [[queue]] and [[queueTotalSize]].");s(e._queue.length>0,"Spec-level failure: should never dequeue from an empty queue.");var t=e._queue.shift();e._queueTotalSize-=t.size;if(e._queueTotalSize<0){e._queueTotalSize=0}return t.value};t.EnqueueValueWithSize=function(e,t,r){s("_queue"in e&&"_queueTotalSize"in e,"Spec-level failure: EnqueueValueWithSize should only be used on containers with [[queue]] and "+"[[queueTotalSize]].");r=Number(r);if(!a(r)){throw new RangeError("Size must be a finite, non-NaN, non-negative number.")}e._queue.push({value:t,size:r});e._queueTotalSize+=r};t.PeekQueueValue=function(e){s("_queue"in e&&"_queueTotalSize"in e,"Spec-level failure: PeekQueueValue should only be used on containers with [[queue]] and [[queueTotalSize]].");s(e._queue.length>0,"Spec-level failure: should never peek at an empty queue.");var t=e._queue[0];return t.value};t.ResetQueue=function(e){s("_queue"in e&&"_queueTotalSize"in e,"Spec-level failure: ResetQueue should only be used on containers with [[queue]] and [[queueTotalSize]].");e._queue=[];e._queueTotalSize=0}},function(e,t,r){"use strict";var n=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(e,t,r){if(t)n(e.prototype,t);if(r)n(e,r);return e}}();function u(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var a=r(0),h=a.ArrayBufferCopy,c=a.CreateIterResultObject,i=a.IsFiniteNonNegativeNumber,l=a.InvokeOrNoop,f=a.PromiseInvokeOrNoop,d=a.TransferArrayBuffer,v=a.ValidateAndNormalizeQueuingStrategy,o=a.ValidateAndNormalizeHighWaterMark;var s=r(0),p=s.createArrayFromList,m=s.createDataProperty,g=s.typeIsObject;var b=r(1),_=b.assert,y=b.rethrowAssertionErrorRejection;var A=r(3),S=A.DequeueValue,w=A.EnqueueValueWithSize,P=A.ResetQueue;var C=r(2),R=C.AcquireWritableStreamDefaultWriter,k=C.IsWritableStream,x=C.IsWritableStreamLocked,T=C.WritableStreamAbort,E=C.WritableStreamDefaultWriterCloseWithErrorPropagation,O=C.WritableStreamDefaultWriterRelease,L=C.WritableStreamDefaultWriterWrite,I=C.WritableStreamCloseQueuedOrInFlight;var F=function(){function s(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},r=t.size,n=t.highWaterMark;u(this,s);this._state="readable";this._reader=undefined;this._storedError=undefined;this._disturbed=false;this._readableStreamController=undefined;var a=e.type;var i=String(a);if(i==="bytes"){if(n===undefined){n=0}this._readableStreamController=new ye(this,e,n)}else if(a===undefined){if(n===undefined){n=1}this._readableStreamController=new ce(this,e,r,n)}else{throw new RangeError("Invalid type is specified")}}n(s,[{key:"cancel",value:function e(t){if(M(this)===false){return Promise.reject(He("cancel"))}if(q(this)===true){return Promise.reject(new TypeError("Cannot cancel a stream that already has a reader"))}return X(this,t)}},{key:"getReader",value:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},r=t.mode;if(M(this)===false){throw He("getReader")}if(r===undefined){return j(this)}r=String(r);if(r==="byob"){return D(this)}throw new RangeError("Invalid mode is specified")}},{key:"pipeThrough",value:function e(t,r){var n=t.writable,a=t.readable;var i=this.pipeTo(n,r);at(i);return a}},{key:"pipeTo",value:function e(c){var f=this;var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},d=t.preventClose,h=t.preventAbort,v=t.preventCancel;if(M(this)===false){return Promise.reject(He("pipeTo"))}if(k(c)===false){return Promise.reject(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"))}d=Boolean(d);h=Boolean(h);v=Boolean(v);if(q(this)===true){return Promise.reject(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream"))}if(x(c)===true){return Promise.reject(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream"))}var p=j(this);var m=R(c);var g=false;var b=Promise.resolve();return new Promise(function(r,n){function e(){b=Promise.resolve();if(g===true){return Promise.resolve()}return m._readyPromise.then(function(){return le(p).then(function(e){var t=e.value,r=e.done;if(r===true){return}b=L(m,t).catch(function(){})})}).then(e)}i(f,p._closedPromise,function(e){if(h===false){o(function(){return T(c,e)},true,e)}else{u(true,e)}});i(c,m._closedPromise,function(e){if(v===false){o(function(){return X(f,e)},true,e)}else{u(true,e)}});s(f,p._closedPromise,function(){if(d===false){o(function(){return E(m)})}else{u()}});if(I(c)===true||c._state==="closed"){var t=new TypeError("the destination writable stream closed before all data could be piped to it");if(v===false){o(function(){return X(f,t)},true,t)}else{u(true,t)}}e().catch(function(e){b=Promise.resolve();y(e)});function a(){var e=b;return b.then(function(){return e!==b?a():undefined})}function i(e,t,r){if(e._state==="errored"){r(e._storedError)}else{t.catch(r).catch(y)}}function s(e,t,r){if(e._state==="closed"){r()}else{t.then(r).catch(y)}}function o(e,t,r){if(g===true){return}g=true;if(c._state==="writable"&&I(c)===false){a().then(n)}else{n()}function n(){e().then(function(){return l(t,r)},function(e){return l(true,e)}).catch(y)}}function u(e,t){if(g===true){return}g=true;if(c._state==="writable"&&I(c)===false){a().then(function(){return l(e,t)}).catch(y)}else{l(e,t)}}function l(e,t){O(m);oe(p);if(e){n(t)}else{r(undefined)}}})}},{key:"tee",value:function e(){if(M(this)===false){throw He("tee")}var t=W(this,false);return p(t)}},{key:"locked",get:function e(){if(M(this)===false){throw He("locked")}return q(this)}}]);return s}();e.exports={ReadableStream:F,IsReadableStreamDisturbed:N,ReadableStreamDefaultControllerClose:ve,ReadableStreamDefaultControllerEnqueue:pe,ReadableStreamDefaultControllerError:me,ReadableStreamDefaultControllerGetDesiredSize:be};function D(e){return new re(e)}function j(e){return new te(e)}function M(e){if(!g(e)){return false}if(!Object.prototype.hasOwnProperty.call(e,"_readableStreamController")){return false}return true}function N(e){_(M(e)===true,"IsReadableStreamDisturbed should only be used on known readable streams");return e._disturbed}function q(e){_(M(e)===true,"IsReadableStreamLocked should only be used on known readable streams");if(e._reader===undefined){return false}return true}function W(e,t){_(M(e)===true);_(typeof t==="boolean");var r=j(e);var n={closedOrErrored:false,canceled1:false,canceled2:false,reason1:undefined,reason2:undefined};n.promise=new Promise(function(e){n._resolve=e});var a=U();a._reader=r;a._teeState=n;a._cloneForBranch2=t;var i=B();i._stream=e;i._teeState=n;var s=z();s._stream=e;s._teeState=n;var o=Object.create(Object.prototype);m(o,"pull",a);m(o,"cancel",i);var u=new F(o);var l=Object.create(Object.prototype);m(l,"pull",a);m(l,"cancel",s);var c=new F(l);a._branch1=u._readableStreamController;a._branch2=c._readableStreamController;r._closedPromise.catch(function(e){if(n.closedOrErrored===true){return}me(a._branch1,e);me(a._branch2,e);n.closedOrErrored=true});return[u,c]}function U(){function t(){var e=t._reader,i=t._branch1,s=t._branch2,o=t._teeState;return le(e).then(function(e){_(g(e));var t=e.value;var r=e.done;_(typeof r==="boolean");if(r===true&&o.closedOrErrored===false){if(o.canceled1===false){ve(i)}if(o.canceled2===false){ve(s)}o.closedOrErrored=true}if(o.closedOrErrored===true){return}var n=t;var a=t;if(o.canceled1===false){pe(i,n)}if(o.canceled2===false){pe(s,a)}})}return t}function B(){function i(e){var t=i._stream,r=i._teeState;r.canceled1=true;r.reason1=e;if(r.canceled2===true){var n=p([r.reason1,r.reason2]);var a=X(t,n);r._resolve(a)}return r.promise}return i}function z(){function i(e){var t=i._stream,r=i._teeState;r.canceled2=true;r.reason2=e;if(r.canceled1===true){var n=p([r.reason1,r.reason2]);var a=X(t,n);r._resolve(a)}return r.promise}return i}function G(n){_(ne(n._reader)===true);_(n._state==="readable"||n._state==="closed");var e=new Promise(function(e,t){var r={_resolve:e,_reject:t};n._reader._readIntoRequests.push(r)});return e}function H(n){_(ae(n._reader)===true);_(n._state==="readable");var e=new Promise(function(e,t){var r={_resolve:e,_reject:t};n._reader._readRequests.push(r)});return e}function X(e,t){e._disturbed=true;if(e._state==="closed"){return Promise.resolve(undefined)}if(e._state==="errored"){return Promise.reject(e._storedError)}Y(e);var r=e._readableStreamController.__cancelSteps(t);return r.then(function(){return undefined})}function Y(e){_(e._state==="readable");e._state="closed";var t=e._reader;if(t===undefined){return undefined}if(ae(t)===true){for(var r=0;r<t._readRequests.length;r++){var n=t._readRequests[r]._resolve;n(c(undefined,true))}t._readRequests=[]}$e(t);return undefined}function V(e,t){_(M(e)===true,"stream must be ReadableStream");_(e._state==="readable","state must be readable");e._state="errored";e._storedError=t;var r=e._reader;if(r===undefined){return undefined}if(ae(r)===true){for(var n=0;n<r._readRequests.length;n++){var a=r._readRequests[n];a._reject(t)}r._readRequests=[]}else{_(ne(r),"reader must be ReadableStreamBYOBReader");for(var i=0;i<r._readIntoRequests.length;i++){var s=r._readIntoRequests[i];s._reject(t)}r._readIntoRequests=[]}Ke(r,t);r._closedPromise.catch(function(){})}function J(e,t,r){var n=e._reader;_(n._readIntoRequests.length>0);var a=n._readIntoRequests.shift();a._resolve(c(t,r))}function Q(e,t,r){var n=e._reader;_(n._readRequests.length>0);var a=n._readRequests.shift();a._resolve(c(t,r))}function K(e){return e._reader._readIntoRequests.length}function Z(e){return e._reader._readRequests.length}function $(e){var t=e._reader;if(t===undefined){return false}if(ne(t)===false){return false}return true}function ee(e){var t=e._reader;if(t===undefined){return false}if(ae(t)===false){return false}return true}var te=function(){function t(e){u(this,t);if(M(e)===false){throw new TypeError("ReadableStreamDefaultReader can only be constructed with a ReadableStream instance")}if(q(e)===true){throw new TypeError("This stream has already been locked for exclusive reading by another reader")}ie(this,e);this._readRequests=[]}n(t,[{key:"cancel",value:function e(t){if(ae(this)===false){return Promise.reject(Ye("cancel"))}if(this._ownerReadableStream===undefined){return Promise.reject(Xe("cancel"))}return se(this,t)}},{key:"read",value:function e(){if(ae(this)===false){return Promise.reject(Ye("read"))}if(this._ownerReadableStream===undefined){return Promise.reject(Xe("read from"))}return le(this)}},{key:"releaseLock",value:function e(){if(ae(this)===false){throw Ye("releaseLock")}if(this._ownerReadableStream===undefined){return}if(this._readRequests.length>0){throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled")}oe(this)}},{key:"closed",get:function e(){if(ae(this)===false){return Promise.reject(Ye("closed"))}return this._closedPromise}}]);return t}();var re=function(){function t(e){u(this,t);if(!M(e)){throw new TypeError("ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a "+"byte source")}if(Ae(e._readableStreamController)===false){throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte "+"source")}if(q(e)){throw new TypeError("This stream has already been locked for exclusive reading by another reader")}ie(this,e);this._readIntoRequests=[]}n(t,[{key:"cancel",value:function e(t){if(!ne(this)){return Promise.reject(et("cancel"))}if(this._ownerReadableStream===undefined){return Promise.reject(Xe("cancel"))}return se(this,t)}},{key:"read",value:function e(t){if(!ne(this)){return Promise.reject(et("read"))}if(this._ownerReadableStream===undefined){return Promise.reject(Xe("read from"))}if(!ArrayBuffer.isView(t)){return Promise.reject(new TypeError("view must be an array buffer view"))}if(t.byteLength===0){return Promise.reject(new TypeError("view must have non-zero byteLength"))}return ue(this,t)}},{key:"releaseLock",value:function e(){if(!ne(this)){throw et("releaseLock")}if(this._ownerReadableStream===undefined){return}if(this._readIntoRequests.length>0){throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled")}oe(this)}},{key:"closed",get:function e(){if(!ne(this)){return Promise.reject(et("closed"))}return this._closedPromise}}]);return t}();function ne(e){if(!g(e)){return false}if(!Object.prototype.hasOwnProperty.call(e,"_readIntoRequests")){return false}return true}function ae(e){if(!g(e)){return false}if(!Object.prototype.hasOwnProperty.call(e,"_readRequests")){return false}return true}function ie(e,t){e._ownerReadableStream=t;t._reader=e;if(t._state==="readable"){Ve(e)}else if(t._state==="closed"){Qe(e)}else{_(t._state==="errored","state must be errored");Je(e,t._storedError);e._closedPromise.catch(function(){})}}function se(e,t){var r=e._ownerReadableStream;_(r!==undefined);return X(r,t)}function oe(e){_(e._ownerReadableStream!==undefined);_(e._ownerReadableStream._reader===e);if(e._ownerReadableStream._state==="readable"){Ke(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness"))}else{Ze(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness"))}e._closedPromise.catch(function(){});e._ownerReadableStream._reader=undefined;e._ownerReadableStream=undefined}function ue(e,t){var r=e._ownerReadableStream;_(r!==undefined);r._disturbed=true;if(r._state==="errored"){return Promise.reject(r._storedError)}return Ie(r._readableStreamController,t)}function le(e){var t=e._ownerReadableStream;_(t!==undefined);t._disturbed=true;if(t._state==="closed"){return Promise.resolve(c(undefined,true))}if(t._state==="errored"){return Promise.reject(t._storedError)}_(t._state==="readable");return t._readableStreamController.__pullSteps()}var ce=function(){function o(e,t,r,n){u(this,o);if(M(e)===false){throw new TypeError("ReadableStreamDefaultController can only be constructed with a ReadableStream instance")}if(e._readableStreamController!==undefined){throw new TypeError("ReadableStreamDefaultController instances can only be created by the ReadableStream constructor")}this._controlledReadableStream=e;this._underlyingSource=t;this._queue=undefined;this._queueTotalSize=undefined;P(this);this._started=false;this._closeRequested=false;this._pullAgain=false;this._pulling=false;var a=v(r,n);this._strategySize=a.size;this._strategyHWM=a.highWaterMark;var i=this;var s=l(t,"start",[this]);Promise.resolve(s).then(function(){i._started=true;_(i._pulling===false);_(i._pullAgain===false);de(i)},function(e){ge(i,e)}).catch(y)}n(o,[{key:"close",value:function e(){if(fe(this)===false){throw tt("close")}if(this._closeRequested===true){throw new TypeError("The stream has already been closed; do not close it again!")}var t=this._controlledReadableStream._state;if(t!=="readable"){throw new TypeError("The stream (in "+t+" state) is not in the readable state and cannot be closed")}ve(this)}},{key:"enqueue",value:function e(t){if(fe(this)===false){throw tt("enqueue")}if(this._closeRequested===true){throw new TypeError("stream is closed or draining")}var r=this._controlledReadableStream._state;if(r!=="readable"){throw new TypeError("The stream (in "+r+" state) is not in the readable state and cannot be enqueued to")}return pe(this,t)}},{key:"error",value:function e(t){if(fe(this)===false){throw tt("error")}var r=this._controlledReadableStream;if(r._state!=="readable"){throw new TypeError("The stream is "+r._state+" and so cannot be errored")}me(this,t)}},{key:"__cancelSteps",value:function e(t){P(this);return f(this._underlyingSource,"cancel",[t])}},{key:"__pullSteps",value:function e(){var t=this._controlledReadableStream;if(this._queue.length>0){var r=S(this);if(this._closeRequested===true&&this._queue.length===0){Y(t)}else{de(this)}return Promise.resolve(c(r,false))}var n=H(t);de(this);return n}},{key:"desiredSize",get:function e(){if(fe(this)===false){throw tt("desiredSize")}return be(this)}}]);return o}();function fe(e){if(!g(e)){return false}if(!Object.prototype.hasOwnProperty.call(e,"_underlyingSource")){return false}return true}function de(t){var e=he(t);if(e===false){return undefined}if(t._pulling===true){t._pullAgain=true;return undefined}_(t._pullAgain===false);t._pulling=true;var r=f(t._underlyingSource,"pull",[t]);r.then(function(){t._pulling=false;if(t._pullAgain===true){t._pullAgain=false;return de(t)}return undefined},function(e){ge(t,e)}).catch(y);return undefined}function he(e){var t=e._controlledReadableStream;if(t._state==="closed"||t._state==="errored"){return false}if(e._closeRequested===true){return false}if(e._started===false){return false}if(q(t)===true&&Z(t)>0){return true}var r=be(e);if(r>0){return true}return false}function ve(e){var t=e._controlledReadableStream;_(e._closeRequested===false);_(t._state==="readable");e._closeRequested=true;if(e._queue.length===0){Y(t)}}function pe(t,e){var r=t._controlledReadableStream;_(t._closeRequested===false);_(r._state==="readable");if(q(r)===true&&Z(r)>0){Q(r,e,false)}else{var n=1;if(t._strategySize!==undefined){var a=t._strategySize;try{n=a(e)}catch(e){ge(t,e);throw e}}try{w(t,e,n)}catch(e){ge(t,e);throw e}}de(t);return undefined}function me(e,t){var r=e._controlledReadableStream;_(r._state==="readable");P(e);V(r,t)}function ge(e,t){if(e._controlledReadableStream._state==="readable"){me(e,t)}}function be(e){var t=e._controlledReadableStream;var r=t._state;if(r==="errored"){return null}if(r==="closed"){return 0}return e._strategyHWM-e._queueTotalSize}var _e=function(){function r(e,t){u(this,r);this._associatedReadableByteStreamController=e;this._view=t}n(r,[{key:"respond",value:function e(t){if(Se(this)===false){throw rt("respond")}if(this._associatedReadableByteStreamController===undefined){throw new TypeError("This BYOB request has been invalidated")}ze(this._associatedReadableByteStreamController,t)}},{key:"respondWithNewView",value:function e(t){if(Se(this)===false){throw rt("respond")}if(this._associatedReadableByteStreamController===undefined){throw new TypeError("This BYOB request has been invalidated")}if(!ArrayBuffer.isView(t)){throw new TypeError("You can only respond with array buffer views")}Ge(this._associatedReadableByteStreamController,t)}},{key:"view",get:function e(){return this._view}}]);return r}();var ye=function(){function s(t,e,r){u(this,s);if(M(t)===false){throw new TypeError("ReadableByteStreamController can only be constructed with a ReadableStream instance given "+"a byte source")}if(t._readableStreamController!==undefined){throw new TypeError("ReadableByteStreamController instances can only be created by the ReadableStream constructor given a byte "+"source")}this._controlledReadableStream=t;this._underlyingByteSource=e;this._pullAgain=false;this._pulling=false;Pe(this);this._queue=this._queueTotalSize=undefined;P(this);this._closeRequested=false;this._started=false;this._strategyHWM=o(r);var n=e.autoAllocateChunkSize;if(n!==undefined){if(Number.isInteger(n)===false||n<=0){throw new RangeError("autoAllocateChunkSize must be a positive integer")}}this._autoAllocateChunkSize=n;this._pendingPullIntos=[];var a=this;var i=l(e,"start",[this]);Promise.resolve(i).then(function(){a._started=true;_(a._pulling===false);_(a._pullAgain===false);we(a)},function(e){if(t._state==="readable"){Ue(a,e)}}).catch(y)}n(s,[{key:"close",value:function e(){if(Ae(this)===false){throw nt("close")}if(this._closeRequested===true){throw new TypeError("The stream has already been closed; do not close it again!")}var t=this._controlledReadableStream._state;if(t!=="readable"){throw new TypeError("The stream (in "+t+" state) is not in the readable state and cannot be closed")}qe(this)}},{key:"enqueue",value:function e(t){if(Ae(this)===false){throw nt("enqueue")}if(this._closeRequested===true){throw new TypeError("stream is closed or draining")}var r=this._controlledReadableStream._state;if(r!=="readable"){throw new TypeError("The stream (in "+r+" state) is not in the readable state and cannot be enqueued to")}if(!ArrayBuffer.isView(t)){throw new TypeError("You can only enqueue array buffer views when using a ReadableByteStreamController")}We(this,t)}},{key:"error",value:function e(t){if(Ae(this)===false){throw nt("error")}var r=this._controlledReadableStream;if(r._state!=="readable"){throw new TypeError("The stream is "+r._state+" and so cannot be errored")}Ue(this,t)}},{key:"__cancelSteps",value:function e(t){if(this._pendingPullIntos.length>0){var r=this._pendingPullIntos[0];r.bytesFilled=0}P(this);return f(this._underlyingByteSource,"cancel",[t])}},{key:"__pullSteps",value:function e(){var t=this._controlledReadableStream;_(ee(t)===true);if(this._queueTotalSize>0){_(Z(t)===0);var r=this._queue.shift();this._queueTotalSize-=r.byteLength;Ee(this);var n=void 0;try{n=new Uint8Array(r.buffer,r.byteOffset,r.byteLength)}catch(e){return Promise.reject(e)}return Promise.resolve(c(n,false))}var a=this._autoAllocateChunkSize;if(a!==undefined){var i=void 0;try{i=new ArrayBuffer(a)}catch(e){return Promise.reject(e)}var s={buffer:i,byteOffset:0,byteLength:a,bytesFilled:0,elementSize:1,ctor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(s)}var o=H(t);we(this);return o}},{key:"byobRequest",get:function e(){if(Ae(this)===false){throw nt("byobRequest")}if(this._byobRequest===undefined&&this._pendingPullIntos.length>0){var t=this._pendingPullIntos[0];var r=new Uint8Array(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled);this._byobRequest=new _e(this,r)}return this._byobRequest}},{key:"desiredSize",get:function e(){if(Ae(this)===false){throw nt("desiredSize")}return Be(this)}}]);return s}();function Ae(e){if(!g(e)){return false}if(!Object.prototype.hasOwnProperty.call(e,"_underlyingByteSource")){return false}return true}function Se(e){if(!g(e)){return false}if(!Object.prototype.hasOwnProperty.call(e,"_associatedReadableByteStreamController")){return false}return true}function we(t){var e=Ne(t);if(e===false){return undefined}if(t._pulling===true){t._pullAgain=true;return undefined}_(t._pullAgain===false);t._pulling=true;var r=f(t._underlyingByteSource,"pull",[t]);r.then(function(){t._pulling=false;if(t._pullAgain===true){t._pullAgain=false;we(t)}},function(e){if(t._controlledReadableStream._state==="readable"){Ue(t,e)}}).catch(y);return undefined}function Pe(e){Oe(e);e._pendingPullIntos=[]}function Ce(e,t){_(e._state!=="errored","state must not be errored");var r=false;if(e._state==="closed"){_(t.bytesFilled===0);r=true}var n=Re(t);if(t.readerType==="default"){Q(e,n,r)}else{_(t.readerType==="byob");J(e,n,r)}}function Re(e){var t=e.bytesFilled;var r=e.elementSize;_(t<=e.byteLength);_(t%r===0);return new e.ctor(e.buffer,e.byteOffset,t/r)}function ke(e,t,r,n){e._queue.push({buffer:t,byteOffset:r,byteLength:n});e._queueTotalSize+=n}function xe(e,t){var r=t.elementSize;var n=t.bytesFilled-t.bytesFilled%r;var a=Math.min(e._queueTotalSize,t.byteLength-t.bytesFilled);var i=t.bytesFilled+a;var s=i-i%r;var o=a;var u=false;if(s>n){o=s-t.bytesFilled;u=true}var l=e._queue;while(o>0){var c=l[0];var f=Math.min(o,c.byteLength);var d=t.byteOffset+t.bytesFilled;h(t.buffer,d,c.buffer,c.byteOffset,f);if(c.byteLength===f){l.shift()}else{c.byteOffset+=f;c.byteLength-=f}e._queueTotalSize-=f;Te(e,f,t);o-=f}if(u===false){_(e._queueTotalSize===0,"queue must be empty");_(t.bytesFilled>0);_(t.bytesFilled<t.elementSize)}return u}function Te(e,t,r){_(e._pendingPullIntos.length===0||e._pendingPullIntos[0]===r);Oe(e);r.bytesFilled+=t}function Ee(e){_(e._controlledReadableStream._state==="readable");if(e._queueTotalSize===0&&e._closeRequested===true){Y(e._controlledReadableStream)}else{we(e)}}function Oe(e){if(e._byobRequest===undefined){return}e._byobRequest._associatedReadableByteStreamController=undefined;e._byobRequest._view=undefined;e._byobRequest=undefined}function Le(e){_(e._closeRequested===false);while(e._pendingPullIntos.length>0){if(e._queueTotalSize===0){return}var t=e._pendingPullIntos[0];if(xe(e,t)===true){Me(e);Ce(e._controlledReadableStream,t)}}}function Ie(e,t){var r=e._controlledReadableStream;var n=1;if(t.constructor!==DataView){n=t.constructor.BYTES_PER_ELEMENT}var a=t.constructor;var i={buffer:t.buffer,byteOffset:t.byteOffset,byteLength:t.byteLength,bytesFilled:0,elementSize:n,ctor:a,readerType:"byob"};if(e._pendingPullIntos.length>0){i.buffer=d(i.buffer);e._pendingPullIntos.push(i);return G(r)}if(r._state==="closed"){var s=new t.constructor(i.buffer,i.byteOffset,0);return Promise.resolve(c(s,true))}if(e._queueTotalSize>0){if(xe(e,i)===true){var o=Re(i);Ee(e);return Promise.resolve(c(o,false))}if(e._closeRequested===true){var u=new TypeError("Insufficient bytes to fill elements in the given buffer");Ue(e,u);return Promise.reject(u)}}i.buffer=d(i.buffer);e._pendingPullIntos.push(i);var l=G(r);we(e);return l}function Fe(e,t){t.buffer=d(t.buffer);_(t.bytesFilled===0,"bytesFilled must be 0");var r=e._controlledReadableStream;if($(r)===true){while(K(r)>0){var n=Me(e);Ce(r,n)}}}function De(e,t,r){if(r.bytesFilled+t>r.byteLength){throw new RangeError("bytesWritten out of range")}Te(e,t,r);if(r.bytesFilled<r.elementSize){return}Me(e);var n=r.bytesFilled%r.elementSize;if(n>0){var a=r.byteOffset+r.bytesFilled;var i=r.buffer.slice(a-n,a);ke(e,i,0,i.byteLength)}r.buffer=d(r.buffer);r.bytesFilled-=n;Ce(e._controlledReadableStream,r);Le(e)}function je(e,t){var r=e._pendingPullIntos[0];var n=e._controlledReadableStream;if(n._state==="closed"){if(t!==0){throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}Fe(e,r)}else{_(n._state==="readable");De(e,t,r)}}function Me(e){var t=e._pendingPullIntos.shift();Oe(e);return t}function Ne(e){var t=e._controlledReadableStream;if(t._state!=="readable"){return false}if(e._closeRequested===true){return false}if(e._started===false){return false}if(ee(t)===true&&Z(t)>0){return true}if($(t)===true&&K(t)>0){return true}if(Be(e)>0){return true}return false}function qe(e){var t=e._controlledReadableStream;_(e._closeRequested===false);_(t._state==="readable");if(e._queueTotalSize>0){e._closeRequested=true;return}if(e._pendingPullIntos.length>0){var r=e._pendingPullIntos[0];if(r.bytesFilled>0){var n=new TypeError("Insufficient bytes to fill elements in the given buffer");Ue(e,n);throw n}}Y(t)}function We(e,t){var r=e._controlledReadableStream;_(e._closeRequested===false);_(r._state==="readable");var n=t.buffer;var a=t.byteOffset;var i=t.byteLength;var s=d(n);if(ee(r)===true){if(Z(r)===0){ke(e,s,a,i)}else{_(e._queue.length===0);var o=new Uint8Array(s,a,i);Q(r,o,false)}}else if($(r)===true){ke(e,s,a,i);Le(e)}else{_(q(r)===false,"stream must not be locked");ke(e,s,a,i)}}function Ue(e,t){var r=e._controlledReadableStream;_(r._state==="readable");Pe(e);P(e);V(r,t)}function Be(e){var t=e._controlledReadableStream;var r=t._state;if(r==="errored"){return null}if(r==="closed"){return 0}return e._strategyHWM-e._queueTotalSize}function ze(e,t){t=Number(t);if(i(t)===false){throw new RangeError("bytesWritten must be a finite")}_(e._pendingPullIntos.length>0);je(e,t)}function Ge(e,t){_(e._pendingPullIntos.length>0);var r=e._pendingPullIntos[0];if(r.byteOffset+r.bytesFilled!==t.byteOffset){throw new RangeError("The region specified by view does not match byobRequest")}if(r.byteLength!==t.byteLength){throw new RangeError("The buffer of view has different capacity than byobRequest")}r.buffer=t.buffer;je(e,t.byteLength)}function He(e){return new TypeError("ReadableStream.prototype."+e+" can only be used on a ReadableStream")}function Xe(e){return new TypeError("Cannot "+e+" a stream using a released reader")}function Ye(e){return new TypeError("ReadableStreamDefaultReader.prototype."+e+" can only be used on a ReadableStreamDefaultReader")}function Ve(r){r._closedPromise=new Promise(function(e,t){r._closedPromise_resolve=e;r._closedPromise_reject=t})}function Je(e,t){e._closedPromise=Promise.reject(t);e._closedPromise_resolve=undefined;e._closedPromise_reject=undefined}function Qe(e){e._closedPromise=Promise.resolve(undefined);e._closedPromise_resolve=undefined;e._closedPromise_reject=undefined}function Ke(e,t){_(e._closedPromise_resolve!==undefined);_(e._closedPromise_reject!==undefined);e._closedPromise_reject(t);e._closedPromise_resolve=undefined;e._closedPromise_reject=undefined}function Ze(e,t){_(e._closedPromise_resolve===undefined);_(e._closedPromise_reject===undefined);e._closedPromise=Promise.reject(t)}function $e(e){_(e._closedPromise_resolve!==undefined);_(e._closedPromise_reject!==undefined);e._closedPromise_resolve(undefined);e._closedPromise_resolve=undefined;e._closedPromise_reject=undefined}function et(e){return new TypeError("ReadableStreamBYOBReader.prototype."+e+" can only be used on a ReadableStreamBYOBReader")}function tt(e){return new TypeError("ReadableStreamDefaultController.prototype."+e+" can only be used on a ReadableStreamDefaultController")}function rt(e){return new TypeError("ReadableStreamBYOBRequest.prototype."+e+" can only be used on a ReadableStreamBYOBRequest")}function nt(e){return new TypeError("ReadableByteStreamController.prototype."+e+" can only be used on a ReadableByteStreamController")}function at(e){try{Promise.prototype.then.call(e,undefined,function(){})}catch(e){}}},function(e,t,r){"use strict";var n=r(6);var a=r(4);var i=r(2);t.TransformStream=n.TransformStream;t.ReadableStream=a.ReadableStream;t.IsReadableStreamDisturbed=a.IsReadableStreamDisturbed;t.ReadableStreamDefaultControllerClose=a.ReadableStreamDefaultControllerClose;t.ReadableStreamDefaultControllerEnqueue=a.ReadableStreamDefaultControllerEnqueue;t.ReadableStreamDefaultControllerError=a.ReadableStreamDefaultControllerError;t.ReadableStreamDefaultControllerGetDesiredSize=a.ReadableStreamDefaultControllerGetDesiredSize;t.AcquireWritableStreamDefaultWriter=i.AcquireWritableStreamDefaultWriter;t.IsWritableStream=i.IsWritableStream;t.IsWritableStreamLocked=i.IsWritableStreamLocked;t.WritableStream=i.WritableStream;t.WritableStreamAbort=i.WritableStreamAbort;t.WritableStreamDefaultControllerError=i.WritableStreamDefaultControllerError;t.WritableStreamDefaultWriterCloseWithErrorPropagation=i.WritableStreamDefaultWriterCloseWithErrorPropagation;t.WritableStreamDefaultWriterRelease=i.WritableStreamDefaultWriterRelease;t.WritableStreamDefaultWriterWrite=i.WritableStreamDefaultWriterWrite},function(e,t,r){"use strict";var n=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(e,t,r){if(t)n(e.prototype,t);if(r)n(e,r);return e}}();function f(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var a=r(1),d=a.assert;var i=r(0),h=i.InvokeOrNoop,s=i.PromiseInvokeOrPerformFallback,o=i.PromiseInvokeOrNoop,u=i.typeIsObject;var l=r(4),v=l.ReadableStream,c=l.ReadableStreamDefaultControllerClose,p=l.ReadableStreamDefaultControllerEnqueue,m=l.ReadableStreamDefaultControllerError,g=l.ReadableStreamDefaultControllerGetDesiredSize;var b=r(2),_=b.WritableStream,y=b.WritableStreamDefaultControllerError;function A(e){if(e._errored===true){throw new TypeError("TransformStream is already errored")}if(e._readableClosed===true){throw new TypeError("Readable side is already closed")}P(e)}function S(t,e){if(t._errored===true){throw new TypeError("TransformStream is already errored")}if(t._readableClosed===true){throw new TypeError("Readable side is already closed")}var r=t._readableController;try{p(r,e)}catch(e){t._readableClosed=true;C(t,e);throw t._storedError}var n=g(r);var a=n<=0;if(a===true&&t._backpressure===false){x(t,true)}}function w(e,t){if(e._errored===true){throw new TypeError("TransformStream is already errored")}R(e,t)}function P(e){d(e._errored===false);d(e._readableClosed===false);try{c(e._readableController)}catch(e){d(false)}e._readableClosed=true}function C(e,t){if(e._errored===false){R(e,t)}}function R(e,t){d(e._errored===false);e._errored=true;e._storedError=t;if(e._writableDone===false){y(e._writableController,t)}if(e._readableClosed===false){m(e._readableController,t)}}function k(e){d(e._backpressureChangePromise!==undefined,"_backpressureChangePromise should have been initialized");if(e._backpressure===false){return Promise.resolve()}d(e._backpressure===true,"_backpressure should have been initialized");return e._backpressureChangePromise}function x(t,r){d(t._backpressure!==r,"TransformStreamSetBackpressure() should be called only when backpressure is changed");if(t._backpressureChangePromise!==undefined){t._backpressureChangePromise_resolve(r)}t._backpressureChangePromise=new Promise(function(e){t._backpressureChangePromise_resolve=e});t._backpressureChangePromise.then(function(e){d(e!==r,"_backpressureChangePromise should be fulfilled only when backpressure is changed")});t._backpressure=r}function T(e,t){var r=t._controlledTransformStream;S(r,e);return Promise.resolve()}function E(t,e){d(t._errored===false);d(t._transforming===false);d(t._backpressure===false);t._transforming=true;var r=t._transformer;var n=t._transformStreamController;var a=s(r,"transform",[e,n],T,[e,n]);return a.then(function(){t._transforming=false;return k(t)},function(e){C(t,e);return Promise.reject(e)})}function O(e){if(!u(e)){return false}if(!Object.prototype.hasOwnProperty.call(e,"_controlledTransformStream")){return false}return true}function L(e){if(!u(e)){return false}if(!Object.prototype.hasOwnProperty.call(e,"_transformStreamController")){return false}return true}var I=function(){function r(e,t){f(this,r);this._transformStream=e;this._startPromise=t}n(r,[{key:"start",value:function e(t){var r=this._transformStream;r._writableController=t;return this._startPromise.then(function(){return k(r)})}},{key:"write",value:function e(t){var r=this._transformStream;return E(r,t)}},{key:"abort",value:function e(){var t=this._transformStream;t._writableDone=true;R(t,new TypeError("Writable side aborted"))}},{key:"close",value:function e(){var t=this._transformStream;d(t._transforming===false);t._writableDone=true;var r=o(t._transformer,"flush",[t._transformStreamController]);return r.then(function(){if(t._errored===true){return Promise.reject(t._storedError)}if(t._readableClosed===false){P(t)}return Promise.resolve()}).catch(function(e){C(t,e);return Promise.reject(t._storedError)})}}]);return r}();var F=function(){function r(e,t){f(this,r);this._transformStream=e;this._startPromise=t}n(r,[{key:"start",value:function e(t){var r=this._transformStream;r._readableController=t;return this._startPromise.then(function(){d(r._backpressureChangePromise!==undefined,"_backpressureChangePromise should have been initialized");if(r._backpressure===true){return Promise.resolve()}d(r._backpressure===false,"_backpressure should have been initialized");return r._backpressureChangePromise})}},{key:"pull",value:function e(){var t=this._transformStream;d(t._backpressure===true,"pull() should be never called while _backpressure is false");d(t._backpressureChangePromise!==undefined,"_backpressureChangePromise should have been initialized");x(t,false);return t._backpressureChangePromise}},{key:"cancel",value:function e(){var t=this._transformStream;t._readableClosed=true;R(t,new TypeError("Readable side canceled"))}}]);return r}();var D=function(){function t(e){f(this,t);if(L(e)===false){throw new TypeError("TransformStreamDefaultController can only be "+"constructed with a TransformStream instance")}if(e._transformStreamController!==undefined){throw new TypeError("TransformStreamDefaultController instances can "+"only be created by the TransformStream constructor")}this._controlledTransformStream=e}n(t,[{key:"enqueue",value:function e(t){if(O(this)===false){throw M("enqueue")}S(this._controlledTransformStream,t)}},{key:"close",value:function e(){if(O(this)===false){throw M("close")}A(this._controlledTransformStream)}},{key:"error",value:function e(t){if(O(this)===false){throw M("error")}w(this._controlledTransformStream,t)}},{key:"desiredSize",get:function e(){if(O(this)===false){throw M("desiredSize")}var t=this._controlledTransformStream;var r=t._readableController;return g(r)}}]);return t}();var j=function(){function c(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};f(this,c);this._transformer=e;var t=e.readableStrategy,r=e.writableStrategy;this._transforming=false;this._errored=false;this._storedError=undefined;this._writableController=undefined;this._readableController=undefined;this._transformStreamController=undefined;this._writableDone=false;this._readableClosed=false;this._backpressure=undefined;this._backpressureChangePromise=undefined;this._backpressureChangePromise_resolve=undefined;this._transformStreamController=new D(this);var n=void 0;var a=new Promise(function(e){n=e});var i=new F(this,a);this._readable=new v(i,t);var s=new I(this,a);this._writable=new _(s,r);d(this._writableController!==undefined);d(this._readableController!==undefined);var o=g(this._readableController);x(this,o<=0);var u=this;var l=h(e,"start",[u._transformStreamController]);n(l);a.catch(function(e){if(u._errored===false){u._errored=true;u._storedError=e}})}n(c,[{key:"readable",get:function e(){if(L(this)===false){throw N("readable")}return this._readable}},{key:"writable",get:function e(){if(L(this)===false){throw N("writable")}return this._writable}}]);return c}();e.exports={TransformStream:j};function M(e){return new TypeError("TransformStreamDefaultController.prototype."+e+" can only be used on a TransformStreamDefaultController")}function N(e){return new TypeError("TransformStream.prototype."+e+" can only be used on a TransformStream")}},function(e,t,r){e.exports=r(5)}]))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.PDFJS=t.globalScope=undefined;var n=r(8);var a=r(0);var i=r(57);var s=r(60);var o=r(14);var u=d(o);var l=r(59);var c=r(61);var f=r(62);function d(e){return e&&e.__esModule?e:{default:e}}if(!u.default.PDFJS){u.default.PDFJS={}}var h=u.default.PDFJS;{h.version="2.0.104";h.build="012d075"}h.pdfBug=false;if(h.verbosity!==undefined){(0,a.setVerbosityLevel)(h.verbosity)}delete h.verbosity;Object.defineProperty(h,"verbosity",{get:function e(){return(0,a.getVerbosityLevel)()},set:function e(t){(0,a.setVerbosityLevel)(t)},enumerable:true,configurable:true});h.VERBOSITY_LEVELS=a.VERBOSITY_LEVELS;h.OPS=a.OPS;h.UNSUPPORTED_FEATURES=a.UNSUPPORTED_FEATURES;h.isValidUrl=n.isValidUrl;h.shadow=a.shadow;h.createBlob=a.createBlob;h.createObjectURL=function e(t,r){return(0,a.createObjectURL)(t,r,h.disableCreateObjectURL)};Object.defineProperty(h,"isLittleEndian",{configurable:true,get:function e(){return(0,a.shadow)(h,"isLittleEndian",(0,a.isLittleEndian)())}});h.removeNullCharacters=a.removeNullCharacters;h.PasswordResponses=a.PasswordResponses;h.PasswordException=a.PasswordException;h.UnknownErrorException=a.UnknownErrorException;h.InvalidPDFException=a.InvalidPDFException;h.MissingPDFException=a.MissingPDFException;h.UnexpectedResponseException=a.UnexpectedResponseException;h.Util=a.Util;h.PageViewport=a.PageViewport;h.createPromiseCapability=a.createPromiseCapability;h.maxImageSize=h.maxImageSize===undefined?-1:h.maxImageSize;h.cMapUrl=h.cMapUrl===undefined?null:h.cMapUrl;h.cMapPacked=h.cMapPacked===undefined?false:h.cMapPacked;h.disableFontFace=h.disableFontFace===undefined?false:h.disableFontFace;h.imageResourcesPath=h.imageResourcesPath===undefined?"":h.imageResourcesPath;h.disableWorker=h.disableWorker===undefined?false:h.disableWorker;h.workerSrc=h.workerSrc===undefined?null:h.workerSrc;h.workerPort=h.workerPort===undefined?null:h.workerPort;h.disableRange=h.disableRange===undefined?false:h.disableRange;h.disableStream=h.disableStream===undefined?false:h.disableStream;h.disableAutoFetch=h.disableAutoFetch===undefined?false:h.disableAutoFetch;h.pdfBug=h.pdfBug===undefined?false:h.pdfBug;h.postMessageTransfers=h.postMessageTransfers===undefined?true:h.postMessageTransfers;h.disableCreateObjectURL=h.disableCreateObjectURL===undefined?false:h.disableCreateObjectURL;h.disableWebGL=h.disableWebGL===undefined?true:h.disableWebGL;h.externalLinkTarget=h.externalLinkTarget===undefined?n.LinkTarget.NONE:h.externalLinkTarget;h.externalLinkRel=h.externalLinkRel===undefined?n.DEFAULT_LINK_REL:h.externalLinkRel;h.isEvalSupported=h.isEvalSupported===undefined?true:h.isEvalSupported;h.getDocument=i.getDocument;h.LoopbackPort=i.LoopbackPort;h.PDFDataRangeTransport=i.PDFDataRangeTransport;h.PDFWorker=i.PDFWorker;h.CustomStyle=n.CustomStyle;h.LinkTarget=n.LinkTarget;h.addLinkAttributes=n.addLinkAttributes;h.getFilenameFromUrl=n.getFilenameFromUrl;h.isExternalLinkTargetSet=n.isExternalLinkTargetSet;h.AnnotationLayer=s.AnnotationLayer;h.renderTextLayer=c.renderTextLayer;h.Metadata=l.Metadata;h.SVGGraphics=f.SVGGraphics;t.globalScope=u.default;t.PDFJS=h},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.FontLoader=t.FontFaceObject=undefined;var w=r(0);function v(e){this.docId=e;this.styleElement=null;this.nativeFontFaces=[];this.loadTestFontId=0;this.loadingContext={requests:[],nextRequestId:0}}v.prototype={insertRule:function e(t){var r=this.styleElement;if(!r){r=this.styleElement=document.createElement("style");r.id="PDFJS_FONT_STYLE_TAG_"+this.docId;document.documentElement.getElementsByTagName("head")[0].appendChild(r)}var n=r.sheet;n.insertRule(t,n.cssRules.length)},clear:function e(){if(this.styleElement){this.styleElement.remove();this.styleElement=null}this.nativeFontFaces.forEach(function(e){document.fonts.delete(e)});this.nativeFontFaces.length=0}};{var n=function e(){return atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQ"+"AABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwA"+"AAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbm"+"FtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAA"+"AADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6A"+"ABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAA"+"MQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAA"+"AAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAA"+"AAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQ"+"AAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMA"+"AQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAA"+"EAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAA"+"AQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAA"+"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"+"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"+"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"+"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAA"+"AAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgc"+"A/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWF"+"hYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQA"+"AAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAg"+"ABAAAAAAAAAAAD6AAAAAAAAA==")};Object.defineProperty(v.prototype,"loadTestFont",{get:function e(){return(0,w.shadow)(this,"loadTestFont",n())},configurable:true});v.prototype.addNativeFontFace=function e(t){this.nativeFontFaces.push(t);document.fonts.add(t)};v.prototype.bind=function e(t,r){var n=[];var a=[];var i=[];var s=function e(t){return t.loaded.catch(function(e){(0,w.warn)('Failed to load font "'+t.family+'": '+e)})};var o=v.isFontLoadingAPISupported&&!v.isSyncFontLoadingSupported;for(var u=0,l=t.length;u<l;u++){var c=t[u];if(c.attached||c.loading===false){continue}c.attached=true;if(o){var f=c.createNativeFontFace();if(f){this.addNativeFontFace(f);i.push(s(f))}}else{var d=c.createFontFaceRule();if(d){this.insertRule(d);n.push(d);a.push(c)}}}var h=this.queueLoadingCallback(r);if(o){Promise.all(i).then(function(){h.complete()})}else if(n.length>0&&!v.isSyncFontLoadingSupported){this.prepareFontLoadEvent(n,a,h)}else{h.complete()}};v.prototype.queueLoadingCallback=function e(t){function r(){(0,w.assert)(!i.end,"completeRequest() cannot be called twice");i.end=Date.now();while(n.requests.length>0&&n.requests[0].end){var e=n.requests.shift();setTimeout(e.callback,0)}}var n=this.loadingContext;var a="pdfjs-font-loading-"+n.nextRequestId++;var i={id:a,complete:r,callback:t,started:Date.now()};n.requests.push(i);return i};v.prototype.prepareFontLoadEvent=function e(t,r,n){function a(e,t){return e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3)&255}function i(e,t,r,n){var a=e.substr(0,t);var i=e.substr(t+r);return a+n+i}var s,o;var u=document.createElement("canvas");u.width=1;u.height=1;var l=u.getContext("2d");var c=0;function f(e,t){c++;if(c>30){(0,w.warn)("Load test font never loaded.");t();return}l.font="30px "+e;l.fillText(".",0,20);var r=l.getImageData(0,0,1,1);if(r.data[3]>0){t();return}setTimeout(f.bind(null,e,t))}var d="lt"+Date.now()+this.loadTestFontId++;var h=this.loadTestFont;var v=976;h=i(h,v,d.length,d);var p=16;var m=1482184792;var g=a(h,p);for(s=0,o=d.length-3;s<o;s+=4){g=g-m+a(d,s)|0}if(s<d.length){g=g-m+a(d+"XXX",s)|0}h=i(h,p,4,(0,w.string32)(g));var b="url(data:font/opentype;base64,"+btoa(h)+");";var _='@font-face { font-family:"'+d+'";src:'+b+"}";this.insertRule(_);var y=[];for(s=0,o=r.length;s<o;s++){y.push(r[s].loadedName)}y.push(d);var A=document.createElement("div");A.setAttribute("style","visibility: hidden;"+"width: 10px; height: 10px;"+"position: absolute; top: 0px; left: 0px;");for(s=0,o=y.length;s<o;++s){var S=document.createElement("span");S.textContent="Hi";S.style.fontFamily=y[s];A.appendChild(S)}document.body.appendChild(A);f(d,function(){document.body.removeChild(A);n.complete()})}}{v.isFontLoadingAPISupported=typeof document!=="undefined"&&!!document.fonts}{var a=function e(){if(typeof navigator==="undefined"){return true}var t=false;var r=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);if(r&&r[1]>=14){t=true}return t};Object.defineProperty(v,"isSyncFontLoadingSupported",{get:function e(){return(0,w.shadow)(v,"isSyncFontLoadingSupported",a())},enumerable:true,configurable:true})}var l={get value(){return(0,w.shadow)(this,"value",(0,w.isEvalSupported)())}};var i=function e(){function t(e,t){this.compiledGlyphs=Object.create(null);for(var r in e){this[r]=e[r]}this.options=t}t.prototype={createNativeFontFace:function e(){if(!this.data){return null}if(this.options.disableFontFace){this.disableFontFace=true;return null}var t=new FontFace(this.loadedName,this.data,{});if(this.options.fontRegistry){this.options.fontRegistry.registerFont(this)}return t},createFontFaceRule:function e(){if(!this.data){return null}if(this.options.disableFontFace){this.disableFontFace=true;return null}var t=(0,w.bytesToString)(new Uint8Array(this.data));var r=this.loadedName;var n="url(data:"+this.mimetype+";base64,"+btoa(t)+");";var a='@font-face { font-family:"'+r+'";src:'+n+"}";if(this.options.fontRegistry){this.options.fontRegistry.registerFont(this,n)}return a},getPathGenerator:function e(t,r){if(!(r in this.compiledGlyphs)){var n=t.get(this.loadedName+"_path_"+r);var a,i,s;if(this.options.isEvalSupported&&l.value){var o,u="";for(i=0,s=n.length;i<s;i++){a=n[i];if(a.args!==undefined){o=a.args.join(",")}else{o=""}u+="c."+a.cmd+"("+o+");\n"}this.compiledGlyphs[r]=new Function("c","size",u)}else{this.compiledGlyphs[r]=function(e,t){for(i=0,s=n.length;i<s;i++){a=n[i];if(a.cmd==="scale"){a.args=[t,-t]}e[a.cmd].apply(e,a.args)}}}}return this.compiledGlyphs[r]}};return t}();t.FontFaceObject=i;t.FontLoader=v},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.CanvasGraphics=undefined;var N=r(0);var m=r(116);var l=r(58);var f=16;var d=100;var g=4096;var q=.65;var h=true;var P=1e3;var x=16;var T={get value(){return(0,N.shadow)(T,"value",(0,N.isLittleEndian)())}};function C(u){if(!u.mozCurrentTransform){u._originalSave=u.save;u._originalRestore=u.restore;u._originalRotate=u.rotate;u._originalScale=u.scale;u._originalTranslate=u.translate;u._originalTransform=u.transform;u._originalSetTransform=u.setTransform;u._transformMatrix=u._transformMatrix||[1,0,0,1,0,0];u._transformStack=[];Object.defineProperty(u,"mozCurrentTransform",{get:function e(){return this._transformMatrix}});Object.defineProperty(u,"mozCurrentTransformInverse",{get:function e(){var t=this._transformMatrix;var r=t[0],n=t[1],a=t[2],i=t[3],s=t[4],o=t[5];var u=r*i-n*a;var l=n*a-r*i;return[i/u,n/l,a/l,r/u,(i*s-a*o)/l,(n*s-r*o)/u]}});u.save=function e(){var t=this._transformMatrix;this._transformStack.push(t);this._transformMatrix=t.slice(0,6);this._originalSave()};u.restore=function e(){var t=this._transformStack.pop();if(t){this._transformMatrix=t;this._originalRestore()}};u.translate=function e(t,r){var n=this._transformMatrix;n[4]=n[0]*t+n[2]*r+n[4];n[5]=n[1]*t+n[3]*r+n[5];this._originalTranslate(t,r)};u.scale=function e(t,r){var n=this._transformMatrix;n[0]=n[0]*t;n[1]=n[1]*t;n[2]=n[2]*r;n[3]=n[3]*r;this._originalScale(t,r)};u.transform=function e(t,r,n,a,i,s){var o=this._transformMatrix;this._transformMatrix=[o[0]*t+o[2]*r,o[1]*t+o[3]*r,o[0]*n+o[2]*a,o[1]*n+o[3]*a,o[0]*i+o[2]*s+o[4],o[1]*i+o[3]*s+o[5]];u._originalTransform(t,r,n,a,i,s)};u.setTransform=function e(t,r,n,a,i,s){this._transformMatrix=[t,r,n,a,i,s];u._originalSetTransform(t,r,n,a,i,s)};u.rotate=function e(t){var r=Math.cos(t);var n=Math.sin(t);var a=this._transformMatrix;this._transformMatrix=[a[0]*r+a[2]*n,a[1]*r+a[3]*n,a[0]*-n+a[2]*r,a[1]*-n+a[3]*r,a[4],a[5]];this._originalRotate(t)}}}var R=function e(){function t(e){this.canvasFactory=e;this.cache=Object.create(null)}t.prototype={getCanvas:function e(t,r,n,a){var i;if(this.cache[t]!==undefined){i=this.cache[t];this.canvasFactory.reset(i,r,n);i.context.setTransform(1,0,0,1,0,0)}else{i=this.canvasFactory.create(r,n);this.cache[t]=i}if(a){C(i.context)}return i},clear:function e(){for(var t in this.cache){var r=this.cache[t];this.canvasFactory.destroy(r);delete this.cache[t]}}};return t}();function k(e){var t=1e3;var o=e.width,u=e.height;var r,n,a,i=o+1;var s=new Uint8Array(i*(u+1));var l=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]);var c=o+7&~7,f=e.data;var d=new Uint8Array(c*u),h=0,v;for(r=0,v=f.length;r<v;r++){var p=128,m=f[r];while(p>0){d[h++]=m&p?0:255;p>>=1}}var g=0;h=0;if(d[h]!==0){s[0]=1;++g}for(n=1;n<o;n++){if(d[h]!==d[h+1]){s[n]=d[h]?2:1;++g}h++}if(d[h]!==0){s[n]=2;++g}for(r=1;r<u;r++){h=r*c;a=r*i;if(d[h-c]!==d[h]){s[a]=d[h]?1:8;++g}var b=(d[h]?4:0)+(d[h-c]?8:0);for(n=1;n<o;n++){b=(b>>2)+(d[h+1]?4:0)+(d[h-c+1]?8:0);if(l[b]){s[a+n]=l[b];++g}h++}if(d[h-c]!==d[h]){s[a+n]=d[h]?2:4;++g}if(g>t){return null}}h=c*(u-1);a=r*i;if(d[h]!==0){s[a]=8;++g}for(n=1;n<o;n++){if(d[h]!==d[h+1]){s[a+n]=d[h]?4:8;++g}h++}if(d[h]!==0){s[a+n]=4;++g}if(g>t){return null}var _=new Int32Array([0,i,-1,0,-i,0,0,0,1]);var y=[];for(r=0;g&&r<=u;r++){var A=r*i;var S=A+o;while(A<S&&!s[A]){A++}if(A===S){continue}var w=[A%i,r];var P=s[A],C=A,R;do{var k=_[P];do{A+=k}while(!s[A]);R=s[A];if(R!==5&&R!==10){P=R;s[A]=0}else{P=R&51*P>>4;s[A]&=P>>2|P<<2}w.push(A%i);w.push(A/i|0);--g}while(C!==A);y.push(w);--r}var x=function e(t){t.save();t.scale(1/o,-1/u);t.translate(0,-u);t.beginPath();for(var r=0,n=y.length;r<n;r++){var a=y[r];t.moveTo(a[0],a[1]);for(var i=2,s=a.length;i<s;i+=2){t.lineTo(a[i],a[i+1])}}t.fill();t.beginPath();t.restore()};return x}var E=function e(){function t(){this.alphaIsShape=false;this.fontSize=0;this.fontSizeScale=1;this.textMatrix=N.IDENTITY_MATRIX;this.textMatrixScale=1;this.fontMatrix=N.FONT_IDENTITY_MATRIX;this.leading=0;this.x=0;this.y=0;this.lineX=0;this.lineY=0;this.charSpacing=0;this.wordSpacing=0;this.textHScale=1;this.textRenderingMode=N.TextRenderingMode.FILL;this.textRise=0;this.fillColor="#000000";this.strokeColor="#000000";this.patternFill=false;this.fillAlpha=1;this.strokeAlpha=1;this.lineWidth=1;this.activeSMask=null;this.resumeSMaskCtx=null}t.prototype={clone:function e(){return Object.create(this)},setCurrentPoint:function e(t,r){this.x=t;this.y=r}};return t}();var n=function e(){var A=15;var S=10;function o(e,t,r,n,a){this.ctx=e;this.current=new E;this.stateStack=[];this.pendingClip=null;this.pendingEOFill=false;this.res=null;this.xobjs=null;this.commonObjs=t;this.objs=r;this.canvasFactory=n;this.imageLayer=a;this.groupStack=[];this.processingType3=null;this.baseTransform=null;this.baseTransformStack=[];this.groupLevel=0;this.smaskStack=[];this.smaskCounter=0;this.tempSMask=null;this.cachedCanvases=new R(this.canvasFactory);if(e){C(e)}this.cachedGetSinglePixelWidth=null}function w(e,t){if(typeof ImageData!=="undefined"&&t instanceof ImageData){e.putImageData(t,0,0);return}var r=t.height,n=t.width;var a=r%x;var i=(r-a)/x;var s=a===0?i:i+1;var o=e.createImageData(n,x);var u=0,l;var c=t.data;var f=o.data;var d,h,v,p;if(t.kind===N.ImageKind.GRAYSCALE_1BPP){var m=c.byteLength;var g=new Uint32Array(f.buffer,0,f.byteLength>>2);var b=g.length;var _=n+7>>3;var y=4294967295;var A=T.value?4278190080:255;for(d=0;d<s;d++){v=d<i?x:a;l=0;for(h=0;h<v;h++){var S=m-u;var w=0;var P=S>_?n:S*8-7;var C=P&~7;var R=0;var k=0;for(;w<C;w+=8){k=c[u++];g[l++]=k&128?y:A;g[l++]=k&64?y:A;g[l++]=k&32?y:A;g[l++]=k&16?y:A;g[l++]=k&8?y:A;g[l++]=k&4?y:A;g[l++]=k&2?y:A;g[l++]=k&1?y:A}for(;w<P;w++){if(R===0){k=c[u++];R=128}g[l++]=k&R?y:A;R>>=1}}while(l<b){g[l++]=0}e.putImageData(o,0,d*x)}}else if(t.kind===N.ImageKind.RGBA_32BPP){h=0;p=n*x*4;for(d=0;d<i;d++){f.set(c.subarray(u,u+p));u+=p;e.putImageData(o,0,h);h+=x}if(d<s){p=n*a*4;f.set(c.subarray(u,u+p));e.putImageData(o,0,h)}}else if(t.kind===N.ImageKind.RGB_24BPP){v=x;p=n*v;for(d=0;d<s;d++){if(d>=i){v=a;p=n*v}l=0;for(h=p;h--;){f[l++]=c[u++];f[l++]=c[u++];f[l++]=c[u++];f[l++]=255}e.putImageData(o,0,d*x)}}else{throw new Error("bad image kind: "+t.kind)}}function v(e,t){var r=t.height,n=t.width;var a=r%x;var i=(r-a)/x;var s=a===0?i:i+1;var o=e.createImageData(n,x);var u=0;var l=t.data;var c=o.data;for(var f=0;f<s;f++){var d=f<i?x:a;var h=3;for(var v=0;v<d;v++){var p=0;for(var m=0;m<n;m++){if(!p){var g=l[u++];p=128}c[h]=g&p?0:255;h+=4;p>>=1}}e.putImageData(o,0,f*x)}}function p(e,t){var r=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(var n=0,a=r.length;n<a;n++){var i=r[n];if(e[i]!==undefined){t[i]=e[i]}}if(e.setLineDash!==undefined){t.setLineDash(e.getLineDash());t.lineDashOffset=e.lineDashOffset}}function c(e){e.strokeStyle="#000000";e.fillStyle="#000000";e.fillRule="nonzero";e.globalAlpha=1;e.lineWidth=1;e.lineCap="butt";e.lineJoin="miter";e.miterLimit=10;e.globalCompositeOperation="source-over";e.font="10px sans-serif";if(e.setLineDash!==undefined){e.setLineDash([]);e.lineDashOffset=0}}function b(e,t,r,n){var a=e.length;for(var i=3;i<a;i+=4){var s=e[i];if(s===0){e[i-3]=t;e[i-2]=r;e[i-1]=n}else if(s<255){var o=255-s;e[i-3]=e[i-3]*s+t*o>>8;e[i-2]=e[i-2]*s+r*o>>8;e[i-1]=e[i-1]*s+n*o>>8}}}function _(e,t,r){var n=e.length;var a=1/255;for(var i=3;i<n;i+=4){var s=r?r[e[i]]:e[i];t[i]=t[i]*s*a|0}}function y(e,t,r){var n=e.length;for(var a=3;a<n;a+=4){var i=e[a-3]*77+e[a-2]*152+e[a-1]*28;t[a]=r?t[a]*r[i>>8]>>8:t[a]*i>>16}}function u(e,t,r,n,a,i,s){var o=!!i;var u=o?i[0]:0;var l=o?i[1]:0;var c=o?i[2]:0;var f;if(a==="Luminosity"){f=y}else{f=_}var d=1048576;var h=Math.min(n,Math.ceil(d/r));for(var v=0;v<n;v+=h){var p=Math.min(h,n-v);var m=e.getImageData(0,v,r,p);var g=t.getImageData(0,v,r,p);if(o){b(m.data,u,l,c)}f(m.data,g.data,s);e.putImageData(g,0,v)}}function n(e,t,r){var n=t.canvas;var a=t.context;e.setTransform(t.scaleX,0,0,t.scaleY,t.offsetX,t.offsetY);var i=t.backdrop||null;if(!t.transferMap&&l.WebGLUtils.isEnabled){var s=l.WebGLUtils.composeSMask(r.canvas,n,{subtype:t.subtype,backdrop:i});e.setTransform(1,0,0,1,0,0);e.drawImage(s,t.offsetX,t.offsetY);return}u(a,r,n.width,n.height,t.subtype,i,t.transferMap);e.drawImage(n,0,0)}var r=["butt","round","square"];var a=["miter","round","bevel"];var t={};var i={};o.prototype={beginDrawing:function e(t){var r=t.transform,n=t.viewport,a=t.transparency,i=t.background,s=i===undefined?null:i;var o=this.ctx.canvas.width;var u=this.ctx.canvas.height;this.ctx.save();this.ctx.fillStyle=s||"rgb(255, 255, 255)";this.ctx.fillRect(0,0,o,u);this.ctx.restore();if(a){var l=this.cachedCanvases.getCanvas("transparent",o,u,true);this.compositeCtx=this.ctx;this.transparentCanvas=l.canvas;this.ctx=l.context;this.ctx.save();this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save();c(this.ctx);if(r){this.ctx.transform.apply(this.ctx,r)}this.ctx.transform.apply(this.ctx,n.transform);this.baseTransform=this.ctx.mozCurrentTransform.slice();if(this.imageLayer){this.imageLayer.beginLayout()}},executeOperatorList:function e(t,r,n,a){var i=t.argsArray;var s=t.fnArray;var o=r||0;var u=i.length;if(u===o){return o}var l=u-o>S&&typeof n==="function";var c=l?Date.now()+A:0;var f=0;var d=this.commonObjs;var h=this.objs;var v;while(true){if(a!==undefined&&o===a.nextBreakPoint){a.breakIt(o,n);return o}v=s[o];if(v!==N.OPS.dependency){this[v].apply(this,i[o])}else{var p=i[o];for(var m=0,g=p.length;m<g;m++){var b=p[m];var _=b[0]==="g"&&b[1]==="_";var y=_?d:h;if(!y.isResolved(b)){y.get(b,n);return o}}}o++;if(o===u){return o}if(l&&++f>S){if(Date.now()>c){n();return o}f=0}}},endDrawing:function e(){if(this.current.activeSMask!==null){this.endSMaskGroup()}this.ctx.restore();if(this.transparentCanvas){this.ctx=this.compositeCtx;this.ctx.save();this.ctx.setTransform(1,0,0,1,0,0);this.ctx.drawImage(this.transparentCanvas,0,0);this.ctx.restore();this.transparentCanvas=null}this.cachedCanvases.clear();l.WebGLUtils.clear();if(this.imageLayer){this.imageLayer.endLayout()}},setLineWidth:function e(t){this.current.lineWidth=t;this.ctx.lineWidth=t},setLineCap:function e(t){this.ctx.lineCap=r[t]},setLineJoin:function e(t){this.ctx.lineJoin=a[t]},setMiterLimit:function e(t){this.ctx.miterLimit=t},setDash:function e(t,r){var n=this.ctx;if(n.setLineDash!==undefined){n.setLineDash(t);n.lineDashOffset=r}},setRenderingIntent:function e(t){},setFlatness:function e(t){},setGState:function e(t){for(var r=0,n=t.length;r<n;r++){var a=t[r];var i=a[0];var s=a[1];switch(i){case"LW":this.setLineWidth(s);break;case"LC":this.setLineCap(s);break;case"LJ":this.setLineJoin(s);break;case"ML":this.setMiterLimit(s);break;case"D":this.setDash(s[0],s[1]);break;case"RI":this.setRenderingIntent(s);break;case"FL":this.setFlatness(s);break;case"Font":this.setFont(s[0],s[1]);break;case"CA":this.current.strokeAlpha=a[1];break;case"ca":this.current.fillAlpha=a[1];this.ctx.globalAlpha=a[1];break;case"BM":this.ctx.globalCompositeOperation=s;break;case"SMask":if(this.current.activeSMask){if(this.stateStack.length>0&&this.stateStack[this.stateStack.length-1].activeSMask===this.current.activeSMask){this.suspendSMaskGroup()}else{this.endSMaskGroup()}}this.current.activeSMask=s?this.tempSMask:null;if(this.current.activeSMask){this.beginSMaskGroup()}this.tempSMask=null;break}}},beginSMaskGroup:function e(){var t=this.current.activeSMask;var r=t.canvas.width;var n=t.canvas.height;var a="smaskGroupAt"+this.groupLevel;var i=this.cachedCanvases.getCanvas(a,r,n,true);var s=this.ctx;var o=s.mozCurrentTransform;this.ctx.save();var u=i.context;u.scale(1/t.scaleX,1/t.scaleY);u.translate(-t.offsetX,-t.offsetY);u.transform.apply(u,o);t.startTransformInverse=u.mozCurrentTransformInverse;p(s,u);this.ctx=u;this.setGState([["BM","source-over"],["ca",1],["CA",1]]);this.groupStack.push(s);this.groupLevel++},suspendSMaskGroup:function e(){var t=this.ctx;this.groupLevel--;this.ctx=this.groupStack.pop();n(this.ctx,this.current.activeSMask,t);this.ctx.restore();this.ctx.save();p(t,this.ctx);this.current.resumeSMaskCtx=t;var r=N.Util.transform(this.current.activeSMask.startTransformInverse,t.mozCurrentTransform);this.ctx.transform.apply(this.ctx,r);t.save();t.setTransform(1,0,0,1,0,0);t.clearRect(0,0,t.canvas.width,t.canvas.height);t.restore()},resumeSMaskGroup:function e(){var t=this.current.resumeSMaskCtx;var r=this.ctx;this.ctx=t;this.groupStack.push(r);this.groupLevel++},endSMaskGroup:function e(){var t=this.ctx;this.groupLevel--;this.ctx=this.groupStack.pop();n(this.ctx,this.current.activeSMask,t);this.ctx.restore();p(t,this.ctx);var r=N.Util.transform(this.current.activeSMask.startTransformInverse,t.mozCurrentTransform);this.ctx.transform.apply(this.ctx,r)},save:function e(){this.ctx.save();var t=this.current;this.stateStack.push(t);this.current=t.clone();this.current.resumeSMaskCtx=null},restore:function e(){if(this.current.resumeSMaskCtx){this.resumeSMaskGroup()}if(this.current.activeSMask!==null&&(this.stateStack.length===0||this.stateStack[this.stateStack.length-1].activeSMask!==this.current.activeSMask)){this.endSMaskGroup()}if(this.stateStack.length!==0){this.current=this.stateStack.pop();this.ctx.restore();this.pendingClip=null;this.cachedGetSinglePixelWidth=null}},transform:function e(t,r,n,a,i,s){this.ctx.transform(t,r,n,a,i,s);this.cachedGetSinglePixelWidth=null},constructPath:function e(t,r){var n=this.ctx;var a=this.current;var i=a.x,s=a.y;for(var o=0,u=0,l=t.length;o<l;o++){switch(t[o]|0){case N.OPS.rectangle:i=r[u++];s=r[u++];var c=r[u++];var f=r[u++];if(c===0){c=this.getSinglePixelWidth()}if(f===0){f=this.getSinglePixelWidth()}var d=i+c;var h=s+f;this.ctx.moveTo(i,s);this.ctx.lineTo(d,s);this.ctx.lineTo(d,h);this.ctx.lineTo(i,h);this.ctx.lineTo(i,s);this.ctx.closePath();break;case N.OPS.moveTo:i=r[u++];s=r[u++];n.moveTo(i,s);break;case N.OPS.lineTo:i=r[u++];s=r[u++];n.lineTo(i,s);break;case N.OPS.curveTo:i=r[u+4];s=r[u+5];n.bezierCurveTo(r[u],r[u+1],r[u+2],r[u+3],i,s);u+=6;break;case N.OPS.curveTo2:n.bezierCurveTo(i,s,r[u],r[u+1],r[u+2],r[u+3]);i=r[u+2];s=r[u+3];u+=4;break;case N.OPS.curveTo3:i=r[u+2];s=r[u+3];n.bezierCurveTo(r[u],r[u+1],i,s,i,s);u+=4;break;case N.OPS.closePath:n.closePath();break}}a.setCurrentPoint(i,s)},closePath:function e(){this.ctx.closePath()},stroke:function e(t){t=typeof t!=="undefined"?t:true;var r=this.ctx;var n=this.current.strokeColor;r.lineWidth=Math.max(this.getSinglePixelWidth()*q,this.current.lineWidth);r.globalAlpha=this.current.strokeAlpha;if(n&&n.hasOwnProperty("type")&&n.type==="Pattern"){r.save();r.strokeStyle=n.getPattern(r,this);r.stroke();r.restore()}else{r.stroke()}if(t){this.consumePath()}r.globalAlpha=this.current.fillAlpha},closeStroke:function e(){this.closePath();this.stroke()},fill:function e(t){t=typeof t!=="undefined"?t:true;var r=this.ctx;var n=this.current.fillColor;var a=this.current.patternFill;var i=false;if(a){r.save();if(this.baseTransform){r.setTransform.apply(r,this.baseTransform)}r.fillStyle=n.getPattern(r,this);i=true}if(this.pendingEOFill){r.fill("evenodd");this.pendingEOFill=false}else{r.fill()}if(i){r.restore()}if(t){this.consumePath()}},eoFill:function e(){this.pendingEOFill=true;this.fill()},fillStroke:function e(){this.fill(false);this.stroke(false);this.consumePath()},eoFillStroke:function e(){this.pendingEOFill=true;this.fillStroke()},closeFillStroke:function e(){this.closePath();this.fillStroke()},closeEOFillStroke:function e(){this.pendingEOFill=true;this.closePath();this.fillStroke()},endPath:function e(){this.consumePath()},clip:function e(){this.pendingClip=t},eoClip:function e(){this.pendingClip=i},beginText:function e(){this.current.textMatrix=N.IDENTITY_MATRIX;this.current.textMatrixScale=1;this.current.x=this.current.lineX=0;this.current.y=this.current.lineY=0},endText:function e(){var t=this.pendingTextPaths;var r=this.ctx;if(t===undefined){r.beginPath();return}r.save();r.beginPath();for(var n=0;n<t.length;n++){var a=t[n];r.setTransform.apply(r,a.transform);r.translate(a.x,a.y);a.addToPath(r,a.fontSize)}r.restore();r.clip();r.beginPath();delete this.pendingTextPaths},setCharSpacing:function e(t){this.current.charSpacing=t},setWordSpacing:function e(t){this.current.wordSpacing=t},setHScale:function e(t){this.current.textHScale=t/100},setLeading:function e(t){this.current.leading=-t},setFont:function e(t,r){var n=this.commonObjs.get(t);var a=this.current;if(!n){throw new Error("Can't find font for "+t)}a.fontMatrix=n.fontMatrix?n.fontMatrix:N.FONT_IDENTITY_MATRIX;if(a.fontMatrix[0]===0||a.fontMatrix[3]===0){(0,N.warn)("Invalid font matrix for font "+t)}if(r<0){r=-r;a.fontDirection=-1}else{a.fontDirection=1}this.current.font=n;this.current.fontSize=r;if(n.isType3Font){return}var i=n.loadedName||"sans-serif";var s=n.black?"900":n.bold?"bold":"normal";var o=n.italic?"italic":"normal";var u='"'+i+'", '+n.fallbackName;var l=r<f?f:r>d?d:r;this.current.fontSizeScale=r/l;var c=o+" "+s+" "+l+"px "+u;this.ctx.font=c},setTextRenderingMode:function e(t){this.current.textRenderingMode=t},setTextRise:function e(t){this.current.textRise=t},moveText:function e(t,r){this.current.x=this.current.lineX+=t;this.current.y=this.current.lineY+=r},setLeadingMoveText:function e(t,r){this.setLeading(-r);this.moveText(t,r)},setTextMatrix:function e(t,r,n,a,i,s){this.current.textMatrix=[t,r,n,a,i,s];this.current.textMatrixScale=Math.sqrt(t*t+r*r);this.current.x=this.current.lineX=0;this.current.y=this.current.lineY=0},nextLine:function e(){this.moveText(0,this.current.leading)},paintChar:function e(t,r,n){var a=this.ctx;var i=this.current;var s=i.font;var o=i.textRenderingMode;var u=i.fontSize/i.fontSizeScale;var l=o&N.TextRenderingMode.FILL_STROKE_MASK;var c=!!(o&N.TextRenderingMode.ADD_TO_PATH_FLAG);var f;if(s.disableFontFace||c){f=s.getPathGenerator(this.commonObjs,t)}if(s.disableFontFace){a.save();a.translate(r,n);a.beginPath();f(a,u);if(l===N.TextRenderingMode.FILL||l===N.TextRenderingMode.FILL_STROKE){a.fill()}if(l===N.TextRenderingMode.STROKE||l===N.TextRenderingMode.FILL_STROKE){a.stroke()}a.restore()}else{if(l===N.TextRenderingMode.FILL||l===N.TextRenderingMode.FILL_STROKE){a.fillText(t,r,n)}if(l===N.TextRenderingMode.STROKE||l===N.TextRenderingMode.FILL_STROKE){a.strokeText(t,r,n)}}if(c){var d=this.pendingTextPaths||(this.pendingTextPaths=[]);d.push({transform:a.mozCurrentTransform,x:r,y:n,fontSize:u,addToPath:f})}},get isFontSubpixelAAEnabled(){var e=this.canvasFactory.create(10,10).context;e.scale(1.5,1);e.fillText("I",0,10);var t=e.getImageData(0,0,10,10).data;var r=false;for(var n=3;n<t.length;n+=4){if(t[n]>0&&t[n]<255){r=true;break}}return(0,N.shadow)(this,"isFontSubpixelAAEnabled",r)},showText:function e(t){var r=this.current;var n=r.font;if(n.isType3Font){return this.showType3Text(t)}var a=r.fontSize;if(a===0){return}var i=this.ctx;var s=r.fontSizeScale;var o=r.charSpacing;var u=r.wordSpacing;var l=r.fontDirection;var c=r.textHScale*l;var f=t.length;var d=n.vertical;var h=d?1:-1;var v=n.defaultVMetrics;var p=a*r.fontMatrix[0];var m=r.textRenderingMode===N.TextRenderingMode.FILL&&!n.disableFontFace;i.save();i.transform.apply(i,r.textMatrix);i.translate(r.x,r.y+r.textRise);if(r.patternFill){i.fillStyle=r.fillColor.getPattern(i,this)}if(l>0){i.scale(c,-1)}else{i.scale(c,1)}var g=r.lineWidth;var b=r.textMatrixScale;if(b===0||g===0){var _=r.textRenderingMode&N.TextRenderingMode.FILL_STROKE_MASK;if(_===N.TextRenderingMode.STROKE||_===N.TextRenderingMode.FILL_STROKE){this.cachedGetSinglePixelWidth=null;g=this.getSinglePixelWidth()*q}}else{g/=b}if(s!==1){i.scale(s,s);g/=s}i.lineWidth=g;var y=0,A;for(A=0;A<f;++A){var S=t[A];if((0,N.isNum)(S)){y+=h*S*a/1e3;continue}var w=false;var P=(S.isSpace?u:0)+o;var C=S.fontChar;var R=S.accent;var k,x,T,E;var O=S.width;if(d){var L,I,F;L=S.vmetric||v;I=S.vmetric?L[1]:O*.5;I=-I*p;F=L[2]*p;O=L?-L[0]:O;k=I/s;x=(y+F)/s}else{k=y/s;x=0}if(n.remeasure&&O>0){var D=i.measureText(C).width*1e3/a*s;if(O<D&&this.isFontSubpixelAAEnabled){var j=O/D;w=true;i.save();i.scale(j,1);k/=j}else if(O!==D){k+=(O-D)/2e3*a/s}}if(S.isInFont||n.missingFile){if(m&&!R){i.fillText(C,k,x)}else{this.paintChar(C,k,x);if(R){T=k+R.offset.x/s;E=x-R.offset.y/s;this.paintChar(R.fontChar,T,E)}}}var M=O*p+P*l;y+=M;if(w){i.restore()}}if(d){r.y-=y*c}else{r.x+=y*c}i.restore()},showType3Text:function e(t){var r=this.ctx;var n=this.current;var a=n.font;var i=n.fontSize;var s=n.fontDirection;var o=a.vertical?1:-1;var u=n.charSpacing;var l=n.wordSpacing;var c=n.textHScale*s;var f=n.fontMatrix||N.FONT_IDENTITY_MATRIX;var d=t.length;var h=n.textRenderingMode===N.TextRenderingMode.INVISIBLE;var v,p,m,g;if(h||i===0){return}this.cachedGetSinglePixelWidth=null;r.save();r.transform.apply(r,n.textMatrix);r.translate(n.x,n.y);r.scale(c,s);for(v=0;v<d;++v){p=t[v];if((0,N.isNum)(p)){g=o*p*i/1e3;this.ctx.translate(g,0);n.x+=g*c;continue}var b=(p.isSpace?l:0)+u;var _=a.charProcOperatorList[p.operatorListId];if(!_){(0,N.warn)('Type3 character "'+p.operatorListId+'" is not available.');continue}this.processingType3=p;this.save();r.scale(i,i);r.transform.apply(r,f);this.executeOperatorList(_);this.restore();var y=N.Util.applyTransform([p.width,0],f);m=y[0]*i+b;r.translate(m,0);n.x+=m*c}r.restore();this.processingType3=null},setCharWidth:function e(t,r){},setCharWidthAndBounds:function e(t,r,n,a,i,s){this.ctx.rect(n,a,i-n,s-a);this.clip();this.endPath()},getColorN_Pattern:function e(t){var r=this;var n;if(t[0]==="TilingPattern"){var a=t[1];var i=this.baseTransform||this.ctx.mozCurrentTransform.slice();var s={createCanvasGraphics:function e(t){return new o(t,r.commonObjs,r.objs,r.canvasFactory)}};n=new m.TilingPattern(t,a,this.ctx,s,i)}else{n=(0,m.getShadingPatternFromIR)(t)}return n},setStrokeColorN:function e(){this.current.strokeColor=this.getColorN_Pattern(arguments)},setFillColorN:function e(){this.current.fillColor=this.getColorN_Pattern(arguments);this.current.patternFill=true},setStrokeRGBColor:function e(t,r,n){var a=N.Util.makeCssRgb(t,r,n);this.ctx.strokeStyle=a;this.current.strokeColor=a},setFillRGBColor:function e(t,r,n){var a=N.Util.makeCssRgb(t,r,n);this.ctx.fillStyle=a;this.current.fillColor=a;this.current.patternFill=false},shadingFill:function e(t){var r=this.ctx;this.save();var n=(0,m.getShadingPatternFromIR)(t);r.fillStyle=n.getPattern(r,this,true);var a=r.mozCurrentTransformInverse;if(a){var i=r.canvas;var s=i.width;var o=i.height;var u=N.Util.applyTransform([0,0],a);var l=N.Util.applyTransform([0,o],a);var c=N.Util.applyTransform([s,0],a);var f=N.Util.applyTransform([s,o],a);var d=Math.min(u[0],l[0],c[0],f[0]);var h=Math.min(u[1],l[1],c[1],f[1]);var v=Math.max(u[0],l[0],c[0],f[0]);var p=Math.max(u[1],l[1],c[1],f[1]);this.ctx.fillRect(d,h,v-d,p-h)}else{this.ctx.fillRect(-1e10,-1e10,2e10,2e10)}this.restore()},beginInlineImage:function e(){throw new Error("Should not call beginInlineImage")},beginImageData:function e(){throw new Error("Should not call beginImageData")},paintFormXObjectBegin:function e(t,r){this.save();this.baseTransformStack.push(this.baseTransform);if(Array.isArray(t)&&t.length===6){this.transform.apply(this,t)}this.baseTransform=this.ctx.mozCurrentTransform;if(Array.isArray(r)&&r.length===4){var n=r[2]-r[0];var a=r[3]-r[1];this.ctx.rect(r[0],r[1],n,a);this.clip();this.endPath()}},paintFormXObjectEnd:function e(){this.restore();this.baseTransform=this.baseTransformStack.pop()},beginGroup:function e(t){this.save();var r=this.ctx;if(!t.isolated){(0,N.info)("TODO: Support non-isolated groups.")}if(t.knockout){(0,N.warn)("Knockout groups not supported.")}var n=r.mozCurrentTransform;if(t.matrix){r.transform.apply(r,t.matrix)}if(!t.bbox){throw new Error("Bounding box is required.")}var a=N.Util.getAxialAlignedBoundingBox(t.bbox,r.mozCurrentTransform);var i=[0,0,r.canvas.width,r.canvas.height];a=N.Util.intersect(a,i)||[0,0,0,0];var s=Math.floor(a[0]);var o=Math.floor(a[1]);var u=Math.max(Math.ceil(a[2])-s,1);var l=Math.max(Math.ceil(a[3])-o,1);var c=1,f=1;if(u>g){c=u/g;u=g}if(l>g){f=l/g;l=g}var d="groupAt"+this.groupLevel;if(t.smask){d+="_smask_"+this.smaskCounter++%2}var h=this.cachedCanvases.getCanvas(d,u,l,true);var v=h.context;v.scale(1/c,1/f);v.translate(-s,-o);v.transform.apply(v,n);if(t.smask){this.smaskStack.push({canvas:h.canvas,context:v,offsetX:s,offsetY:o,scaleX:c,scaleY:f,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null})}else{r.setTransform(1,0,0,1,0,0);r.translate(s,o);r.scale(c,f)}p(r,v);this.ctx=v;this.setGState([["BM","source-over"],["ca",1],["CA",1]]);this.groupStack.push(r);this.groupLevel++;this.current.activeSMask=null},endGroup:function e(t){this.groupLevel--;var r=this.ctx;this.ctx=this.groupStack.pop();if(this.ctx.imageSmoothingEnabled!==undefined){this.ctx.imageSmoothingEnabled=false}else{this.ctx.mozImageSmoothingEnabled=false}if(t.smask){this.tempSMask=this.smaskStack.pop()}else{this.ctx.drawImage(r.canvas,0,0)}this.restore()},beginAnnotations:function e(){this.save();if(this.baseTransform){this.ctx.setTransform.apply(this.ctx,this.baseTransform)}},endAnnotations:function e(){this.restore()},beginAnnotation:function e(t,r,n){this.save();c(this.ctx);this.current=new E;if(Array.isArray(t)&&t.length===4){var a=t[2]-t[0];var i=t[3]-t[1];this.ctx.rect(t[0],t[1],a,i);this.clip();this.endPath()}this.transform.apply(this,r);this.transform.apply(this,n)},endAnnotation:function e(){this.restore()},paintJpegXObject:function e(t,r,n){var a=this.objs.get(t);if(!a){(0,N.warn)("Dependent image isn't ready yet");return}this.save();var i=this.ctx;i.scale(1/r,-1/n);i.drawImage(a,0,0,a.width,a.height,0,-n,r,n);if(this.imageLayer){var s=i.mozCurrentTransformInverse;var o=this.getCanvasPosition(0,0);this.imageLayer.appendImage({objId:t,left:o[0],top:o[1],width:r/s[0],height:n/s[3]})}this.restore()},paintImageMaskXObject:function e(t){var r=this.ctx;var n=t.width,a=t.height;var i=this.current.fillColor;var s=this.current.patternFill;var o=this.processingType3;if(h&&o&&o.compiled===undefined){if(n<=P&&a<=P){o.compiled=k({data:t.data,width:n,height:a})}else{o.compiled=null}}if(o&&o.compiled){o.compiled(r);return}var u=this.cachedCanvases.getCanvas("maskCanvas",n,a);var l=u.context;l.save();v(l,t);l.globalCompositeOperation="source-in";l.fillStyle=s?i.getPattern(l,this):i;l.fillRect(0,0,n,a);l.restore();this.paintInlineImageXObject(u.canvas)},paintImageMaskXObjectRepeat:function e(t,r,n,a){var i=t.width;var s=t.height;var o=this.current.fillColor;var u=this.current.patternFill;var l=this.cachedCanvases.getCanvas("maskCanvas",i,s);var c=l.context;c.save();v(c,t);c.globalCompositeOperation="source-in";c.fillStyle=u?o.getPattern(c,this):o;c.fillRect(0,0,i,s);c.restore();var f=this.ctx;for(var d=0,h=a.length;d<h;d+=2){f.save();f.transform(r,0,0,n,a[d],a[d+1]);f.scale(1,-1);f.drawImage(l.canvas,0,0,i,s,0,-1,1,1);f.restore()}},paintImageMaskXObjectGroup:function e(t){var r=this.ctx;var n=this.current.fillColor;var a=this.current.patternFill;for(var i=0,s=t.length;i<s;i++){var o=t[i];var u=o.width,l=o.height;var c=this.cachedCanvases.getCanvas("maskCanvas",u,l);var f=c.context;f.save();v(f,o);f.globalCompositeOperation="source-in";f.fillStyle=a?n.getPattern(f,this):n;f.fillRect(0,0,u,l);f.restore();r.save();r.transform.apply(r,o.transform);r.scale(1,-1);r.drawImage(c.canvas,0,0,u,l,0,-1,1,1);r.restore()}},paintImageXObject:function e(t){var r=this.objs.get(t);if(!r){(0,N.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(r)},paintImageXObjectRepeat:function e(t,r,n,a){var i=this.objs.get(t);if(!i){(0,N.warn)("Dependent image isn't ready yet");return}var s=i.width;var o=i.height;var u=[];for(var l=0,c=a.length;l<c;l+=2){u.push({transform:[r,0,0,n,a[l],a[l+1]],x:0,y:0,w:s,h:o})}this.paintInlineImageXObjectGroup(i,u)},paintInlineImageXObject:function e(t){var r=t.width;var n=t.height;var a=this.ctx;this.save();a.scale(1/r,-1/n);var i=a.mozCurrentTransformInverse;var s=i[0],o=i[1];var u=Math.max(Math.sqrt(s*s+o*o),1);var l=i[2],c=i[3];var f=Math.max(Math.sqrt(l*l+c*c),1);var d,h;if(t instanceof HTMLElement||!t.data){d=t}else{h=this.cachedCanvases.getCanvas("inlineImage",r,n);var v=h.context;w(v,t);d=h.canvas}var p=r,m=n;var g="prescale1";while(u>2&&p>1||f>2&&m>1){var b=p,_=m;if(u>2&&p>1){b=Math.ceil(p/2);u/=p/b}if(f>2&&m>1){_=Math.ceil(m/2);f/=m/_}h=this.cachedCanvases.getCanvas(g,b,_);v=h.context;v.clearRect(0,0,b,_);v.drawImage(d,0,0,p,m,0,0,b,_);d=h.canvas;p=b;m=_;g=g==="prescale1"?"prescale2":"prescale1"}a.drawImage(d,0,0,p,m,0,-n,r,n);if(this.imageLayer){var y=this.getCanvasPosition(0,-n);this.imageLayer.appendImage({imgData:t,left:y[0],top:y[1],width:r/i[0],height:n/i[3]})}this.restore()},paintInlineImageXObjectGroup:function e(t,r){var n=this.ctx;var a=t.width;var i=t.height;var s=this.cachedCanvases.getCanvas("inlineImage",a,i);var o=s.context;w(o,t);for(var u=0,l=r.length;u<l;u++){var c=r[u];n.save();n.transform.apply(n,c.transform);n.scale(1,-1);n.drawImage(s.canvas,c.x,c.y,c.w,c.h,0,-1,1,1);if(this.imageLayer){var f=this.getCanvasPosition(c.x,c.y);this.imageLayer.appendImage({imgData:t,left:f[0],top:f[1],width:a,height:i})}n.restore()}},paintSolidColorImageMask:function e(){this.ctx.fillRect(0,0,1,1)},paintXObject:function e(){(0,N.warn)("Unsupported 'paintXObject' command.")},markPoint:function e(t){},markPointProps:function e(t,r){},beginMarkedContent:function e(t){},beginMarkedContentProps:function e(t,r){},endMarkedContent:function e(){},beginCompat:function e(){},endCompat:function e(){},consumePath:function e(){var t=this.ctx;if(this.pendingClip){if(this.pendingClip===i){t.clip("evenodd")}else{t.clip()}this.pendingClip=null}t.beginPath()},getSinglePixelWidth:function e(t){if(this.cachedGetSinglePixelWidth===null){this.ctx.save();var r=this.ctx.mozCurrentTransformInverse;this.ctx.restore();this.cachedGetSinglePixelWidth=Math.sqrt(Math.max(r[0]*r[0]+r[1]*r[1],r[2]*r[2]+r[3]*r[3]))}return this.cachedGetSinglePixelWidth},getCanvasPosition:function e(t,r){var n=this.ctx.mozCurrentTransform;return[n[0]*t+n[2]*r+n[4],n[1]*t+n[3]*r+n[5]]}};for(var s in N.OPS){o.prototype[N.OPS[s]]=o.prototype[s]}return o}();t.CanvasGraphics=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.TilingPattern=t.getShadingPatternFromIR=undefined;var R=r(0);var T=r(58);var n={};n.RadialAxial={fromIR:function e(t){var s=t[1];var o=t[2];var u=t[3];var l=t[4];var c=t[5];var f=t[6];return{type:"Pattern",getPattern:function e(t){var r;if(s==="axial"){r=t.createLinearGradient(u[0],u[1],l[0],l[1])}else if(s==="radial"){r=t.createRadialGradient(u[0],u[1],c,l[0],l[1],f)}for(var n=0,a=o.length;n<a;++n){var i=o[n];r.addColorStop(i[0],i[1])}return r}}}};var h=function e(){function d(e,t,r,n,a,i,s,o){var u=t.coords,l=t.colors;var c=e.data,f=e.width*4;var d;if(u[r+1]>u[n+1]){d=r;r=n;n=d;d=i;i=s;s=d}if(u[n+1]>u[a+1]){d=n;n=a;a=d;d=s;s=o;o=d}if(u[r+1]>u[n+1]){d=r;r=n;n=d;d=i;i=s;s=d}var h=(u[r]+t.offsetX)*t.scaleX;var v=(u[r+1]+t.offsetY)*t.scaleY;var p=(u[n]+t.offsetX)*t.scaleX;var m=(u[n+1]+t.offsetY)*t.scaleY;var g=(u[a]+t.offsetX)*t.scaleX;var b=(u[a+1]+t.offsetY)*t.scaleY;if(v>=b){return}var _=l[i],y=l[i+1],A=l[i+2];var S=l[s],w=l[s+1],P=l[s+2];var C=l[o],R=l[o+1],k=l[o+2];var x=Math.round(v),T=Math.round(b);var E,O,L,I;var F,D,j,M;var N;for(var q=x;q<=T;q++){if(q<m){N=q<v?0:v===m?1:(v-q)/(v-m);E=h-(h-p)*N;O=_-(_-S)*N;L=y-(y-w)*N;I=A-(A-P)*N}else{N=q>b?1:m===b?0:(m-q)/(m-b);E=p-(p-g)*N;O=S-(S-C)*N;L=w-(w-R)*N;I=P-(P-k)*N}N=q<v?0:q>b?1:(v-q)/(v-b);F=h-(h-g)*N;D=_-(_-C)*N;j=y-(y-R)*N;M=A-(A-k)*N;var W=Math.round(Math.min(E,F));var U=Math.round(Math.max(E,F));var B=f*q+W*4;for(var z=W;z<=U;z++){N=(E-z)/(E-F);N=N<0?0:N>1?1:N;c[B++]=O-(O-D)*N|0;c[B++]=L-(L-j)*N|0;c[B++]=I-(I-M)*N|0;c[B++]=255}}}function x(e,t,r){var n=t.coords;var a=t.colors;var i,s;switch(t.type){case"lattice":var o=t.verticesPerRow;var u=Math.floor(n.length/o)-1;var l=o-1;for(i=0;i<u;i++){var c=i*o;for(var f=0;f<l;f++,c++){d(e,r,n[c],n[c+1],n[c+o],a[c],a[c+1],a[c+o]);d(e,r,n[c+o+1],n[c+1],n[c+o],a[c+o+1],a[c+1],a[c+o])}}break;case"triangles":for(i=0,s=n.length;i<s;i+=3){d(e,r,n[i],n[i+1],n[i+2],a[i],a[i+1],a[i+2])}break;default:throw new Error("illegal figure")}}function t(e,t,r,n,a,i,s){var o=1.1;var u=3e3;var l=2;var c=Math.floor(e[0]);var f=Math.floor(e[1]);var d=Math.ceil(e[2])-c;var h=Math.ceil(e[3])-f;var v=Math.min(Math.ceil(Math.abs(d*t[0]*o)),u);var p=Math.min(Math.ceil(Math.abs(h*t[1]*o)),u);var m=d/v;var g=h/p;var b={coords:r,colors:n,offsetX:-c,offsetY:-f,scaleX:1/m,scaleY:1/g};var _=v+l*2;var y=p+l*2;var A,S,w,P;if(T.WebGLUtils.isEnabled){A=T.WebGLUtils.drawFigures(v,p,i,a,b);S=s.getCanvas("mesh",_,y,false);S.context.drawImage(A,l,l);A=S.canvas}else{S=s.getCanvas("mesh",_,y,false);var C=S.context;var R=C.createImageData(v,p);if(i){var k=R.data;for(w=0,P=k.length;w<P;w+=4){k[w]=i[0];k[w+1]=i[1];k[w+2]=i[2];k[w+3]=255}}for(w=0;w<a.length;w++){x(R,a[w],b)}C.putImageData(R,l,l);A=S.canvas}return{canvas:A,offsetX:c-l*m,offsetY:f-l*g,scaleX:m,scaleY:g}}return t}();n.Mesh={fromIR:function e(t){var o=t[2];var u=t[3];var l=t[4];var c=t[5];var f=t[6];var d=t[8];return{type:"Pattern",getPattern:function e(t,r,n){var a;if(n){a=R.Util.singularValueDecompose2dScale(t.mozCurrentTransform)}else{a=R.Util.singularValueDecompose2dScale(r.baseTransform);if(f){var i=R.Util.singularValueDecompose2dScale(f);a=[a[0]*i[0],a[1]*i[1]]}}var s=h(c,a,o,u,l,n?null:d,r.cachedCanvases);if(!n){t.setTransform.apply(t,r.baseTransform);if(f){t.transform.apply(t,f)}}t.translate(s.offsetX,s.offsetY);t.scale(s.scaleX,s.scaleY);return t.createPattern(s.canvas,"no-repeat")}}}};n.Dummy={fromIR:function e(){return{type:"Pattern",getPattern:function e(){return"hotpink"}}}};function a(e){var t=n[e[0]];if(!t){throw new Error("Unknown IR type: "+e[0])}return t.fromIR(e)}var i=function e(){var u={COLORED:1,UNCOLORED:2};var C=3e3;function t(e,t,r,n,a){this.operatorList=e[2];this.matrix=e[3]||[1,0,0,1,0,0];this.bbox=e[4];this.xstep=e[5];this.ystep=e[6];this.paintType=e[7];this.tilingType=e[8];this.color=t;this.canvasGraphicsFactory=n;this.baseTransform=a;this.type="Pattern";this.ctx=r}t.prototype={createPatternCanvas:function e(t){var r=this.operatorList;var n=this.bbox;var a=this.xstep;var i=this.ystep;var s=this.paintType;var o=this.tilingType;var u=this.color;var l=this.canvasGraphicsFactory;(0,R.info)("TilingType: "+o);var c=n[0],f=n[1],d=n[2],h=n[3];var v=[c,f];var p=[c+a,f+i];var m=p[0]-v[0];var g=p[1]-v[1];var b=R.Util.singularValueDecompose2dScale(this.matrix);var _=R.Util.singularValueDecompose2dScale(this.baseTransform);var y=[b[0]*_[0],b[1]*_[1]];m=Math.min(Math.ceil(Math.abs(m*y[0])),C);g=Math.min(Math.ceil(Math.abs(g*y[1])),C);var A=t.cachedCanvases.getCanvas("pattern",m,g,true);var S=A.context;var w=l.createCanvasGraphics(S);w.groupLevel=t.groupLevel;this.setFillAndStrokeStyleToContext(w,s,u);this.setScale(m,g,a,i);this.transformToScale(w);var P=[1,0,0,1,-v[0],-v[1]];w.transform.apply(w,P);this.clipBbox(w,n,c,f,d,h);w.executeOperatorList(r);return A.canvas},setScale:function e(t,r,n,a){this.scale=[t/n,r/a]},transformToScale:function e(t){var r=this.scale;var n=[r[0],0,0,r[1],0,0];t.transform.apply(t,n)},scaleToContext:function e(){var t=this.scale;this.ctx.scale(1/t[0],1/t[1])},clipBbox:function e(t,r,n,a,i,s){if(Array.isArray(r)&&r.length===4){var o=i-n;var u=s-a;t.ctx.rect(n,a,o,u);t.clip();t.endPath()}},setFillAndStrokeStyleToContext:function e(t,r,n){var a=t.ctx,i=t.current;switch(r){case u.COLORED:var s=this.ctx;a.fillStyle=s.fillStyle;a.strokeStyle=s.strokeStyle;i.fillColor=s.fillStyle;i.strokeColor=s.strokeStyle;break;case u.UNCOLORED:var o=R.Util.makeCssRgb(n[0],n[1],n[2]);a.fillStyle=o;a.strokeStyle=o;i.fillColor=o;i.strokeColor=o;break;default:throw new R.FormatError("Unsupported paint type: "+r)}},getPattern:function e(t,r){var n=this.createPatternCanvas(r);t=this.ctx;t.setTransform.apply(t,this.baseTransform);t.transform.apply(t,this.matrix);this.scaleToContext();return t.createPattern(n,"repeat")}};return t}();t.getShadingPatternFromIR=a;t.TilingPattern=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.PDFDataTransportStream=undefined;var i=r(0);var n=function e(){function t(e,t){var r=this;(0,i.assert)(t);this._queuedChunks=[];var n=e.initialData;if(n&&n.length>0){var a=new Uint8Array(n).buffer;this._queuedChunks.push(a)}this._pdfDataRangeTransport=t;this._isRangeSupported=!e.disableRange;this._isStreamingSupported=!e.disableStream;this._contentLength=e.length;this._fullRequestReader=null;this._rangeReaders=[];this._pdfDataRangeTransport.addRangeListener(function(e,t){r._onReceiveData({begin:e,chunk:t})});this._pdfDataRangeTransport.addProgressListener(function(e){r._onProgress({loaded:e})});this._pdfDataRangeTransport.addProgressiveReadListener(function(e){r._onReceiveData({chunk:e})});this._pdfDataRangeTransport.transportReady()}t.prototype={_onReceiveData:function e(t){var r=new Uint8Array(t.chunk).buffer;if(t.begin===undefined){if(this._fullRequestReader){this._fullRequestReader._enqueue(r)}else{this._queuedChunks.push(r)}}else{var n=this._rangeReaders.some(function(e){if(e._begin!==t.begin){return false}e._enqueue(r);return true});(0,i.assert)(n)}},_onProgress:function e(t){if(this._rangeReaders.length>0){var r=this._rangeReaders[0];if(r.onProgress){r.onProgress({loaded:t.loaded})}}},_removeRangeReader:function e(t){var r=this._rangeReaders.indexOf(t);if(r>=0){this._rangeReaders.splice(r,1)}},getFullReader:function e(){(0,i.assert)(!this._fullRequestReader);var t=this._queuedChunks;this._queuedChunks=null;return new r(this,t)},getRangeReader:function e(t,r){var n=new a(this,t,r);this._pdfDataRangeTransport.requestDataRange(t,r);this._rangeReaders.push(n);return n},cancelAllRequests:function e(t){if(this._fullRequestReader){this._fullRequestReader.cancel(t)}var r=this._rangeReaders.slice(0);r.forEach(function(e){e.cancel(t)});this._pdfDataRangeTransport.abort()}};function r(e,t){this._stream=e;this._done=false;this._queuedChunks=t||[];this._requests=[];this._headersReady=Promise.resolve();e._fullRequestReader=this;this.onProgress=null}r.prototype={_enqueue:function e(t){if(this._done){return}if(this._requests.length>0){var r=this._requests.shift();r.resolve({value:t,done:false});return}this._queuedChunks.push(t)},get headersReady(){return this._headersReady},get isRangeSupported(){return this._stream._isRangeSupported},get isStreamingSupported(){return this._stream._isStreamingSupported},get contentLength(){return this._stream._contentLength},read:function e(){if(this._queuedChunks.length>0){var t=this._queuedChunks.shift();return Promise.resolve({value:t,done:false})}if(this._done){return Promise.resolve({value:undefined,done:true})}var r=(0,i.createPromiseCapability)();this._requests.push(r);return r.promise},cancel:function e(t){this._done=true;this._requests.forEach(function(e){e.resolve({value:undefined,done:true})});this._requests=[]}};function a(e,t,r){this._stream=e;this._begin=t;this._end=r;this._queuedChunk=null;this._requests=[];this._done=false;this.onProgress=null}a.prototype={_enqueue:function e(t){if(this._done){return}if(this._requests.length===0){this._queuedChunk=t}else{var r=this._requests.shift();r.resolve({value:t,done:false});this._requests.forEach(function(e){e.resolve({value:undefined,done:true})});this._requests=[]}this._done=true;this._stream._removeRangeReader(this)},get isStreamingSupported(){return false},read:function e(){if(this._queuedChunk){var t=this._queuedChunk;this._queuedChunk=null;return Promise.resolve({value:t,done:false})}if(this._done){return Promise.resolve({value:undefined,done:true})}var r=(0,i.createPromiseCapability)();this._requests.push(r);return r.promise},cancel:function e(t){this._done=true;this._requests.forEach(function(e){e.resolve({value:undefined,done:true})});this._requests=[];this._stream._removeRangeReader(this)}};return t}();t.PDFDataTransportStream=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.PDFNodeStream=undefined;var n=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(e,t,r){if(t)n(e.prototype,t);if(r)n(e,r);return e}}();var a=r(0);var o=r(38);function u(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function i(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}function l(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var s=require("fs");var c=require("http");var f=require("https");var d=require("url");var h=function(){function t(e){l(this,t);this.options=e;this.source=e.source;this.url=d.parse(this.source.url);this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:";this.isFsUrl=this.url.protocol==="file:"||!this.url.host;this.httpHeaders=this.isHttp&&this.source.httpHeaders||{};this._fullRequest=null;this._rangeRequestReaders=[]}n(t,[{key:"getFullReader",value:function e(){(0,a.assert)(!this._fullRequest);this._fullRequest=this.isFsUrl?new _(this):new g(this);return this._fullRequest}},{key:"getRangeReader",value:function e(t,r){var n=this.isFsUrl?new y(this,t,r):new b(this,t,r);this._rangeRequestReaders.push(n);return n}},{key:"cancelAllRequests",value:function e(t){if(this._fullRequest){this._fullRequest.cancel(t)}var r=this._rangeRequestReaders.slice(0);r.forEach(function(e){e.cancel(t)})}}]);return t}();var v=function(){function t(e){l(this,t);this._url=e.url;this._done=false;this._errored=false;this._reason=null;this.onProgress=null;this._contentLength=e.source.length;this._loaded=0;this._disableRange=e.options.disableRange||false;this._rangeChunkSize=e.source.rangeChunkSize;if(!this._rangeChunkSize&&!this._disableRange){this._disableRange=true}this._isStreamingSupported=!e.source.disableStream;this._isRangeSupported=!e.options.disableRange;this._readableStream=null;this._readCapability=(0,a.createPromiseCapability)();this._headersCapability=(0,a.createPromiseCapability)()}n(t,[{key:"read",value:function e(){var r=this;return this._readCapability.promise.then(function(){if(r._done){return Promise.resolve({value:undefined,done:true})}if(r._errored){return Promise.reject(r._reason)}var e=r._readableStream.read();if(e===null){r._readCapability=(0,a.createPromiseCapability)();return r.read()}r._loaded+=e.length;if(r.onProgress){r.onProgress({loaded:r._loaded,total:r._contentLength})}var t=new Uint8Array(e).buffer;return Promise.resolve({value:t,done:false})})}},{key:"cancel",value:function e(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}},{key:"_error",value:function e(t){this._errored=true;this._reason=t;this._readCapability.resolve()}},{key:"_setReadableStream",value:function e(t){var r=this;this._readableStream=t;t.on("readable",function(){r._readCapability.resolve()});t.on("end",function(){t.destroy();r._done=true;r._readCapability.resolve()});t.on("error",function(e){r._error(e)});if(!this._isStreamingSupported&&this._isRangeSupported){this._error(new a.AbortException("streaming is disabled"))}if(this._errored){this._readableStream.destroy(this._reason)}}},{key:"headersReady",get:function e(){return this._headersCapability.promise}},{key:"contentLength",get:function e(){return this._contentLength}},{key:"isRangeSupported",get:function e(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function e(){return this._isStreamingSupported}}]);return t}();var p=function(){function t(e){l(this,t);this._url=e.url;this._done=false;this._errored=false;this._reason=null;this.onProgress=null;this._loaded=0;this._readableStream=null;this._readCapability=(0,a.createPromiseCapability)();this._isStreamingSupported=!e.source.disableStream}n(t,[{key:"read",value:function e(){var r=this;return this._readCapability.promise.then(function(){if(r._done){return Promise.resolve({value:undefined,done:true})}if(r._errored){return Promise.reject(r._reason)}var e=r._readableStream.read();if(e===null){r._readCapability=(0,a.createPromiseCapability)();return r.read()}r._loaded+=e.length;if(r.onProgress){r.onProgress({loaded:r._loaded})}var t=new Uint8Array(e).buffer;return Promise.resolve({value:t,done:false})})}},{key:"cancel",value:function e(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}},{key:"_error",value:function e(t){this._errored=true;this._reason=t;this._readCapability.resolve()}},{key:"_setReadableStream",value:function e(t){var r=this;this._readableStream=t;t.on("readable",function(){r._readCapability.resolve()});t.on("end",function(){t.destroy();r._done=true;r._readCapability.resolve()});t.on("error",function(e){r._error(e)});if(this._errored){this._readableStream.destroy(this._reason)}}},{key:"isStreamingSupported",get:function e(){return this._isStreamingSupported}}]);return t}();function m(e,t){return{protocol:e.protocol,auth:e.auth,host:e.hostname,port:e.port,path:e.path,method:"GET",headers:t}}var g=function(e){i(t,e);function t(i){l(this,t);var s=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,i));var e=function e(t){s._headersCapability.resolve();s._setReadableStream(t);var r=(0,o.validateRangeRequestCapabilities)({getResponseHeader:function e(t){return s._readableStream.headers[t.toLowerCase()]},isHttp:i.isHttp,rangeChunkSize:s._rangeChunkSize,disableRange:s._disableRange}),n=r.allowRangeRequests,a=r.suggestedLength;if(n){s._isRangeSupported=true}s._contentLength=a};s._request=null;if(s._url.protocol==="http:"){s._request=c.request(m(s._url,i.httpHeaders),e)}else{s._request=f.request(m(s._url,i.httpHeaders),e)}s._request.on("error",function(e){s._errored=true;s._reason=e;s._headersCapability.reject(e)});s._request.end();return s}return t}(v);var b=function(e){i(s,e);function s(e,t,r){l(this,s);var n=u(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,e));n._httpHeaders={};for(var a in e.httpHeaders){var i=e.httpHeaders[a];if(typeof i==="undefined"){continue}n._httpHeaders[a]=i}n._httpHeaders["Range"]="bytes="+t+"-"+(r-1);n._request=null;if(n._url.protocol==="http:"){n._request=c.request(m(n._url,n._httpHeaders),function(e){n._setReadableStream(e)})}else{n._request=f.request(m(n._url,n._httpHeaders),function(e){n._setReadableStream(e)})}n._request.on("error",function(e){n._errored=true;n._reason=e});n._request.end();return n}return s}(p);var _=function(e){i(t,e);function t(e){l(this,t);var r=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));var n=decodeURI(r._url.path);s.lstat(n,function(e,t){if(e){r._errored=true;r._reason=e;r._headersCapability.reject(e);return}r._contentLength=t.size;r._setReadableStream(s.createReadStream(n));r._headersCapability.resolve()});return r}return t}(v);var y=function(e){i(a,e);function a(e,t,r){l(this,a);var n=u(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e));n._setReadableStream(s.createReadStream(decodeURI(n._url.path),{start:t,end:r-1}));return n}return a}(p);t.PDFNodeStream=h},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.PDFFetchStream=undefined;var a=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(e,t,r){if(t)n(e.prototype,t);if(r)n(e,r);return e}}();var l=r(0);var c=r(38);function f(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function d(e,t){return{method:"GET",headers:e,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}var n=function(){function t(e){f(this,t);this.options=e;this.source=e.source;this.isHttp=/^https?:/i.test(this.source.url);this.httpHeaders=this.isHttp&&this.source.httpHeaders||{};this._fullRequestReader=null;this._rangeRequestReaders=[]}a(t,[{key:"getFullReader",value:function e(){(0,l.assert)(!this._fullRequestReader);this._fullRequestReader=new i(this);return this._fullRequestReader}},{key:"getRangeReader",value:function e(t,r){var n=new s(this,t,r);this._rangeRequestReaders.push(n);return n}},{key:"cancelAllRequests",value:function e(t){if(this._fullRequestReader){this._fullRequestReader.cancel(t)}var r=this._rangeRequestReaders.slice(0);r.forEach(function(e){e.cancel(t)})}}]);return t}();var i=function(){function n(e){var a=this;f(this,n);this._stream=e;this._reader=null;this._loaded=0;this._withCredentials=e.source.withCredentials;this._contentLength=this._stream.source.length;this._headersCapability=(0,l.createPromiseCapability)();this._disableRange=this._stream.options.disableRange;this._rangeChunkSize=this._stream.source.rangeChunkSize;if(!this._rangeChunkSize&&!this._disableRange){this._disableRange=true}this._isRangeSupported=!this._stream.options.disableRange;this._isStreamingSupported=!this._stream.source.disableStream;this._headers=new Headers;for(var t in this._stream.httpHeaders){var r=this._stream.httpHeaders[t];if(typeof r==="undefined"){continue}this._headers.append(t,r)}var i=this._stream.source.url;fetch(i,d(this._headers,this._withCredentials)).then(function(r){if(!(0,c.validateResponseStatus)(r.status)){throw(0,c.createResponseStatusError)(r.status,i)}a._reader=r.body.getReader();a._headersCapability.resolve();var e=(0,c.validateRangeRequestCapabilities)({getResponseHeader:function e(t){return r.headers.get(t)},isHttp:a._stream.isHttp,rangeChunkSize:a._rangeChunkSize,disableRange:a._disableRange}),t=e.allowRangeRequests,n=e.suggestedLength;a._contentLength=n;a._isRangeSupported=t;if(!a._isStreamingSupported&&a._isRangeSupported){a.cancel(new l.AbortException("streaming is disabled"))}}).catch(this._headersCapability.reject);this.onProgress=null}a(n,[{key:"read",value:function e(){var a=this;return this._headersCapability.promise.then(function(){return a._reader.read().then(function(e){var t=e.value,r=e.done;if(r){return Promise.resolve({value:t,done:r})}a._loaded+=t.byteLength;if(a.onProgress){a.onProgress({loaded:a._loaded,total:a._contentLength})}var n=new Uint8Array(t).buffer;return Promise.resolve({value:n,done:false})})})}},{key:"cancel",value:function e(t){if(this._reader){this._reader.cancel(t)}}},{key:"headersReady",get:function e(){return this._headersCapability.promise}},{key:"contentLength",get:function e(){return this._contentLength}},{key:"isRangeSupported",get:function e(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function e(){return this._isStreamingSupported}}]);return n}();var s=function(){function u(e,t,r){var n=this;f(this,u);this._stream=e;this._reader=null;this._loaded=0;this._withCredentials=e.source.withCredentials;this._readCapability=(0,l.createPromiseCapability)();this._isStreamingSupported=!e.source.disableStream;this._headers=new Headers;for(var a in this._stream.httpHeaders){var i=this._stream.httpHeaders[a];if(typeof i==="undefined"){continue}this._headers.append(a,i)}var s=t+"-"+(r-1);this._headers.append("Range","bytes="+s);var o=this._stream.source.url;fetch(o,d(this._headers,this._withCredentials)).then(function(e){if(!(0,c.validateResponseStatus)(e.status)){throw(0,c.createResponseStatusError)(e.status,o)}n._readCapability.resolve();n._reader=e.body.getReader()});this.onProgress=null}a(u,[{key:"read",value:function e(){var a=this;return this._readCapability.promise.then(function(){return a._reader.read().then(function(e){var t=e.value,r=e.done;if(r){return Promise.resolve({value:t,done:r})}a._loaded+=t.byteLength;if(a.onProgress){a.onProgress({loaded:a._loaded})}var n=new Uint8Array(t).buffer;return Promise.resolve({value:n,done:false})})})}},{key:"cancel",value:function e(t){if(this._reader){this._reader.cancel(t)}}},{key:"isStreamingSupported",get:function e(){return this._isStreamingSupported}}]);return u}();t.PDFFetchStream=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.NetworkManager=t.PDFNetworkStream=undefined;var a=r(0);var o=r(38);var n=r(14);var i=s(n);function s(e){return e&&e.__esModule?e:{default:e}}var f=200;var d=206;function u(e,t){this.url=e;t=t||{};this.isHttp=/^https?:/i.test(e);this.httpHeaders=this.isHttp&&t.httpHeaders||{};this.withCredentials=t.withCredentials||false;this.getXhr=t.getXhr||function e(){return new XMLHttpRequest};this.currXhrId=0;this.pendingRequests=Object.create(null);this.loadedRequests=Object.create(null)}function h(e){var t=e.response;if(typeof t!=="string"){return t}var r=(0,a.stringToBytes)(t);return r.buffer}var l=function e(){try{var t=new XMLHttpRequest;t.open("GET",i.default.location.href);t.responseType="moz-chunked-arraybuffer";return t.responseType==="moz-chunked-arraybuffer"}catch(e){return false}}();u.prototype={requestRange:function e(t,r,n){var a={begin:t,end:r};for(var i in n){a[i]=n[i]}return this.request(a)},requestFull:function e(t){return this.request(t)},request:function e(t){var r=this.getXhr();var n=this.currXhrId++;var a=this.pendingRequests[n]={xhr:r};r.open("GET",this.url);r.withCredentials=this.withCredentials;for(var i in this.httpHeaders){var s=this.httpHeaders[i];if(typeof s==="undefined"){continue}r.setRequestHeader(i,s)}if(this.isHttp&&"begin"in t&&"end"in t){var o=t.begin+"-"+(t.end-1);r.setRequestHeader("Range","bytes="+o);a.expectedStatus=206}else{a.expectedStatus=200}var u=l&&!!t.onProgressiveData;if(u){r.responseType="moz-chunked-arraybuffer";a.onProgressiveData=t.onProgressiveData;a.mozChunked=true}else{r.responseType="arraybuffer"}if(t.onError){r.onerror=function(e){t.onError(r.status)}}r.onreadystatechange=this.onStateChange.bind(this,n);r.onprogress=this.onProgress.bind(this,n);a.onHeadersReceived=t.onHeadersReceived;a.onDone=t.onDone;a.onError=t.onError;a.onProgress=t.onProgress;r.send(null);return n},onProgress:function e(t,r){var n=this.pendingRequests[t];if(!n){return}if(n.mozChunked){var a=h(n.xhr);n.onProgressiveData(a)}var i=n.onProgress;if(i){i(r)}},onStateChange:function e(t,r){var n=this.pendingRequests[t];if(!n){return}var a=n.xhr;if(a.readyState>=2&&n.onHeadersReceived){n.onHeadersReceived();delete n.onHeadersReceived}if(a.readyState!==4){return}if(!(t in this.pendingRequests)){return}delete this.pendingRequests[t];if(a.status===0&&this.isHttp){if(n.onError){n.onError(a.status)}return}var i=a.status||f;var s=i===f&&n.expectedStatus===d;if(!s&&i!==n.expectedStatus){if(n.onError){n.onError(a.status)}return}this.loadedRequests[t]=true;var o=h(a);if(i===d){var u=a.getResponseHeader("Content-Range");var l=/bytes (\d+)-(\d+)\/(\d+)/.exec(u);var c=parseInt(l[1],10);n.onDone({begin:c,chunk:o})}else if(n.onProgressiveData){n.onDone(null)}else if(o){n.onDone({begin:0,chunk:o})}else if(n.onError){n.onError(a.status)}},hasPendingRequests:function e(){for(var t in this.pendingRequests){return true}return false},getRequestXhr:function e(t){return this.pendingRequests[t].xhr},isStreamingRequest:function e(t){return!!this.pendingRequests[t].onProgressiveData},isPendingRequest:function e(t){return t in this.pendingRequests},isLoadedRequest:function e(t){return t in this.loadedRequests},abortAllRequests:function e(){for(var t in this.pendingRequests){this.abortRequest(t|0)}},abortRequest:function e(t){var r=this.pendingRequests[t].xhr;delete this.pendingRequests[t];r.abort()}};function c(e){this._options=e;var t=e.source;this._manager=new u(t.url,{httpHeaders:t.httpHeaders,withCredentials:t.withCredentials});this._rangeChunkSize=t.rangeChunkSize;this._fullRequestReader=null;this._rangeRequestReaders=[]}c.prototype={_onRangeRequestReaderClosed:function e(t){var r=this._rangeRequestReaders.indexOf(t);if(r>=0){this._rangeRequestReaders.splice(r,1)}},getFullReader:function e(){(0,a.assert)(!this._fullRequestReader);this._fullRequestReader=new v(this._manager,this._options);return this._fullRequestReader},getRangeReader:function e(t,r){var n=new p(this._manager,t,r);n.onClosed=this._onRangeRequestReaderClosed.bind(this);this._rangeRequestReaders.push(n);return n},cancelAllRequests:function e(t){if(this._fullRequestReader){this._fullRequestReader.cancel(t)}var r=this._rangeRequestReaders.slice(0);r.forEach(function(e){e.cancel(t)})}};function v(e,t){this._manager=e;var r=t.source;var n={onHeadersReceived:this._onHeadersReceived.bind(this),onProgressiveData:r.disableStream?null:this._onProgressiveData.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=r.url;this._fullRequestId=e.requestFull(n);this._headersReceivedCapability=(0,a.createPromiseCapability)();this._disableRange=t.disableRange||false;this._contentLength=r.length;this._rangeChunkSize=r.rangeChunkSize;if(!this._rangeChunkSize&&!this._disableRange){this._disableRange=true}this._isStreamingSupported=false;this._isRangeSupported=false;this._cachedChunks=[];this._requests=[];this._done=false;this._storedError=undefined;this.onProgress=null}v.prototype={_onHeadersReceived:function e(){var t=this._fullRequestId;var r=this._manager.getRequestXhr(t);var n=(0,o.validateRangeRequestCapabilities)({getResponseHeader:function e(t){return r.getResponseHeader(t)},isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange}),a=n.allowRangeRequests,i=n.suggestedLength;this._contentLength=i||this._contentLength;if(a){this._isRangeSupported=true}var s=this._manager;if(s.isStreamingRequest(t)){this._isStreamingSupported=true}else if(this._isRangeSupported){s.abortRequest(t)}this._headersReceivedCapability.resolve()},_onProgressiveData:function e(t){if(this._requests.length>0){var r=this._requests.shift();r.resolve({value:t,done:false})}else{this._cachedChunks.push(t)}},_onDone:function e(t){if(t){this._onProgressiveData(t.chunk)}this._done=true;if(this._cachedChunks.length>0){return}this._requests.forEach(function(e){e.resolve({value:undefined,done:true})});this._requests=[]},_onError:function e(t){var r=this._url;var n=(0,o.createResponseStatusError)(t,r);this._storedError=n;this._headersReceivedCapability.reject(n);this._requests.forEach(function(e){e.reject(n)});this._requests=[];this._cachedChunks=[]},_onProgress:function e(t){if(this.onProgress){this.onProgress({loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}},get isRangeSupported(){return this._isRangeSupported},get isStreamingSupported(){return this._isStreamingSupported},get contentLength(){return this._contentLength},get headersReady(){return this._headersReceivedCapability.promise},read:function e(){if(this._storedError){return Promise.reject(this._storedError)}if(this._cachedChunks.length>0){var t=this._cachedChunks.shift();return Promise.resolve({value:t,done:false})}if(this._done){return Promise.resolve({value:undefined,done:true})}var r=(0,a.createPromiseCapability)();this._requests.push(r);return r.promise},cancel:function e(t){this._done=true;this._headersReceivedCapability.reject(t);this._requests.forEach(function(e){e.resolve({value:undefined,done:true})});this._requests=[];if(this._manager.isPendingRequest(this._fullRequestId)){this._manager.abortRequest(this._fullRequestId)}this._fullRequestReader=null}};function p(e,t,r){this._manager=e;var n={onDone:this._onDone.bind(this),onProgress:this._onProgress.bind(this)};this._requestId=e.requestRange(t,r,n);this._requests=[];this._queuedChunk=null;this._done=false;this.onProgress=null;this.onClosed=null}p.prototype={_close:function e(){if(this.onClosed){this.onClosed(this)}},_onDone:function e(t){var r=t.chunk;if(this._requests.length>0){var n=this._requests.shift();n.resolve({value:r,done:false})}else{this._queuedChunk=r}this._done=true;this._requests.forEach(function(e){e.resolve({value:undefined,done:true})});this._requests=[];this._close()},_onProgress:function e(t){if(!this.isStreamingSupported&&this.onProgress){this.onProgress({loaded:t.loaded})}},get isStreamingSupported(){return false},read:function e(){if(this._queuedChunk!==null){var t=this._queuedChunk;this._queuedChunk=null;return Promise.resolve({value:t,done:false})}if(this._done){return Promise.resolve({value:undefined,done:true})}var r=(0,a.createPromiseCapability)();this._requests.push(r);return r.promise},cancel:function e(t){this._done=true;this._requests.forEach(function(e){e.resolve({value:undefined,done:true})});this._requests=[];if(this._manager.isPendingRequest(this._requestId)){this._manager.abortRequest(this._requestId)}this._close()}};t.PDFNetworkStream=c;t.NetworkManager=u}])});